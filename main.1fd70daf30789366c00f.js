(window.webpackJsonp=window.webpackJsonp||[]).push([[1],{"/o+h":function(t,e,n){"use strict";n.r(e);var r=function(t,e){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};function i(t,e){function n(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=function(){return(o=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)};function a(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function s(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function u(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(s(arguments[e]));return t}var c=function(){return Array.isArray||function(t){return t&&"number"==typeof t.length}}();function l(t){return null!==t&&"object"==typeof t}function d(t){return"function"==typeof t}var p=function(){function t(t){return Error.call(this),this.message=t?t.length+" errors occurred during unsubscription:\n"+t.map((function(t,e){return e+1+") "+t.toString()})).join("\n  "):"",this.name="UnsubscriptionError",this.errors=t,this}return t.prototype=Object.create(Error.prototype),t}(),f=function(){function t(t){this.closed=!1,this._parentOrParents=null,this._subscriptions=null,t&&(this._unsubscribe=t)}return t.prototype.unsubscribe=function(){var e;if(!this.closed){var n=this._parentOrParents,r=this._unsubscribe,i=this._subscriptions;if(this.closed=!0,this._parentOrParents=null,this._subscriptions=null,n instanceof t)n.remove(this);else if(null!==n)for(var o=0;o<n.length;++o)n[o].remove(this);if(d(r))try{r.call(this)}catch(u){e=u instanceof p?h(u.errors):[u]}if(c(i)){o=-1;for(var a=i.length;++o<a;){var s=i[o];if(l(s))try{s.unsubscribe()}catch(u){e=e||[],u instanceof p?e=e.concat(h(u.errors)):e.push(u)}}}if(e)throw new p(e)}},t.prototype.add=function(e){var n=e;if(!e)return t.EMPTY;switch(typeof e){case"function":n=new t(e);case"object":if(n===this||n.closed||"function"!=typeof n.unsubscribe)return n;if(this.closed)return n.unsubscribe(),n;if(!(n instanceof t)){var r=n;(n=new t)._subscriptions=[r]}break;default:throw new Error("unrecognized teardown "+e+" added to Subscription.")}var i=n._parentOrParents;if(null===i)n._parentOrParents=this;else if(i instanceof t){if(i===this)return n;n._parentOrParents=[i,this]}else{if(-1!==i.indexOf(this))return n;i.push(this)}var o=this._subscriptions;return null===o?this._subscriptions=[n]:o.push(n),n},t.prototype.remove=function(t){var e=this._subscriptions;if(e){var n=e.indexOf(t);-1!==n&&e.splice(n,1)}},t.EMPTY=function(t){return t.closed=!0,t}(new t),t}();function h(t){return t.reduce((function(t,e){return t.concat(e instanceof p?e.errors:e)}),[])}var m=!1,v={Promise:void 0,set useDeprecatedSynchronousErrorHandling(t){m=t},get useDeprecatedSynchronousErrorHandling(){return m}};function g(t){setTimeout((function(){throw t}),0)}var y={closed:!0,next:function(t){},error:function(t){if(v.useDeprecatedSynchronousErrorHandling)throw t;g(t)},complete:function(){}},b=function(){return"function"==typeof Symbol?Symbol("rxSubscriber"):"@@rxSubscriber_"+Math.random()}(),w=function(t){function e(n,r,i){var o=t.call(this)||this;switch(o.syncErrorValue=null,o.syncErrorThrown=!1,o.syncErrorThrowable=!1,o.isStopped=!1,arguments.length){case 0:o.destination=y;break;case 1:if(!n){o.destination=y;break}if("object"==typeof n){n instanceof e?(o.syncErrorThrowable=n.syncErrorThrowable,o.destination=n,n.add(o)):(o.syncErrorThrowable=!0,o.destination=new x(o,n));break}default:o.syncErrorThrowable=!0,o.destination=new x(o,n,r,i)}return o}return i(e,t),e.prototype[b]=function(){return this},e.create=function(t,n,r){var i=new e(t,n,r);return i.syncErrorThrowable=!1,i},e.prototype.next=function(t){this.isStopped||this._next(t)},e.prototype.error=function(t){this.isStopped||(this.isStopped=!0,this._error(t))},e.prototype.complete=function(){this.isStopped||(this.isStopped=!0,this._complete())},e.prototype.unsubscribe=function(){this.closed||(this.isStopped=!0,t.prototype.unsubscribe.call(this))},e.prototype._next=function(t){this.destination.next(t)},e.prototype._error=function(t){this.destination.error(t),this.unsubscribe()},e.prototype._complete=function(){this.destination.complete(),this.unsubscribe()},e.prototype._unsubscribeAndRecycle=function(){var t=this._parentOrParents;return this._parentOrParents=null,this.unsubscribe(),this.closed=!1,this.isStopped=!1,this._parentOrParents=t,this},e}(f),x=function(t){function e(e,n,r,i){var o,a=t.call(this)||this;a._parentSubscriber=e;var s=a;return d(n)?o=n:n&&(o=n.next,r=n.error,i=n.complete,n!==y&&(d((s=Object.create(n)).unsubscribe)&&a.add(s.unsubscribe.bind(s)),s.unsubscribe=a.unsubscribe.bind(a))),a._context=s,a._next=o,a._error=r,a._complete=i,a}return i(e,t),e.prototype.next=function(t){if(!this.isStopped&&this._next){var e=this._parentSubscriber;v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?this.__tryOrSetError(e,this._next,t)&&this.unsubscribe():this.__tryOrUnsub(this._next,t)}},e.prototype.error=function(t){if(!this.isStopped){var e=this._parentSubscriber,n=v.useDeprecatedSynchronousErrorHandling;if(this._error)n&&e.syncErrorThrowable?(this.__tryOrSetError(e,this._error,t),this.unsubscribe()):(this.__tryOrUnsub(this._error,t),this.unsubscribe());else if(e.syncErrorThrowable)n?(e.syncErrorValue=t,e.syncErrorThrown=!0):g(t),this.unsubscribe();else{if(this.unsubscribe(),n)throw t;g(t)}}},e.prototype.complete=function(){var t=this;if(!this.isStopped){var e=this._parentSubscriber;if(this._complete){var n=function(){return t._complete.call(t._context)};v.useDeprecatedSynchronousErrorHandling&&e.syncErrorThrowable?(this.__tryOrSetError(e,n),this.unsubscribe()):(this.__tryOrUnsub(n),this.unsubscribe())}else this.unsubscribe()}},e.prototype.__tryOrUnsub=function(t,e){try{t.call(this._context,e)}catch(n){if(this.unsubscribe(),v.useDeprecatedSynchronousErrorHandling)throw n;g(n)}},e.prototype.__tryOrSetError=function(t,e,n){if(!v.useDeprecatedSynchronousErrorHandling)throw new Error("bad call");try{e.call(this._context,n)}catch(r){return v.useDeprecatedSynchronousErrorHandling?(t.syncErrorValue=r,t.syncErrorThrown=!0,!0):(g(r),!0)}return!1},e.prototype._unsubscribe=function(){var t=this._parentSubscriber;this._context=null,this._parentSubscriber=null,t.unsubscribe()},e}(w),_=function(){return"function"==typeof Symbol&&Symbol.observable||"@@observable"}();function C(t){return t}function S(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return I(t)}function I(t){return 0===t.length?C:1===t.length?t[0]:function(e){return t.reduce((function(t,e){return e(t)}),e)}}var k=function(){function t(t){this._isScalar=!1,t&&(this._subscribe=t)}return t.prototype.lift=function(e){var n=new t;return n.source=this,n.operator=e,n},t.prototype.subscribe=function(t,e,n){var r=this.operator,i=function(t,e,n){if(t){if(t instanceof w)return t;if(t[b])return t[b]()}return t||e||n?new w(t,e,n):new w(y)}(t,e,n);if(i.add(r?r.call(i,this.source):this.source||v.useDeprecatedSynchronousErrorHandling&&!i.syncErrorThrowable?this._subscribe(i):this._trySubscribe(i)),v.useDeprecatedSynchronousErrorHandling&&i.syncErrorThrowable&&(i.syncErrorThrowable=!1,i.syncErrorThrown))throw i.syncErrorValue;return i},t.prototype._trySubscribe=function(t){try{return this._subscribe(t)}catch(e){v.useDeprecatedSynchronousErrorHandling&&(t.syncErrorThrown=!0,t.syncErrorValue=e),function(t){for(;t;){var e=t.destination;if(t.closed||t.isStopped)return!1;t=e&&e instanceof w?e:null}return!0}(t)?t.error(e):console.warn(e)}},t.prototype.forEach=function(t,e){var n=this;return new(e=T(e))((function(e,r){var i;i=n.subscribe((function(e){try{t(e)}catch(n){r(n),i&&i.unsubscribe()}}),r,e)}))},t.prototype._subscribe=function(t){var e=this.source;return e&&e.subscribe(t)},t.prototype[_]=function(){return this},t.prototype.pipe=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return 0===t.length?this:I(t)(this)},t.prototype.toPromise=function(t){var e=this;return new(t=T(t))((function(t,n){var r;e.subscribe((function(t){return r=t}),(function(t){return n(t)}),(function(){return t(r)}))}))},t.create=function(e){return new t(e)},t}();function T(t){if(t||(t=v.Promise||Promise),!t)throw new Error("no Promise impl found");return t}var E=function(){function t(){return Error.call(this),this.message="object unsubscribed",this.name="ObjectUnsubscribedError",this}return t.prototype=Object.create(Error.prototype),t}(),A=function(t){function e(e,n){var r=t.call(this)||this;return r.subject=e,r.subscriber=n,r.closed=!1,r}return i(e,t),e.prototype.unsubscribe=function(){if(!this.closed){this.closed=!0;var t=this.subject,e=t.observers;if(this.subject=null,e&&0!==e.length&&!t.isStopped&&!t.closed){var n=e.indexOf(this.subscriber);-1!==n&&e.splice(n,1)}}},e}(f),O=function(t){function e(e){var n=t.call(this,e)||this;return n.destination=e,n}return i(e,t),e}(w),P=function(t){function e(){var e=t.call(this)||this;return e.observers=[],e.closed=!1,e.isStopped=!1,e.hasError=!1,e.thrownError=null,e}return i(e,t),e.prototype[b]=function(){return new O(this)},e.prototype.lift=function(t){var e=new D(this,this);return e.operator=t,e},e.prototype.next=function(t){if(this.closed)throw new E;if(!this.isStopped)for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].next(t)},e.prototype.error=function(t){if(this.closed)throw new E;this.hasError=!0,this.thrownError=t,this.isStopped=!0;for(var e=this.observers,n=e.length,r=e.slice(),i=0;i<n;i++)r[i].error(t);this.observers.length=0},e.prototype.complete=function(){if(this.closed)throw new E;this.isStopped=!0;for(var t=this.observers,e=t.length,n=t.slice(),r=0;r<e;r++)n[r].complete();this.observers.length=0},e.prototype.unsubscribe=function(){this.isStopped=!0,this.closed=!0,this.observers=null},e.prototype._trySubscribe=function(e){if(this.closed)throw new E;return t.prototype._trySubscribe.call(this,e)},e.prototype._subscribe=function(t){if(this.closed)throw new E;return this.hasError?(t.error(this.thrownError),f.EMPTY):this.isStopped?(t.complete(),f.EMPTY):(this.observers.push(t),new A(this,t))},e.prototype.asObservable=function(){var t=new k;return t.source=this,t},e.create=function(t,e){return new D(t,e)},e}(k),D=function(t){function e(e,n){var r=t.call(this)||this;return r.destination=e,r.source=n,r}return i(e,t),e.prototype.next=function(t){var e=this.destination;e&&e.next&&e.next(t)},e.prototype.error=function(t){var e=this.destination;e&&e.error&&this.destination.error(t)},e.prototype.complete=function(){var t=this.destination;t&&t.complete&&this.destination.complete()},e.prototype._subscribe=function(t){return this.source?this.source.subscribe(t):f.EMPTY},e}(P);function M(t){return t&&"function"==typeof t.schedule}var R=function(t){function e(e,n,r){var i=t.call(this)||this;return i.parent=e,i.outerValue=n,i.outerIndex=r,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.parent.notifyNext(this.outerValue,t,this.outerIndex,this.index++,this)},e.prototype._error=function(t){this.parent.notifyError(t,this),this.unsubscribe()},e.prototype._complete=function(){this.parent.notifyComplete(this),this.unsubscribe()},e}(w),N=function(t){return function(e){for(var n=0,r=t.length;n<r&&!e.closed;n++)e.next(t[n]);e.complete()}};function V(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}var j=V(),z=function(t){return t&&"number"==typeof t.length&&"function"!=typeof t};function L(t){return!!t&&"function"!=typeof t.subscribe&&"function"==typeof t.then}var F=function(t){if(t&&"function"==typeof t[_])return r=t,function(t){var e=r[_]();if("function"!=typeof e.subscribe)throw new TypeError("Provided object does not correctly implement Symbol.observable");return e.subscribe(t)};if(z(t))return N(t);if(L(t))return n=t,function(t){return n.then((function(e){t.closed||(t.next(e),t.complete())}),(function(e){return t.error(e)})).then(null,g),t};if(t&&"function"==typeof t[j])return e=t,function(t){for(var n=e[j]();;){var r=n.next();if(r.done){t.complete();break}if(t.next(r.value),t.closed)break}return"function"==typeof n.return&&t.add((function(){n.return&&n.return()})),t};var e,n,r,i=l(t)?"an invalid object":"'"+t+"'";throw new TypeError("You provided "+i+" where a stream was expected. You can provide an Observable, Promise, Array, or Iterable.")};function U(t,e,n,r,i){if(void 0===i&&(i=new R(t,n,r)),!i.closed)return e instanceof k?e.subscribe(i):F(e)(i)}var H=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyError=function(t,e){this.destination.error(t)},e.prototype.notifyComplete=function(t){this.destination.complete()},e}(w);function B(t,e){return function(n){if("function"!=typeof t)throw new TypeError("argument is not a function. Are you looking for `mapTo()`?");return n.lift(new $(t,e))}}var $=function(){function t(t,e){this.project=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new q(t,this.project,this.thisArg))},t}(),q=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.project=n,i.count=0,i.thisArg=r||i,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.project.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(w);function W(t,e){return new k((function(n){var r=new f,i=0;return r.add(e.schedule((function(){i!==t.length?(n.next(t[i++]),n.closed||r.add(this.schedule())):n.complete()}))),r}))}function G(t,e){return e?function(t,e){if(null!=t){if(function(t){return t&&"function"==typeof t[_]}(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){var i=t[_]();r.add(i.subscribe({next:function(t){r.add(e.schedule((function(){return n.next(t)})))},error:function(t){r.add(e.schedule((function(){return n.error(t)})))},complete:function(){r.add(e.schedule((function(){return n.complete()})))}}))}))),r}))}(t,e);if(L(t))return function(t,e){return new k((function(n){var r=new f;return r.add(e.schedule((function(){return t.then((function(t){r.add(e.schedule((function(){n.next(t),r.add(e.schedule((function(){return n.complete()})))})))}),(function(t){r.add(e.schedule((function(){return n.error(t)})))}))}))),r}))}(t,e);if(z(t))return W(t,e);if(function(t){return t&&"function"==typeof t[j]}(t)||"string"==typeof t)return function(t,e){if(!t)throw new Error("Iterable cannot be null");return new k((function(n){var r,i=new f;return i.add((function(){r&&"function"==typeof r.return&&r.return()})),i.add(e.schedule((function(){r=t[j](),i.add(e.schedule((function(){if(!n.closed){var t,e;try{var i=r.next();t=i.value,e=i.done}catch(o){return void n.error(o)}e?n.complete():(n.next(t),this.schedule())}})))}))),i}))}(t,e)}throw new TypeError((null!==t&&typeof t||t)+" is not observable")}(t,e):t instanceof k?t:new k(F(t))}function Z(t,e,n){return void 0===n&&(n=Number.POSITIVE_INFINITY),"function"==typeof e?function(r){return r.pipe(Z((function(n,r){return G(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))}),n))}:("number"==typeof e&&(n=e),function(e){return e.lift(new X(t,n))})}var X=function(){function t(t,e){void 0===e&&(e=Number.POSITIVE_INFINITY),this.project=t,this.concurrent=e}return t.prototype.call=function(t,e){return e.subscribe(new Q(t,this.project,this.concurrent))},t}(),Q=function(t){function e(e,n,r){void 0===r&&(r=Number.POSITIVE_INFINITY);var i=t.call(this,e)||this;return i.project=n,i.concurrent=r,i.hasCompleted=!1,i.buffer=[],i.active=0,i.index=0,i}return i(e,t),e.prototype._next=function(t){this.active<this.concurrent?this._tryNext(t):this.buffer.push(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this.active++,this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=new R(this,e,n),i=this.destination;i.add(r);var o=U(this,t,void 0,void 0,r);o!==r&&i.add(o)},e.prototype._complete=function(){this.hasCompleted=!0,0===this.active&&0===this.buffer.length&&this.destination.complete(),this.unsubscribe()},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e.prototype.notifyComplete=function(t){var e=this.buffer;this.remove(t),this.active--,e.length>0?this._next(e.shift()):0===this.active&&this.hasCompleted&&this.destination.complete()},e}(H);function J(t){return void 0===t&&(t=Number.POSITIVE_INFINITY),Z(C,t)}function K(t,e){return e?W(t,e):new k(N(t))}function Y(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Number.POSITIVE_INFINITY,r=null,i=t[t.length-1];return M(i)?(r=t.pop(),t.length>1&&"number"==typeof t[t.length-1]&&(n=t.pop())):"number"==typeof i&&(n=t.pop()),null===r&&1===t.length&&t[0]instanceof k?t[0]:J(n)(K(t,r))}function tt(){return function(t){return t.lift(new et(t))}}var et=function(){function t(t){this.connectable=t}return t.prototype.call=function(t,e){var n=this.connectable;n._refCount++;var r=new nt(t,n),i=e.subscribe(r);return r.closed||(r.connection=n.connect()),i},t}(),nt=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._refCount;if(e<=0)this.connection=null;else if(t._refCount=e-1,e>1)this.connection=null;else{var n=this.connection,r=t._connection;this.connection=null,!r||n&&r!==n||r.unsubscribe()}}else this.connection=null},e}(w),rt=function(t){function e(e,n){var r=t.call(this)||this;return r.source=e,r.subjectFactory=n,r._refCount=0,r._isComplete=!1,r}return i(e,t),e.prototype._subscribe=function(t){return this.getSubject().subscribe(t)},e.prototype.getSubject=function(){var t=this._subject;return t&&!t.isStopped||(this._subject=this.subjectFactory()),this._subject},e.prototype.connect=function(){var t=this._connection;return t||(this._isComplete=!1,(t=this._connection=new f).add(this.source.subscribe(new ot(this.getSubject(),this))),t.closed&&(this._connection=null,t=f.EMPTY)),t},e.prototype.refCount=function(){return tt()(this)},e}(k),it=function(){var t=rt.prototype;return{operator:{value:null},_refCount:{value:0,writable:!0},_subject:{value:null,writable:!0},_connection:{value:null,writable:!0},_subscribe:{value:t._subscribe},_isComplete:{value:t._isComplete,writable:!0},getSubject:{value:t.getSubject},connect:{value:t.connect},refCount:{value:t.refCount}}}(),ot=function(t){function e(e,n){var r=t.call(this,e)||this;return r.connectable=n,r}return i(e,t),e.prototype._error=function(e){this._unsubscribe(),t.prototype._error.call(this,e)},e.prototype._complete=function(){this.connectable._isComplete=!0,this._unsubscribe(),t.prototype._complete.call(this)},e.prototype._unsubscribe=function(){var t=this.connectable;if(t){this.connectable=null;var e=t._connection;t._refCount=0,t._subject=null,t._connection=null,e&&e.unsubscribe()}},e}(O);function at(){return new P}function st(t){return{toString:t}.toString()}var ut="__parameters__";function ct(t,e,n){return st((function(){var r=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(t){var r=t.apply(void 0,u(e));for(var i in r)this[i]=r[i]}}}(e);function i(){for(var t,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this instanceof i)return r.apply(this,e),this;var o=new((t=i).bind.apply(t,u([void 0],e)));return a.annotation=o,a;function a(t,e,n){for(var r=t.hasOwnProperty(ut)?t[ut]:Object.defineProperty(t,ut,{value:[]})[ut];r.length<=n;)r.push(null);return(r[n]=r[n]||[]).push(o),t}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i}))}var lt=ct("Inject",(function(t){return{token:t}})),dt=ct("Optional"),pt=ct("Self"),ft=ct("SkipSelf"),ht=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}({});function mt(t){for(var e in t)if(t[e]===mt)return e;throw Error("Could not find renamed property on target object.")}function vt(t,e){for(var n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function gt(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function yt(t){return{factory:t.factory,providers:t.providers||[],imports:t.imports||[]}}function bt(t){return wt(t,t[_t])||wt(t,t[It])}function wt(t,e){return e&&e.token===t?e:null}function xt(t){return t&&(t.hasOwnProperty(Ct)||t.hasOwnProperty(kt))?t[Ct]:null}var _t=mt({"\u0275prov":mt}),Ct=mt({"\u0275inj":mt}),St=mt({"\u0275provFallback":mt}),It=mt({ngInjectableDef:mt}),kt=mt({ngInjectorDef:mt});function Tt(t){if("string"==typeof t)return t;if(Array.isArray(t))return"["+t.map(Tt).join(", ")+"]";if(null==t)return""+t;if(t.overriddenName)return""+t.overriddenName;if(t.name)return""+t.name;var e=t.toString();if(null==e)return""+e;var n=e.indexOf("\n");return-1===n?e:e.substring(0,n)}function Et(t,e){return null==t||""===t?null===e?"":e:null==e||""===e?t:t+" "+e}var At=mt({__forward_ref__:mt});function Ot(t){return t.__forward_ref__=Ot,t.toString=function(){return Tt(this())},t}function Pt(t){return Dt(t)?t():t}function Dt(t){return"function"==typeof t&&t.hasOwnProperty(At)&&t.__forward_ref__===Ot}var Mt,Rt="undefined"!=typeof globalThis&&globalThis,Nt="undefined"!=typeof window&&window,Vt="undefined"!=typeof self&&"undefined"!=typeof WorkerGlobalScope&&self instanceof WorkerGlobalScope&&self,jt="undefined"!=typeof global&&global,zt=Rt||jt||Nt||Vt,Lt=mt({"\u0275cmp":mt}),Ft=mt({"\u0275dir":mt}),Ut=mt({"\u0275pipe":mt}),Ht=mt({"\u0275mod":mt}),Bt=mt({"\u0275loc":mt}),$t=mt({"\u0275fac":mt}),qt=mt({__NG_ELEMENT_ID__:mt}),Wt=function(){function t(t,e){this._desc=t,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof e?this.__NG_ELEMENT_ID__=e:void 0!==e&&(this.\u0275prov=gt({token:this,providedIn:e.providedIn||"root",factory:e.factory}))}return t.prototype.toString=function(){return"InjectionToken "+this._desc},t}(),Gt=new Wt("INJECTOR",-1),Zt={},Xt=/\n/gm,Qt=mt({provide:String,useValue:mt}),Jt=void 0;function Kt(t){var e=Jt;return Jt=t,e}function Yt(t){var e=Mt;return Mt=t,e}function te(t,e){if(void 0===e&&(e=ht.Default),void 0===Jt)throw new Error("inject() must be called from an injection context");return null===Jt?ne(t,void 0,e):Jt.get(t,e&ht.Optional?null:void 0,e)}function ee(t,e){return void 0===e&&(e=ht.Default),(Mt||te)(Pt(t),e)}function ne(t,e,n){var r=bt(t);if(r&&"root"==r.providedIn)return void 0===r.value?r.value=r.factory():r.value;if(n&ht.Optional)return null;if(void 0!==e)return e;throw new Error("Injector: NOT_FOUND ["+Tt(t)+"]")}function re(t){for(var e=[],n=0;n<t.length;n++){var r=Pt(t[n]);if(Array.isArray(r)){if(0===r.length)throw new Error("Arguments array must have arguments.");for(var i=void 0,o=ht.Default,a=0;a<r.length;a++){var s=r[a];s instanceof dt||"Optional"===s.ngMetadataName||s===dt?o|=ht.Optional:s instanceof ft||"SkipSelf"===s.ngMetadataName||s===ft?o|=ht.SkipSelf:s instanceof pt||"Self"===s.ngMetadataName||s===pt?o|=ht.Self:i=s instanceof lt||s===lt?s.token:s}e.push(ee(i,o))}else e.push(ee(r))}return e}var ie=function(){function t(){}return t.prototype.get=function(t,e){if(void 0===e&&(e=Zt),e===Zt){var n=new Error("NullInjectorError: No provider for "+Tt(t)+"!");throw n.name="NullInjectorError",n}return e},t}();var oe=function(){return function(){}}(),ae=function(){return function(){}}();function se(t,e){t.forEach((function(t){return Array.isArray(t)?se(t,e):e(t)}))}function ue(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function ce(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function le(t,e){for(var n=[],r=0;r<t;r++)n.push(e);return n}function de(t,e,n){var r=fe(t,e);return r>=0?t[1|r]=n:function(t,e,n,r){var i=t.length;if(i==e)t.push(n,r);else if(1===i)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;)t[i]=t[i-2],i--;t[e]=n,t[e+1]=r}}(t,r=~r,e,n),r}function pe(t,e){var n=fe(t,e);if(n>=0)return t[1|n]}function fe(t,e){return function(t,e,n){for(var r=0,i=t.length>>1;i!==r;){var o=r+(i-r>>1),a=t[o<<1];if(e===a)return o<<1;a>e?i=o:r=o+1}return~(i<<1)}(t,e)}var he=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}({}),me=function(t){return t[t.Emulated=0]="Emulated",t[t.Native=1]="Native",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}({}),ve={},ge=[],ye=0;function be(t){return st((function(){var e=t.type,n=e.prototype,r={},i={type:e,providersResolver:null,decls:t.decls,vars:t.vars,factory:null,template:t.template||null,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:r,inputs:null,outputs:null,exportAs:t.exportAs||null,onChanges:null,onInit:n.ngOnInit||null,doCheck:n.ngDoCheck||null,afterContentInit:n.ngAfterContentInit||null,afterContentChecked:n.ngAfterContentChecked||null,afterViewInit:n.ngAfterViewInit||null,afterViewChecked:n.ngAfterViewChecked||null,onDestroy:n.ngOnDestroy||null,onPush:t.changeDetection===he.OnPush,directiveDefs:null,pipeDefs:null,selectors:t.selectors||ge,viewQuery:t.viewQuery||null,features:t.features||null,data:t.data||{},encapsulation:t.encapsulation||me.Emulated,id:"c",styles:t.styles||ge,_:null,setInput:null,schemas:t.schemas||null,tView:null},o=t.directives,a=t.features,s=t.pipes;return i.id+=ye++,i.inputs=Se(t.inputs,r),i.outputs=Se(t.outputs),a&&a.forEach((function(t){return t(i)})),i.directiveDefs=o?function(){return("function"==typeof o?o():o).map(we)}:null,i.pipeDefs=s?function(){return("function"==typeof s?s():s).map(xe)}:null,i}))}function we(t){return ke(t)||function(t){return t[Ft]||null}(t)}function xe(t){return function(t){return t[Ut]||null}(t)}var _e={};function Ce(t){var e={type:t.type,bootstrap:t.bootstrap||ge,declarations:t.declarations||ge,imports:t.imports||ge,exports:t.exports||ge,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null};return null!=t.id&&st((function(){_e[t.id]=t.type})),e}function Se(t,e){if(null==t)return ve;var n={};for(var r in t)if(t.hasOwnProperty(r)){var i=t[r],o=i;Array.isArray(i)&&(o=i[1],i=i[0]),n[i]=r,e&&(e[i]=o)}return n}var Ie=be;function ke(t){return t[Lt]||null}function Te(t,e){return t.hasOwnProperty($t)?t[$t]:null}function Ee(t,e){var n=t[Ht]||null;if(!n&&!0===e)throw new Error("Type "+Tt(t)+" does not have '\u0275mod' property.");return n}function Ae(t){return Array.isArray(t)&&"object"==typeof t[1]}function Oe(t){return Array.isArray(t)&&!0===t[1]}function Pe(t){return 0!=(8&t.flags)}function De(t){return 2==(2&t.flags)}function Me(t){return 1==(1&t.flags)}function Re(t){return null!==t.template}function Ne(t){return 0!=(512&t[2])}var Ve=void 0;function je(t){return!!t.listen}var ze={createRenderer:function(t,e){return void 0!==Ve?Ve:"undefined"!=typeof document?document:void 0}};function Le(t){for(;Array.isArray(t);)t=t[0];return t}function Fe(t,e){return Le(e[t+20])}function Ue(t,e){return Le(e[t.index])}function He(t,e){return t.data[e+20]}function Be(t,e){return t[e+20]}function $e(t,e){var n=e[t];return Ae(n)?n:n[0]}function qe(t){var e=function(t){return t.__ngContext__||null}(t);return e?Array.isArray(e)?e:e.lView:null}function We(t){return 4==(4&t[2])}function Ge(t){return 128==(128&t[2])}function Ze(t,e){return null===t||null==e?null:t[e]}function Xe(t){t[18]=0}function Qe(t,e){t[5]+=e;for(var n=t,r=t[3];null!==r&&(1===e&&1===n[5]||-1===e&&0===n[5]);)r[5]+=e,n=r,r=r[3]}var Je={lFrame:wn(null),bindingsEnabled:!0,checkNoChangesMode:!1};function Ke(){return Je.bindingsEnabled}function Ye(){return Je.lFrame.lView}function tn(){return Je.lFrame.tView}function en(t){Je.lFrame.contextLView=t}function nn(){return Je.lFrame.previousOrParentTNode}function rn(t,e){Je.lFrame.previousOrParentTNode=t,Je.lFrame.isParent=e}function on(){return Je.lFrame.isParent}function an(){Je.lFrame.isParent=!1}function sn(){return Je.checkNoChangesMode}function un(t){Je.checkNoChangesMode=t}function cn(){var t=Je.lFrame,e=t.bindingRootIndex;return-1===e&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function ln(){return Je.lFrame.bindingIndex}function dn(){return Je.lFrame.bindingIndex++}function pn(t){var e=Je.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function fn(t,e){var n=Je.lFrame;n.bindingIndex=n.bindingRootIndex=t,hn(e)}function hn(t){Je.lFrame.currentDirectiveIndex=t}function mn(){return Je.lFrame.currentQueryIndex}function vn(t){Je.lFrame.currentQueryIndex=t}function gn(t,e){var n=bn();Je.lFrame=n,n.previousOrParentTNode=e,n.lView=t}function yn(t,e){var n=bn(),r=t[1];Je.lFrame=n,n.previousOrParentTNode=e,n.lView=t,n.tView=r,n.contextLView=t,n.bindingIndex=r.bindingStartIndex}function bn(){var t=Je.lFrame,e=null===t?null:t.child;return null===e?wn(t):e}function wn(t){var e={previousOrParentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:0,contextLView:null,elementDepthCount:0,currentNamespace:null,currentSanitizer:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null};return null!==t&&(t.child=e),e}function xn(){var t=Je.lFrame;return Je.lFrame=t.parent,t.previousOrParentTNode=null,t.lView=null,t}var _n=xn;function Cn(){var t=xn();t.isParent=!0,t.tView=null,t.selectedIndex=0,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.currentSanitizer=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function Sn(){return Je.lFrame.selectedIndex}function In(t){Je.lFrame.selectedIndex=t}function kn(){var t=Je.lFrame;return He(t.tView,t.selectedIndex)}function Tn(t,e){for(var n=e.directiveStart,r=e.directiveEnd;n<r;n++){var i=t.data[n];i.afterContentInit&&(t.contentHooks||(t.contentHooks=[])).push(-n,i.afterContentInit),i.afterContentChecked&&((t.contentHooks||(t.contentHooks=[])).push(n,i.afterContentChecked),(t.contentCheckHooks||(t.contentCheckHooks=[])).push(n,i.afterContentChecked)),i.afterViewInit&&(t.viewHooks||(t.viewHooks=[])).push(-n,i.afterViewInit),i.afterViewChecked&&((t.viewHooks||(t.viewHooks=[])).push(n,i.afterViewChecked),(t.viewCheckHooks||(t.viewCheckHooks=[])).push(n,i.afterViewChecked)),null!=i.onDestroy&&(t.destroyHooks||(t.destroyHooks=[])).push(n,i.onDestroy)}}function En(t,e,n){Pn(t,e,3,n)}function An(t,e,n,r){(3&t[2])===n&&Pn(t,e,n,r)}function On(t,e){var n=t[2];(3&n)===e&&(n&=2047,t[2]=n+=1)}function Pn(t,e,n,r){for(var i=null!=r?r:-1,o=0,a=void 0!==r?65535&t[18]:0;a<e.length;a++)if("number"==typeof e[a+1]){if(o=e[a],null!=r&&o>=r)break}else e[a]<0&&(t[18]+=65536),(o<i||-1==i)&&(Dn(t,n,e,a),t[18]=(4294901760&t[18])+a+2),a++}function Dn(t,e,n,r){var i=n[r]<0,o=n[r+1],a=t[i?-n[r]:n[r]];i?t[2]>>11<t[18]>>16&&(3&t[2])===e&&(t[2]+=2048,o.call(a)):o.call(a)}var Mn=function(){return function(t,e,n){this.factory=t,this.resolving=!1,this.canSeeViewProviders=e,this.injectImpl=n}}();function Rn(t,e,n){for(var r=je(t),i=0;i<n.length;){var o=n[i];if("number"==typeof o){if(0!==o)break;i++;var a=n[i++],s=n[i++],u=n[i++];r?t.setAttribute(e,s,u,a):e.setAttributeNS(a,s,u)}else u=n[++i],Vn(s=o)?r&&t.setProperty(e,s,u):r?t.setAttribute(e,s,u):e.setAttribute(s,u),i++}return i}function Nn(t){return 3===t||4===t||6===t}function Vn(t){return 64===t.charCodeAt(0)}function jn(t,e){if(null===e||0===e.length);else if(null===t||0===t.length)t=e.slice();else for(var n=-1,r=0;r<e.length;r++){var i=e[r];"number"==typeof i?n=i:0===n||zn(t,n,i,null,-1===n||2===n?e[++r]:null)}return t}function zn(t,e,n,r,i){var o=0,a=t.length;if(-1===e)a=-1;else for(;o<t.length;){var s=t[o++];if("number"==typeof s){if(s===e){a=-1;break}if(s>e){a=o-1;break}}}for(;o<t.length;){var u=t[o];if("number"==typeof u)break;if(u===n){if(null===r)return void(null!==i&&(t[o+1]=i));if(r===t[o+1])return void(t[o+2]=i)}o++,null!==r&&o++,null!==i&&o++}-1!==a&&(t.splice(a,0,e),o=a+1),t.splice(o++,0,n),null!==r&&t.splice(o++,0,r),null!==i&&t.splice(o++,0,i)}function Ln(t){return-1!==t}function Fn(t){return 32767&t}function Un(t){return t>>16}function Hn(t,e){for(var n=Un(t),r=e;n>0;)r=r[15],n--;return r}function Bn(t){return"string"==typeof t?t:null==t?"":""+t}function $n(t){return"function"==typeof t?t.name||t.toString():"object"==typeof t&&null!=t&&"function"==typeof t.type?t.type.name||t.type.toString():Bn(t)}var qn=function(){return("undefined"!=typeof requestAnimationFrame&&requestAnimationFrame||setTimeout).bind(zt)}();function Wn(t){return t instanceof Function?t():t}var Gn=!0;function Zn(t){var e=Gn;return Gn=t,e}var Xn=0;function Qn(t,e){var n=Kn(t,e);if(-1!==n)return n;var r=e[1];r.firstCreatePass&&(t.injectorIndex=e.length,Jn(r.data,t),Jn(e,null),Jn(r.blueprint,null));var i=Yn(t,e),o=t.injectorIndex;if(Ln(i))for(var a=Fn(i),s=Hn(i,e),u=s[1].data,c=0;c<8;c++)e[o+c]=s[a+c]|u[a+c];return e[o+8]=i,o}function Jn(t,e){t.push(0,0,0,0,0,0,0,0,e)}function Kn(t,e){return-1===t.injectorIndex||t.parent&&t.parent.injectorIndex===t.injectorIndex||null==e[t.injectorIndex+8]?-1:t.injectorIndex}function Yn(t,e){if(t.parent&&-1!==t.parent.injectorIndex)return t.parent.injectorIndex;for(var n=e[6],r=1;n&&-1===n.injectorIndex;)n=(e=e[15])?e[6]:null,r++;return n?n.injectorIndex|r<<16:-1}function tr(t,e,n){!function(t,e,n){var r="string"!=typeof n?n[qt]:n.charCodeAt(0)||0;null==r&&(r=n[qt]=Xn++);var i=255&r,o=1<<i,a=64&i,s=32&i,u=e.data;128&i?a?s?u[t+7]|=o:u[t+6]|=o:s?u[t+5]|=o:u[t+4]|=o:a?s?u[t+3]|=o:u[t+2]|=o:s?u[t+1]|=o:u[t]|=o}(t,e,n)}function er(t,e,n,r,i){if(void 0===r&&(r=ht.Default),null!==t){var o=function(t){if("string"==typeof t)return t.charCodeAt(0)||0;var e=t[qt];return"number"==typeof e&&e>0?255&e:e}(n);if("function"==typeof o){gn(e,t);try{var a=o();if(null!=a||r&ht.Optional)return a;throw new Error("No provider for "+$n(n)+"!")}finally{_n()}}else if("number"==typeof o){if(-1===o)return new ur(t,e);var s=null,u=Kn(t,e),c=-1,l=r&ht.Host?e[16][6]:null;for((-1===u||r&ht.SkipSelf)&&(c=-1===u?Yn(t,e):e[u+8],sr(r,!1)?(s=e[1],u=Fn(c),e=Hn(c,e)):u=-1);-1!==u;){c=e[u+8];var d=e[1];if(ar(o,u,d.data)){var p=rr(u,e,n,s,r,l);if(p!==nr)return p}sr(r,e[1].data[u+8]===l)&&ar(o,u,e)?(s=d,u=Fn(c),e=Hn(c,e)):u=-1}}}if(r&ht.Optional&&void 0===i&&(i=null),0==(r&(ht.Self|ht.Host))){var f=e[9],h=Yt(void 0);try{return f?f.get(n,i,r&ht.Optional):ne(n,i,r&ht.Optional)}finally{Yt(h)}}if(r&ht.Optional)return i;throw new Error("NodeInjector: NOT_FOUND ["+$n(n)+"]")}var nr={};function rr(t,e,n,r,i,o){var a=e[1],s=a.data[t+8],u=ir(s,a,n,null==r?De(s)&&Gn:r!=a&&3===s.type,i&ht.Host&&o===s);return null!==u?or(e,a,u,s):nr}function ir(t,e,n,r,i){for(var o=t.providerIndexes,a=e.data,s=65535&o,u=t.directiveStart,c=o>>16,l=i?s+c:t.directiveEnd,d=r?s:s+c;d<l;d++){var p=a[d];if(d<u&&n===p||d>=u&&p.type===n)return d}if(i){var f=a[u];if(f&&Re(f)&&f.type===n)return u}return null}function or(t,e,n,r){var i=t[n],o=e.data;if(i instanceof Mn){var a=i;if(a.resolving)throw new Error("Circular dep for "+$n(o[n]));var s=Zn(a.canSeeViewProviders);a.resolving=!0;var u=void 0;a.injectImpl&&(u=Yt(a.injectImpl)),gn(t,r);try{i=t[n]=a.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&function(t,e,n){var r=e.onChanges,i=e.onInit,o=e.doCheck;r&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,r),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,r)),i&&(n.preOrderHooks||(n.preOrderHooks=[])).push(-t,i),o&&((n.preOrderHooks||(n.preOrderHooks=[])).push(t,o),(n.preOrderCheckHooks||(n.preOrderCheckHooks=[])).push(t,o))}(n,o[n],e)}finally{a.injectImpl&&Yt(u),Zn(s),a.resolving=!1,_n()}}return i}function ar(t,e,n){var r=64&t,i=32&t;return!!((128&t?r?i?n[e+7]:n[e+6]:i?n[e+5]:n[e+4]:r?i?n[e+3]:n[e+2]:i?n[e+1]:n[e])&1<<t)}function sr(t,e){return!(t&ht.Self||t&ht.Host&&e)}var ur=function(){function t(t,e){this._tNode=t,this._lView=e}return t.prototype.get=function(t,e){return er(this._tNode,this._lView,t,void 0,e)},t}();function cr(t){return st((function(){var e=Object.getPrototypeOf(t.prototype).constructor,n=e[$t]||function t(e){var n=e;if(Dt(e))return function(){var e=t(Pt(n));return e?e():null};var r=Te(n);if(null===r){var i=xt(n);r=i&&i.factory}return r||null}(e);return null!==n?n:function(t){return new t}}))}function lr(t){return t.ngDebugContext}function dr(t){return t.ngOriginalError}function pr(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];t.error.apply(t,u(e))}var fr=function(){function t(){this._console=console}return t.prototype.handleError=function(t){var e=this._findOriginalError(t),n=this._findContext(t),r=function(t){return t.ngErrorLogger||pr}(t);r(this._console,"ERROR",t),e&&r(this._console,"ORIGINAL ERROR",e),n&&r(this._console,"ERROR CONTEXT",n)},t.prototype._findContext=function(t){return t?lr(t)?lr(t):this._findContext(dr(t)):null},t.prototype._findOriginalError=function(t){for(var e=dr(t);e&&dr(e);)e=dr(e);return e},t}(),hr=function(){function t(t){this.changingThisBreaksApplicationSecurity=t}return t.prototype.toString=function(){return"SafeValue must use [property]=binding: "+this.changingThisBreaksApplicationSecurity+" (see http://g.co/ng/security#xss)"},t}();function mr(t){return t instanceof hr?t.changingThisBreaksApplicationSecurity:t}var vr=!0,gr=!1;function yr(){return gr=!0,vr}var br=/^(?:(?:https?|mailto|ftp|tel|file):|[^&:/?#]*(?:[/?#]|$))/gi,wr=/^data:(?:image\/(?:bmp|gif|jpeg|jpg|png|tiff|webp)|video\/(?:mpeg|mp4|ogg|webm)|audio\/(?:mp3|oga|ogg|opus));base64,[a-z0-9+\/]+=*$/i,xr=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}({});function _r(t){var e,n,r=(e=Ye())&&e[12];return r?r.sanitize(xr.URL,t)||"":function(t,e){var n=function(t){return t instanceof hr&&t.getTypeName()||null}(t);if(null!=n&&n!==e){if("ResourceURL"===n&&"URL"===e)return!0;throw new Error("Required a safe "+e+", got a "+n+" (see http://g.co/ng/security#xss)")}return n===e}(t,"URL")?mr(t):(n=Bn(t),(n=String(n)).match(br)||n.match(wr)?n:(yr()&&console.warn("WARNING: sanitizing unsafe URL value "+n+" (see http://g.co/ng/security#xss)"),"unsafe:"+n))}function Cr(t,e){t.__ngContext__=e}function Sr(t){throw new Error("Multiple components match node with tagname "+t.tagName)}function Ir(){throw new Error("Cannot mix multi providers and regular providers")}function kr(t,e,n){for(var r=t.length;;){var i=t.indexOf(e,n);if(-1===i)return i;if(0===i||t.charCodeAt(i-1)<=32){var o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Tr(t,e,n){for(var r=0;r<t.length;){var i=t[r++];if(n&&"class"===i){if(-1!==kr((i=t[r]).toLowerCase(),e,0))return!0}else if(1===i){for(;r<t.length&&"string"==typeof(i=t[r++]);)if(i.toLowerCase()===e)return!0;return!1}}return!1}function Er(t){return 0===t.type&&"ng-template"!==t.tagName}function Ar(t,e,n){return e===(0!==t.type||n?t.tagName:"ng-template")}function Or(t,e,n){for(var r=4,i=t.attrs||[],o=function(t){for(var e=0;e<t.length;e++)if(Nn(t[e]))return e;return t.length}(i),a=!1,s=0;s<e.length;s++){var u=e[s];if("number"!=typeof u){if(!a)if(4&r){if(r=2|1&r,""!==u&&!Ar(t,u,n)||""===u&&1===e.length){if(Pr(r))return!1;a=!0}}else{var c=8&r?u:e[++s];if(8&r&&null!==t.attrs){if(!Tr(t.attrs,c,n)){if(Pr(r))return!1;a=!0}continue}var l=Dr(8&r?"class":u,i,Er(t),n);if(-1===l){if(Pr(r))return!1;a=!0;continue}if(""!==c){var d;d=l>o?"":i[l+1].toLowerCase();var p=8&r?d:null;if(p&&-1!==kr(p,c,0)||2&r&&c!==d){if(Pr(r))return!1;a=!0}}}}else{if(!a&&!Pr(r)&&!Pr(u))return!1;if(a&&Pr(u))continue;a=!1,r=u|1&r}}return Pr(r)||a}function Pr(t){return 0==(1&t)}function Dr(t,e,n,r){if(null===e)return-1;var i=0;if(r||!n){for(var o=!1;i<e.length;){var a=e[i];if(a===t)return i;if(3===a||6===a)o=!0;else{if(1===a||2===a){for(var s=e[++i];"string"==typeof s;)s=e[++i];continue}if(4===a)break;if(0===a){i+=4;continue}}i+=o?1:2}return-1}return function(t,e){var n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){var r=t[n];if("number"==typeof r)return-1;if(r===e)return n;n++}return-1}(e,t)}function Mr(t,e,n){void 0===n&&(n=!1);for(var r=0;r<e.length;r++)if(Or(t,e[r],n))return!0;return!1}function Rr(t,e){t:for(var n=0;n<e.length;n++){var r=e[n];if(t.length===r.length){for(var i=0;i<t.length;i++)if(t[i]!==r[i])continue t;return!0}}return!1}function Nr(t,e){return t?":not("+e.trim()+")":e}function Vr(t){for(var e=t[0],n=1,r=2,i="",o=!1;n<t.length;){var a=t[n];if("string"==typeof a)if(2&r){var s=t[++n];i+="["+a+(s.length>0?'="'+s+'"':"")+"]"}else 8&r?i+="."+a:4&r&&(i+=" "+a);else""===i||Pr(a)||(e+=Nr(o,i),i=""),r=a,o=o||!Pr(r);n++}return""!==i&&(e+=Nr(o,i)),e}var jr={};function zr(t){var e=t[3];return Oe(e)?e[3]:e}function Lr(t){Fr(tn(),Ye(),Sn()+t,sn())}function Fr(t,e,n,r){if(!r)if(3==(3&e[2])){var i=t.preOrderCheckHooks;null!==i&&En(e,i,n)}else{var o=t.preOrderHooks;null!==o&&An(e,o,0,n)}In(n)}function Ur(t,e){return t<<17|e<<2}function Hr(t){return t>>17&32767}function Br(t){return 2|t}function $r(t){return(131068&t)>>2}function qr(t,e){return-131069&t|e<<2}function Wr(t){return 1|t}function Gr(t,e){var n=t.contentQueries;if(null!==n)for(var r=0;r<n.length;r+=2){var i=n[r+1];if(-1!==i){var o=t.data[i];vn(n[r]),o.contentQueries(2,e[i],i)}}}function Zr(t,e,n){return je(e)?e.createElement(t,n):null===n?e.createElement(t):e.createElementNS(n,t)}function Xr(t,e,n,r,i,o,a,s,u,c){var l=e.blueprint.slice();return l[0]=i,l[2]=140|r,Xe(l),l[3]=l[15]=t,l[8]=n,l[10]=a||t&&t[10],l[11]=s||t&&t[11],l[12]=u||t&&t[12]||null,l[9]=c||t&&t[9]||null,l[6]=o,l[16]=2==e.type?t[16]:l,l}function Qr(t,e,n,r,i,o){var a=n+20,s=t.data[a]||function(t,e,n,r,i,o){var a=nn(),s=on(),u=s?a:a&&a.parent,c=t.data[n]=ai(0,u&&u!==e?u:null,r,n,i,o);return null===t.firstChild&&(t.firstChild=c),a&&(!s||null!=a.child||null===c.parent&&2!==a.type?s||(a.next=c):a.child=c),c}(t,e,a,r,i,o);return rn(s,!0),s}function Jr(t,e,n){yn(e,e[6]);try{var r=t.viewQuery;null!==r&&Oi(1,r,n);var i=t.template;null!==i&&ti(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),t.staticContentQueries&&Gr(t,e),t.staticViewQueries&&Oi(2,t.viewQuery,n);var o=t.components;null!==o&&function(t,e){for(var n=0;n<e.length;n++)Ii(t,e[n])}(e,o)}catch(a){throw t.firstCreatePass&&(t.incompleteFirstPass=!0),a}finally{e[2]&=-5,Cn()}}function Kr(t,e,n,r){var i=e[2];if(256!=(256&i)){yn(e,e[6]);var o=sn();try{Xe(e),Je.lFrame.bindingIndex=t.bindingStartIndex,null!==n&&ti(t,e,n,2,r);var a=3==(3&i);if(!o)if(a){var s=t.preOrderCheckHooks;null!==s&&En(e,s,null)}else{var u=t.preOrderHooks;null!==u&&An(e,u,0,null),On(e,0)}if(function(t){for(var e=_i(t);null!==e;e=Ci(e))if(0!=(1&e[2]))for(var n=e[9],r=0;r<n.length;r++){var i=n[r];0==(1024&i[2])&&Qe(i[3],1),i[2]|=1024}}(e),function(t){for(var e=_i(t);null!==e;e=Ci(e))for(var n=10;n<e.length;n++){var r=e[n],i=r[1];Ge(r)&&Kr(i,r,i.template,r[8])}}(e),null!==t.contentQueries&&Gr(t,e),!o)if(a){var c=t.contentCheckHooks;null!==c&&En(e,c)}else{var l=t.contentHooks;null!==l&&An(e,l,1),On(e,1)}!function(t,e){try{var n=t.expandoInstructions;if(null!==n)for(var r=t.expandoStartIndex,i=-1,o=0;o<n.length;o++){var a=n[o];"number"==typeof a?a<=0?(In(0-a),i=r+=9+n[++o]):r+=a:(null!==a&&(fn(r,i),a(2,e[i])),i++)}}finally{In(-1)}}(t,e);var d=t.components;null!==d&&function(t,e){for(var n=0;n<e.length;n++)Si(t,e[n])}(e,d);var p=t.viewQuery;if(null!==p&&Oi(2,p,r),!o)if(a){var f=t.viewCheckHooks;null!==f&&En(e,f)}else{var h=t.viewHooks;null!==h&&An(e,h,2),On(e,2)}!0===t.firstUpdatePass&&(t.firstUpdatePass=!1),o||(e[2]&=-73),1024&e[2]&&(e[2]&=-1025,Qe(e[3],-1))}finally{Cn()}}}function Yr(t,e,n,r){var i=e[10],o=!sn(),a=We(e);try{o&&!a&&i.begin&&i.begin(),a&&Jr(t,e,r),Kr(t,e,n,r)}finally{o&&!a&&i.end&&i.end()}}function ti(t,e,n,r,i){var o=Sn();try{In(-1),2&r&&e.length>20&&Fr(t,e,0,sn()),n(r,i)}finally{In(o)}}function ei(t,e,n){if(Pe(e))for(var r=e.directiveEnd,i=e.directiveStart;i<r;i++){var o=t.data[i];o.contentQueries&&o.contentQueries(1,n[i],i)}}function ni(t,e,n){Ke()&&(function(t,e,n,r){var i=n.directiveStart,o=n.directiveEnd;t.firstCreatePass||Qn(n,e),Cr(r,e);for(var a=n.initialInputs,s=i;s<o;s++){var u=t.data[s],c=Re(u);c&&yi(e,n,u);var l=or(e,t,s,n);Cr(l,e),null!==a&&bi(0,s-i,l,u,0,a),c&&($e(n.index,e)[8]=l)}}(t,e,n,Ue(n,e)),128==(128&n.flags)&&function(t,e,n){var r=n.directiveStart,i=n.directiveEnd,o=t.expandoInstructions,a=t.firstCreatePass,s=n.index-20,u=Je.lFrame.currentDirectiveIndex;try{In(s);for(var c=r;c<i;c++){var l=t.data[c],d=e[c];hn(c),null!==l.hostBindings||0!==l.hostVars||null!==l.hostAttrs?pi(l,d):a&&o.push(null)}}finally{In(-1),hn(u)}}(t,e,n))}function ri(t,e,n){void 0===n&&(n=Ue);var r=e.localNames;if(null!==r)for(var i=e.index+1,o=0;o<r.length;o+=2){var a=r[o+1],s=-1===a?n(e,t):t[a];t[i++]=s}}function ii(t){var e=t.tView;return null===e||e.incompleteFirstPass?t.tView=oi(1,-1,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts):e}function oi(t,e,n,r,i,o,a,s,u,c){var l=20+r,d=l+i,p=function(t,e){for(var n=[],r=0;r<e;r++)n.push(r<t?null:jr);return n}(l,d);return p[1]={type:t,id:e,blueprint:p,template:n,queries:null,viewQuery:s,node:null,data:p.slice().fill(null,l),bindingStartIndex:l,expandoStartIndex:d,expandoInstructions:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof o?o():o,pipeRegistry:"function"==typeof a?a():a,firstChild:null,schemas:u,consts:c,incompleteFirstPass:!1}}function ai(t,e,n,r,i,o){return{type:n,index:r,injectorIndex:e?e.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,propertyBindings:null,flags:0,providerIndexes:0,tagName:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,residualStyles:void 0,classes:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function si(t,e,n){for(var r in t)if(t.hasOwnProperty(r)){var i=t[r];(n=null===n?{}:n).hasOwnProperty(r)?n[r].push(e,i):n[r]=[e,i]}return n}function ui(t,e,n,r,i,o,a,s){var u,c,l=Ue(e,n),d=e.inputs;!s&&null!=d&&(u=d[r])?(Ni(t,n,u,r,i),De(e)&&function(t,e){var n=$e(e,t);16&n[2]||(n[2]|=64)}(n,e.index)):3===e.type&&(r="class"===(c=r)?"className":"for"===c?"htmlFor":"formaction"===c?"formAction":"innerHtml"===c?"innerHTML":"readonly"===c?"readOnly":"tabindex"===c?"tabIndex":c,i=null!=a?a(i,e.tagName||"",r):i,je(o)?o.setProperty(l,r,i):Vn(r)||(l.setProperty?l.setProperty(r,i):l[r]=i))}function ci(t,e,n,r){var i=!1;if(Ke()){var o=function(t,e,n){var r=t.directiveRegistry,i=null;if(r)for(var o=0;o<r.length;o++){var a=r[o];Mr(n,a.selectors,!1)&&(i||(i=[]),tr(Qn(n,e),t,a.type),Re(a)?(2&n.flags&&Sr(n),hi(t,n),i.unshift(a)):i.push(a))}return i}(t,e,n),a=null===r?null:{"":-1};if(null!==o){var s=0;i=!0,vi(n,t.data.length,o.length);for(var u=0;u<o.length;u++)(d=o[u]).providersResolver&&d.providersResolver(d);fi(t,n,o.length);var c=!1,l=!1;for(u=0;u<o.length;u++){var d;n.mergedAttrs=jn(n.mergedAttrs,(d=o[u]).hostAttrs),gi(t,e,d),mi(t.data.length-1,d,a),null!==d.contentQueries&&(n.flags|=8),null===d.hostBindings&&null===d.hostAttrs&&0===d.hostVars||(n.flags|=128),!c&&(d.onChanges||d.onInit||d.doCheck)&&((t.preOrderHooks||(t.preOrderHooks=[])).push(n.index-20),c=!0),l||!d.onChanges&&!d.doCheck||((t.preOrderCheckHooks||(t.preOrderCheckHooks=[])).push(n.index-20),l=!0),li(t,d),s+=d.hostVars}!function(t,e){for(var n=e.directiveEnd,r=t.data,i=e.attrs,o=[],a=null,s=null,u=e.directiveStart;u<n;u++){var c=r[u],l=c.inputs,d=null===i||Er(e)?null:wi(l,i);o.push(d),a=si(l,u,a),s=si(c.outputs,u,s)}null!==a&&(a.hasOwnProperty("class")&&(e.flags|=16),a.hasOwnProperty("style")&&(e.flags|=32)),e.initialInputs=o,e.inputs=a,e.outputs=s}(t,n),di(t,e,s)}a&&function(t,e,n){if(e)for(var r=t.localNames=[],i=0;i<e.length;i+=2){var o=n[e[i+1]];if(null==o)throw new Error("Export of name '"+e[i+1]+"' not found!");r.push(e[i],o)}}(n,r,a)}return n.mergedAttrs=jn(n.mergedAttrs,n.attrs),i}function li(t,e){var n=t.expandoInstructions;n.push(e.hostBindings),0!==e.hostVars&&n.push(e.hostVars)}function di(t,e,n){for(var r=0;r<n;r++)e.push(jr),t.blueprint.push(jr),t.data.push(null)}function pi(t,e){null!==t.hostBindings&&t.hostBindings(1,e)}function fi(t,e,n){var r=20-e.index,i=t.data.length-(65535&e.providerIndexes);(t.expandoInstructions||(t.expandoInstructions=[])).push(r,i,n)}function hi(t,e){e.flags|=2,(t.components||(t.components=[])).push(e.index)}function mi(t,e,n){if(n){if(e.exportAs)for(var r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Re(e)&&(n[""]=t)}}function vi(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function gi(t,e,n){t.data.push(n);var r=n.factory||(n.factory=Te(n.type)),i=new Mn(r,Re(n),null);t.blueprint.push(i),e.push(i)}function yi(t,e,n){var r=Ue(e,t),i=ii(n),o=t[10],a=ki(t,Xr(t,i,null,n.onPush?64:16,r,e,o,o.createRenderer(r,n)));t[e.index]=a}function bi(t,e,n,r,i,o){var a=o[e];if(null!==a)for(var s=r.setInput,u=0;u<a.length;){var c=a[u++],l=a[u++],d=a[u++];null!==s?r.setInput(n,d,c,l):n[l]=d}}function wi(t,e){for(var n=null,r=0;r<e.length;){var i=e[r];if(0!==i)if(5!==i){if("number"==typeof i)break;t.hasOwnProperty(i)&&(null===n&&(n=[]),n.push(i,t[i],e[r+1])),r+=2}else r+=2;else r+=4}return n}function xi(t,e,n,r){return new Array(t,!0,-2,e,null,0,r,n,null,null)}function _i(t){for(var e=t[13];null!==e&&(!Oe(e)||e[2]>>1!=-1);)e=e[4];return e}function Ci(t){for(var e=t[4];null!==e&&(!Oe(e)||e[2]>>1!=-1);)e=e[4];return e}function Si(t,e){var n=$e(e,t);if(Ge(n)){var r=n[1];80&n[2]?Kr(r,n,r.template,n[8]):n[5]>0&&function t(e){for(var n=_i(e);null!==n;n=Ci(n))for(var r=10;r<n.length;r++){var i=n[r];if(1024&i[2]){var o=i[1];Kr(o,i,o.template,i[8])}else i[5]>0&&t(i)}var a=e[1].components;if(null!==a)for(r=0;r<a.length;r++){var s=$e(a[r],e);Ge(s)&&s[5]>0&&t(s)}}(n)}}function Ii(t,e){var n=$e(e,t),r=n[1];!function(t,e){for(var n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}(r,n),Jr(r,n,n[8])}function ki(t,e){return t[13]?t[14][4]=e:t[13]=e,t[14]=e,e}function Ti(t){for(;t;){t[2]|=64;var e=zr(t);if(Ne(t)&&!e)return t;t=e}return null}function Ei(t,e,n){var r=e[10];r.begin&&r.begin();try{Kr(t,e,t.template,n)}catch(i){throw Ri(e,i),i}finally{r.end&&r.end()}}function Ai(t){!function(t){for(var e=0;e<t.components.length;e++){var n=t.components[e],r=qe(n),i=r[1];Yr(i,r,i.template,n)}}(t[8])}function Oi(t,e,n){vn(0),e(t,n)}var Pi=function(){return Promise.resolve(null)}();function Di(t){return t[7]||(t[7]=[])}function Mi(t){return t.cleanup||(t.cleanup=[])}function Ri(t,e){var n=t[9],r=n?n.get(fr,null):null;r&&r.handleError(e)}function Ni(t,e,n,r,i){for(var o=0;o<n.length;){var a=n[o++],s=n[o++],u=e[a],c=t.data[a];null!==c.setInput?c.setInput(u,i,r,s):u[s]=i}}function Vi(t,e,n){var r=Fe(e,t),i=t[11];je(i)?i.setValue(r,n):r.textContent=n}function ji(t,e){var n=e[3];return-1===t.index?Oe(n)?n:null:n}function zi(t,e){var n=ji(t,e);return n?Qi(e[11],n[7]):null}function Li(t,e,n,r,i){if(null!=r){var o=void 0,a=!1;Oe(r)?o=r:Ae(r)&&(a=!0,r=r[0]);var s=Le(r);0===t&&null!==n?null==i?Zi(e,n,s):Gi(e,n,s,i||null):1===t&&null!==n?Gi(e,n,s,i||null):2===t?function(t,e,n){var r=Qi(t,e);r&&function(t,e,n,r){je(t)?t.removeChild(e,n,r):e.removeChild(n)}(t,r,e,n)}(e,s,a):3===t&&e.destroyNode(s),null!=o&&function(t,e,n,r,i){var o=n[7];o!==Le(n)&&Li(e,t,r,o,i);for(var a=10;a<n.length;a++){var s=n[a];eo(s[1],s,t,e,r,o)}}(e,t,o,n,i)}}function Fi(t,e,n,r){var i=zi(t.node,e);i&&eo(t,e,e[11],n?1:2,i,r)}function Ui(t,e){var n=t[9],r=n.indexOf(e);1024&e[2]&&Qe(e[3],-1),n.splice(r,1)}function Hi(t,e){if(!(t.length<=10)){var n=10+e,r=t[n];if(r){var i=r[17];null!==i&&i!==t&&Ui(i,r),e>0&&(t[n-1][4]=r[4]);var o=ce(t,10+e);Fi(r[1],r,!1,null);var a=o[19];null!==a&&a.detachView(o[1]),r[3]=null,r[4]=null,r[2]&=-129}return r}}function Bi(t,e){if(!(256&e[2])){var n=e[11];je(n)&&n.destroyNode&&eo(t,e,n,3,null,null),function(t){var e=t[13];if(!e)return qi(t[1],t);for(;e;){var n=null;if(Ae(e))n=e[13];else{var r=e[10];r&&(n=r)}if(!n){for(;e&&!e[4]&&e!==t;)Ae(e)&&qi(e[1],e),e=$i(e,t);null===e&&(e=t),Ae(e)&&qi(e[1],e),n=e&&e[4]}e=n}}(e)}}function $i(t,e){var n;return Ae(t)&&(n=t[6])&&2===n.type?ji(n,t):t[3]===e?null:t[3]}function qi(t,e){if(!(256&e[2])){e[2]&=-129,e[2]|=256,function(t,e){var n;if(null!=t&&null!=(n=t.destroyHooks))for(var r=0;r<n.length;r+=2){var i=e[n[r]];if(!(i instanceof Mn)){var o=n[r+1];if(Array.isArray(o))for(var a=0;a<o.length;a+=2)o[a+1].call(i[o[a]]);else o.call(i)}}}(t,e),function(t,e){var n=t.cleanup;if(null!==n){for(var r=e[7],i=0;i<n.length-1;i+=2)if("string"==typeof n[i]){var o=n[i+1],a="function"==typeof o?o(e):Le(e[o]),s=n[i+3];"boolean"==typeof s?a.removeEventListener(n[i],r[n[i+2]],s):s>=0?r[s]():r[-s].unsubscribe(),i+=2}else n[i].call(r[n[i+1]]);e[7]=null}}(t,e);var n=e[6];n&&3===n.type&&je(e[11])&&e[11].destroy();var r=e[17];if(null!==r&&Oe(e[3])){r!==e[3]&&Ui(r,e);var i=e[19];null!==i&&i.detachView(t)}}}function Wi(t,e,n){for(var r=e.parent;null!=r&&(4===r.type||5===r.type);)r=(e=r).parent;if(null==r){var i=n[6];return 2===i.type?zi(i,n):n[0]}if(e&&5===e.type&&4&e.flags)return Ue(e,n).parentNode;if(2&r.flags){var o=t.data,a=o[o[r.index].directiveStart].encapsulation;if(a!==me.ShadowDom&&a!==me.Native)return null}return Ue(r,n)}function Gi(t,e,n,r){je(t)?t.insertBefore(e,n,r):e.insertBefore(n,r,!0)}function Zi(t,e,n){je(t)?t.appendChild(e,n):e.appendChild(n)}function Xi(t,e,n,r){null!==r?Gi(t,e,n,r):Zi(t,e,n)}function Qi(t,e){return je(t)?t.parentNode(e):e.parentNode}function Ji(t,e){if(2===t.type){var n=ji(t,e);return null===n?null:Yi(n.indexOf(e,10)-10,n)}return 4===t.type||5===t.type?Ue(t,e):null}function Ki(t,e,n,r){var i=Wi(t,r,e);if(null!=i){var o=e[11],a=Ji(r.parent||e[6],e);if(Array.isArray(n))for(var s=0;s<n.length;s++)Xi(o,i,n[s],a);else Xi(o,i,n,a)}}function Yi(t,e){var n=10+t+1;if(n<e.length){var r=e[n],i=r[1].firstChild;if(null!==i)return function t(e,n){if(null!==n){var r=n.type;if(3===r)return Ue(n,e);if(0===r)return Yi(-1,e[n.index]);if(4===r||5===r){var i=n.child;if(null!==i)return t(e,i);var o=e[n.index];return Oe(o)?Yi(-1,o):Le(o)}var a=e[16],s=a[6],u=zr(a),c=s.projection[n.projection];return null!=c?t(u,c):t(e,n.next)}return null}(r,i)}return e[7]}function to(t,e,n,r,i,o,a){for(;null!=n;){var s=r[n.index],u=n.type;a&&0===e&&(s&&Cr(Le(s),r),n.flags|=4),64!=(64&n.flags)&&(4===u||5===u?(to(t,e,n.child,r,i,o,!1),Li(e,t,i,s,o)):1===u?no(t,e,r,n,i,o):Li(e,t,i,s,o)),n=a?n.projectionNext:n.next}}function eo(t,e,n,r,i,o){to(n,r,t.node.child,e,i,o,!1)}function no(t,e,n,r,i,o){var a=n[16],s=a[6].projection[r.projection];if(Array.isArray(s))for(var u=0;u<s.length;u++)Li(e,t,i,s[u],o);else to(t,e,s,a[3],i,o,!0)}function ro(t,e,n){je(t)?t.setAttribute(e,"style",n):e.style.cssText=n}function io(t,e,n){je(t)?""===n?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n):e.className=n}var oo,ao,so,uo=function(){function t(t,e){this._lView=t,this._cdRefInjectingView=e,this._appRef=null,this._viewContainerRef=null,this._tViewNode=null}return Object.defineProperty(t.prototype,"rootNodes",{get:function(){var t=this._lView;return null==t[0]?function t(e,n,r,i,o){for(void 0===o&&(o=!1);null!==r;){var a=n[r.index];if(null!==a&&i.push(Le(a)),Oe(a))for(var s=10;s<a.length;s++){var c=a[s],l=c[1].firstChild;null!==l&&t(c[1],c,l,i)}var d=r.type;if(4===d||5===d)t(e,n,r.child,i);else if(1===d){var p=n[16],f=p[6].projection[r.projection];if(Array.isArray(f))i.push.apply(i,u(f));else{var h=zr(p);t(h[1],h,f,i,!0)}}r=o?r.projectionNext:r.next}return i}(t[1],t,t[6].child,[]):[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"context",{get:function(){return this._lView[8]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"destroyed",{get:function(){return 256==(256&this._lView[2])},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._appRef)this._appRef.detachView(this);else if(this._viewContainerRef){var t=this._viewContainerRef.indexOf(this);t>-1&&this._viewContainerRef.detach(t),this._viewContainerRef=null}Bi(this._lView[1],this._lView)},t.prototype.onDestroy=function(t){var e,n,r;e=this._lView[1],r=t,Di(n=this._lView).push(r),e.firstCreatePass&&Mi(e).push(n[7].length-1,null)},t.prototype.markForCheck=function(){Ti(this._cdRefInjectingView||this._lView)},t.prototype.detach=function(){this._lView[2]&=-129},t.prototype.reattach=function(){this._lView[2]|=128},t.prototype.detectChanges=function(){Ei(this._lView[1],this._lView,this.context)},t.prototype.checkNoChanges=function(){!function(t,e,n){un(!0);try{Ei(t,e,n)}finally{un(!1)}}(this._lView[1],this._lView,this.context)},t.prototype.attachToViewContainerRef=function(t){if(this._appRef)throw new Error("This view is already attached directly to the ApplicationRef!");this._viewContainerRef=t},t.prototype.detachFromAppRef=function(){var t;this._appRef=null,eo(this._lView[1],t=this._lView,t[11],2,null,null)},t.prototype.attachToAppRef=function(t){if(this._viewContainerRef)throw new Error("This view is already attached to a ViewContainer!");this._appRef=t},t}(),co=function(t){function e(e){var n=t.call(this,e)||this;return n._view=e,n}return i(e,t),e.prototype.detectChanges=function(){Ai(this._view)},e.prototype.checkNoChanges=function(){!function(t){un(!0);try{Ai(t)}finally{un(!1)}}(this._view)},Object.defineProperty(e.prototype,"context",{get:function(){return null},enumerable:!0,configurable:!0}),e}(uo);function lo(t,e,n){return oo||(oo=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e}(t)),new oo(Ue(e,n))}function po(t,e,n,r){return ao||(ao=function(t){function e(e,n,r){var i=t.call(this)||this;return i._declarationView=e,i._declarationTContainer=n,i.elementRef=r,i}return i(e,t),e.prototype.createEmbeddedView=function(t){var e=this._declarationTContainer.tViews,n=Xr(this._declarationView,e,t,16,null,e.node);n[17]=this._declarationView[this._declarationTContainer.index];var r=this._declarationView[19];null!==r&&(n[19]=r.createEmbeddedView(e)),Jr(e,n,t);var i=new uo(n);return i._tViewNode=n[6],i},e}(t)),0===n.type?new ao(r,n,lo(e,n,r)):null}function fo(t,e,n,r){var o;so||(so=function(t){function n(e,n,r){var i=t.call(this)||this;return i._lContainer=e,i._hostTNode=n,i._hostView=r,i}return i(n,t),Object.defineProperty(n.prototype,"element",{get:function(){return lo(e,this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"injector",{get:function(){return new ur(this._hostTNode,this._hostView)},enumerable:!0,configurable:!0}),Object.defineProperty(n.prototype,"parentInjector",{get:function(){var t=Yn(this._hostTNode,this._hostView),e=Hn(t,this._hostView),n=function(t,e,n){if(n.parent&&-1!==n.parent.injectorIndex){for(var r=n.parent.injectorIndex,i=n.parent;null!=i.parent&&r==i.parent.injectorIndex;)i=i.parent;return i}for(var o=Un(t),a=e,s=e[6];o>1;)s=(a=a[15])[6],o--;return s}(t,this._hostView,this._hostTNode);return Ln(t)&&null!=n?new ur(n,e):new ur(null,this._hostView)},enumerable:!0,configurable:!0}),n.prototype.clear=function(){for(;this.length>0;)this.remove(this.length-1)},n.prototype.get=function(t){return null!==this._lContainer[8]&&this._lContainer[8][t]||null},Object.defineProperty(n.prototype,"length",{get:function(){return this._lContainer.length-10},enumerable:!0,configurable:!0}),n.prototype.createEmbeddedView=function(t,e,n){var r=t.createEmbeddedView(e||{});return this.insert(r,n),r},n.prototype.createComponent=function(t,e,n,r,i){var o=n||this.parentInjector;if(!i&&null==t.ngModule&&o){var a=o.get(oe,null);a&&(i=a)}var s=t.create(o,r,void 0,i);return this.insert(s.hostView,e),s},n.prototype.insert=function(t,e){var n=t._lView,r=n[1];if(t.destroyed)throw new Error("Cannot insert a destroyed View in a ViewContainer!");if(this.allocateContainerIfNeeded(),Oe(n[3])){var i=this.indexOf(t);if(-1!==i)this.detach(i);else{var o=n[3],a=new so(o,o[6],o[3]);a.detach(a.indexOf(t))}}var s=this._adjustIndex(e);return function(t,e,n,r){var i=10+r,o=n.length;r>0&&(n[i-1][4]=e),r<o-10?(e[4]=n[i],ue(n,10+r,e)):(n.push(e),e[4]=null),e[3]=n;var a=e[17];null!==a&&n!==a&&function(t,e){var n=t[9];e[16]!==e[3][3][16]&&(t[2]|=1),null===n?t[9]=[e]:n.push(e)}(a,e);var s=e[19];null!==s&&s.insertView(t),e[2]|=128}(r,n,this._lContainer,s),Fi(r,n,!0,Yi(s,this._lContainer)),t.attachToViewContainerRef(this),ue(this._lContainer[8],s,t),t},n.prototype.move=function(t,e){if(t.destroyed)throw new Error("Cannot move a destroyed View in a ViewContainer!");return this.insert(t,e)},n.prototype.indexOf=function(t){var e=this._lContainer[8];return null!==e?e.indexOf(t):-1},n.prototype.remove=function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1);!function(t,e){var n=Hi(t,e);n&&Bi(n[1],n)}(this._lContainer,e),ce(this._lContainer[8],e)},n.prototype.detach=function(t){this.allocateContainerIfNeeded();var e=this._adjustIndex(t,-1),n=Hi(this._lContainer,e);return n&&null!=ce(this._lContainer[8],e)?new uo(n):null},n.prototype._adjustIndex=function(t,e){return void 0===e&&(e=0),null==t?this.length+e:t},n.prototype.allocateContainerIfNeeded=function(){null===this._lContainer[8]&&(this._lContainer[8]=[])},n}(t));var a=r[n.index];if(Oe(a))!function(t,e){t[2]=-2}(o=a);else{var s=void 0;if(4===n.type)s=Le(a);else if(s=r[11].createComment(""),Ne(r)){var u=r[11],c=Ue(n,r);Gi(u,Qi(u,c),s,function(t,e){return je(t)?t.nextSibling(e):e.nextSibling}(u,c))}else Ki(r[1],r,s,n);r[n.index]=o=xi(a,r,s,n),ki(r,o)}return new so(o,n,r)}function ho(t){return void 0===t&&(t=!1),function(t,e,n){if(!n&&De(t)){var r=$e(t.index,e);return new uo(r,r)}return 3===t.type||0===t.type||4===t.type||5===t.type?new uo(e[16],e):null}(nn(),Ye(),t)}var mo=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return vo()},t}(),vo=ho,go=new Wt("Set Injector scope."),yo={},bo={},wo=[],xo=void 0;function _o(){return void 0===xo&&(xo=new ie),xo}function Co(t,e,n,r){return void 0===e&&(e=null),void 0===n&&(n=null),new So(t,n,e||_o(),r)}var So=function(){function t(t,e,n,r){var i=this;void 0===r&&(r=null),this.parent=n,this.records=new Map,this.injectorDefTypes=new Set,this.onDestroy=new Set,this._destroyed=!1;var o=[];e&&se(e,(function(n){return i.processProvider(n,t,e)})),se([t],(function(t){return i.processInjectorType(t,[],o)})),this.records.set(Gt,To(void 0,this));var a=this.records.get(go);this.scope=null!=a?a.value:null,this.source=r||("object"==typeof t?null:Tt(t))}return Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){this.assertNotDestroyed(),this._destroyed=!0;try{this.onDestroy.forEach((function(t){return t.ngOnDestroy()}))}finally{this.records.clear(),this.onDestroy.clear(),this.injectorDefTypes.clear()}},t.prototype.get=function(t,e,n){void 0===e&&(e=Zt),void 0===n&&(n=ht.Default),this.assertNotDestroyed();var r,i=Kt(this);try{if(!(n&ht.SkipSelf)){var o=this.records.get(t);if(void 0===o){var a=("function"==typeof(r=t)||"object"==typeof r&&r instanceof Wt)&&bt(t);o=a&&this.injectableDefInScope(a)?To(Io(t),yo):null,this.records.set(t,o)}if(null!=o)return this.hydrate(t,o)}return(n&ht.Self?_o():this.parent).get(t,e=n&ht.Optional&&e===Zt?null:e)}catch(s){if("NullInjectorError"===s.name){if((s.ngTempTokenPath=s.ngTempTokenPath||[]).unshift(Tt(t)),i)throw s;return function(t,e,n,r){var i=t.ngTempTokenPath;throw e.__source&&i.unshift(e.__source),t.message=function(t,e,n,r){void 0===r&&(r=null),t=t&&"\n"===t.charAt(0)&&"\u0275"==t.charAt(1)?t.substr(2):t;var i=Tt(e);if(Array.isArray(e))i=e.map(Tt).join(" -> ");else if("object"==typeof e){var o=[];for(var a in e)if(e.hasOwnProperty(a)){var s=e[a];o.push(a+":"+("string"==typeof s?JSON.stringify(s):Tt(s)))}i="{"+o.join(", ")+"}"}return n+(r?"("+r+")":"")+"["+i+"]: "+t.replace(Xt,"\n  ")}("\n"+t.message,i,n,r),t.ngTokenPath=i,t.ngTempTokenPath=null,t}(s,t,"R3InjectorError",this.source)}throw s}finally{Kt(i)}},t.prototype._resolveInjectorDefTypes=function(){var t=this;this.injectorDefTypes.forEach((function(e){return t.get(e)}))},t.prototype.toString=function(){var t=[];return this.records.forEach((function(e,n){return t.push(Tt(n))})),"R3Injector["+t.join(", ")+"]"},t.prototype.assertNotDestroyed=function(){if(this._destroyed)throw new Error("Injector has already been destroyed.")},t.prototype.processInjectorType=function(t,e,n){var r=this;if(!(t=Pt(t)))return!1;var i=xt(t),o=null==i&&t.ngModule||void 0,a=void 0===o?t:o,s=-1!==n.indexOf(a);if(void 0!==o&&(i=xt(o)),null==i)return!1;if(null!=i.imports&&!s){var u;n.push(a);try{se(i.imports,(function(t){r.processInjectorType(t,e,n)&&(void 0===u&&(u=[]),u.push(t))}))}finally{}if(void 0!==u)for(var c=function(t){var e=u[t],n=e.ngModule,i=e.providers;se(i,(function(t){return r.processProvider(t,n,i||wo)}))},l=0;l<u.length;l++)c(l)}this.injectorDefTypes.add(a),this.records.set(a,To(i.factory,yo));var d=i.providers;if(null!=d&&!s){var p=t;se(d,(function(t){return r.processProvider(t,p,d)}))}return void 0!==o&&void 0!==t.providers},t.prototype.processProvider=function(t,e,n){var r=Ao(t=Pt(t))?t:Pt(t&&t.provide),i=function(t,e,n){return Eo(t)?To(void 0,t.useValue):To(ko(t,e,n),yo)}(t,e,n);if(Ao(t)||!0!==t.multi){var o=this.records.get(r);o&&void 0!==o.multi&&Ir()}else{var a=this.records.get(r);a?void 0===a.multi&&Ir():((a=To(void 0,yo,!0)).factory=function(){return re(a.multi)},this.records.set(r,a)),r=t,a.multi.push(t)}this.records.set(r,i)},t.prototype.hydrate=function(t,e){var n;return e.value===bo?function(t){throw new Error("Cannot instantiate cyclic dependency! "+t)}(Tt(t)):e.value===yo&&(e.value=bo,e.value=e.factory()),"object"==typeof e.value&&e.value&&null!==(n=e.value)&&"object"==typeof n&&"function"==typeof n.ngOnDestroy&&this.onDestroy.add(e.value),e.value},t.prototype.injectableDefInScope=function(t){return!!t.providedIn&&("string"==typeof t.providedIn?"any"===t.providedIn||t.providedIn===this.scope:this.injectorDefTypes.has(t.providedIn))},t}();function Io(t){var e=bt(t),n=null!==e?e.factory:Te(t);if(null!==n)return n;var r=xt(t);if(null!==r)return r.factory;if(t instanceof Wt)throw new Error("Token "+Tt(t)+" is missing a \u0275prov definition.");if(t instanceof Function)return function(t){var e=t.length;if(e>0){var n=le(e,"?");throw new Error("Can't resolve all parameters for "+Tt(t)+": ("+n.join(", ")+").")}var r=function(t){var e=t&&(t[_t]||t[It]||t[St]&&t[St]());if(e){var n=function(t){if(t.hasOwnProperty("name"))return t.name;var e=(""+t).match(/^function\s*([^\s(]+)/);return null===e?"":e[1]}(t);return console.warn('DEPRECATED: DI is instantiating a token "'+n+'" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in v10. Please add @Injectable() to the "'+n+'" class.'),e}return null}(t);return null!==r?function(){return r.factory(t)}:function(){return new t}}(t);throw new Error("unreachable")}function ko(t,e,n){var r,i=void 0;if(Ao(t)){var o=Pt(t);return Te(o)||Io(o)}if(Eo(t))i=function(){return Pt(t.useValue)};else if((r=t)&&r.useFactory)i=function(){return t.useFactory.apply(t,u(re(t.deps||[])))};else if(function(t){return!(!t||!t.useExisting)}(t))i=function(){return ee(Pt(t.useExisting))};else{var a=Pt(t&&(t.useClass||t.provide));if(a||function(t,e,n){var r="";throw t&&e&&(r=" - only instances of Provider and Type are allowed, got: ["+e.map((function(t){return t==n?"?"+n+"?":"..."})).join(", ")+"]"),new Error("Invalid provider for the NgModule '"+Tt(t)+"'"+r)}(e,n,t),!function(t){return!!t.deps}(t))return Te(a)||Io(a);i=function(){return new(a.bind.apply(a,u([void 0],re(t.deps))))}}return i}function To(t,e,n){return void 0===n&&(n=!1),{factory:t,value:e,multi:n?[]:void 0}}function Eo(t){return null!==t&&"object"==typeof t&&Qt in t}function Ao(t){return"function"==typeof t}var Oo=function(t,e,n){return function(t,e,n,r){void 0===e&&(e=null),void 0===n&&(n=null);var i=Co(t,e,n,r);return i._resolveInjectorDefTypes(),i}({name:n},e,t,n)},Po=function(){function t(){}return t.create=function(t,e){return Array.isArray(t)?Oo(t,e,""):Oo(t.providers,t.parent,t.name||"")},t.THROW_IF_NOT_FOUND=Zt,t.NULL=new ie,t.\u0275prov=gt({token:t,providedIn:"any",factory:function(){return ee(Gt)}}),t.__NG_ELEMENT_ID__=-1,t}(),Do=new Wt("AnalyzeForEntryComponents"),Mo=new Map,Ro=new Set;function No(t){return"string"==typeof t?t:t.text()}function Vo(t,e){for(var n=t.styles,r=t.classes,i=0,o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:1==i?r=Et(r,a):2==i&&(n=Et(n,a+": "+e[++o]+";"))}null!==n&&(t.styles=n),null!==r&&(t.classes=r)}var jo=null;function zo(){if(!jo){var t=zt.Symbol;if(t&&t.iterator)jo=t.iterator;else for(var e=Object.getOwnPropertyNames(Map.prototype),n=0;n<e.length;++n){var r=e[n];"entries"!==r&&"size"!==r&&Map.prototype[r]===Map.prototype.entries&&(jo=r)}}return jo}function Lo(t,e){return t===e||"number"==typeof t&&"number"==typeof e&&isNaN(t)&&isNaN(e)}var Fo=function(){function t(t){this.wrapped=t}return t.wrap=function(e){return new t(e)},t.unwrap=function(e){return t.isWrapped(e)?e.wrapped:e},t.isWrapped=function(e){return e instanceof t},t}();function Uo(t){return!!Ho(t)&&(Array.isArray(t)||!(t instanceof Map)&&zo()in t)}function Ho(t){return null!==t&&("function"==typeof t||"object"==typeof t)}function Bo(t,e,n){return t[e]=n}function $o(t,e,n){return!Object.is(t[e],n)&&(t[e]=n,!0)}function qo(t,e,n,r){var i=$o(t,e,n);return $o(t,e+1,r)||i}function Wo(t,e,n,r){var i=Ye();return $o(i,dn(),e)&&(tn(),function(t,e,n,r,i,o){var a=Ue(t,e),s=e[11];if(null==r)je(s)?s.removeAttribute(a,n,o):a.removeAttribute(n);else{var u=null==i?Bn(r):i(r,t.tagName||"",n);je(s)?s.setAttribute(a,n,u,o):o?a.setAttributeNS(o,n,u):a.setAttribute(n,u)}}(kn(),i,t,e,n,r)),Wo}function Go(t,e,n,r){return $o(t,dn(),n)?e+Bn(n)+r:jr}function Zo(t,e,n,r,i,o){var a=qo(t,ln(),n,i);return pn(2),a?e+Bn(n)+r+Bn(i)+o:jr}function Xo(t,e,n,r,i,o,a,s){var u=Ye(),c=tn(),l=t+20,d=c.firstCreatePass?function(t,e,n,r,i,o,a,s,u){var c=e.consts,l=Qr(e,n[6],t,0,a||null,Ze(c,s));ci(e,n,l,Ze(c,u)),Tn(e,l);var d=l.tViews=oi(2,-1,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,c),p=ai(0,null,2,-1,null,null);return p.injectorIndex=l.injectorIndex,d.node=p,null!==e.queries&&(e.queries.template(e,l),d.queries=e.queries.embeddedTView(l)),l}(t,c,u,e,n,r,i,o,a):c.data[l];rn(d,!1);var p=u[11].createComment("");Ki(c,u,p,d),Cr(p,u),ki(u,u[l]=xi(p,u,p,d)),Me(d)&&ni(c,u,d),null!=a&&ri(u,d,s)}function Qo(t){return Be(Je.lFrame.contextLView,t)}function Jo(t,e){void 0===e&&(e=ht.Default);var n=Ye();return null==n?ee(t,e):er(nn(),n,Pt(t),e)}function Ko(t){return function(t,e){if("class"===e)return t.classes;if("style"===e)return t.styles;var n=t.attrs;if(n)for(var r=n.length,i=0;i<r;){var o=n[i];if(Nn(o))break;if(0===o)i+=2;else if("number"==typeof o)for(i++;i<r&&"string"==typeof n[i];)i++;else{if(o===e)return n[i+1];i+=2}}return null}(nn(),t)}function Yo(){throw new Error("invalid")}function ta(t,e,n){var r=Ye();return $o(r,dn(),e)&&ui(tn(),kn(),r,t,e,r[11],n,!1),ta}function ea(t,e,n,r,i){var o=i?"class":"style";Ni(t,n,e.inputs[o],o,r)}function na(t,e,n,r){var i=Ye(),o=tn(),a=20+t,s=i[11],u=i[a]=Zr(e,s,Je.lFrame.currentNamespace),c=o.firstCreatePass?function(t,e,n,r,i,o,a){var s=e.consts,u=Ze(s,o),c=Qr(e,n[6],t,3,i,u);return ci(e,n,c,Ze(s,a)),null!==c.mergedAttrs&&Vo(c,c.mergedAttrs),null!==e.queries&&e.queries.elementStart(e,c),c}(t,o,i,0,e,n,r):o.data[a];rn(c,!0);var l=c.mergedAttrs;null!==l&&Rn(s,u,l);var d=c.classes;null!==d&&io(s,u,d);var p=c.styles;null!==p&&ro(s,u,p),Ki(o,i,u,c),0===Je.lFrame.elementDepthCount&&Cr(u,i),Je.lFrame.elementDepthCount++,Me(c)&&(ni(o,i,c),ei(o,c,i)),null!==r&&ri(i,c)}function ra(){var t=nn();on()?an():rn(t=t.parent,!1);var e=t;Je.lFrame.elementDepthCount--;var n=tn();n.firstCreatePass&&(Tn(n,t),Pe(t)&&n.queries.elementEnd(t)),null!==e.classes&&function(t){return 0!=(16&t.flags)}(e)&&ea(n,e,Ye(),e.classes,!0),null!==e.styles&&function(t){return 0!=(32&t.flags)}(e)&&ea(n,e,Ye(),e.styles,!1)}function ia(t,e,n,r){na(t,e,n,r),ra()}function oa(){return Ye()}function aa(t){return!!t&&"function"==typeof t.then}function sa(t){return!!t&&"function"==typeof t.subscribe}function ua(t,e,n,r){void 0===n&&(n=!1);var i=Ye(),o=tn(),a=nn();return function(t,e,n,r,i,o,a,s){void 0===a&&(a=!1);var u=Me(r),c=t.firstCreatePass&&(t.cleanup||(t.cleanup=[])),l=Di(e),d=!0;if(3===r.type){var p=Ue(r,e),f=s?s(p):ve,h=f.target||p,m=l.length,v=s?function(t){return s(Le(t[r.index])).target}:r.index;if(je(n)){var g=null;if(!s&&u&&(g=function(t,e,n,r){var i=t.cleanup;if(null!=i)for(var o=0;o<i.length-1;o+=2){var a=i[o];if(a===n&&i[o+1]===r){var s=e[7],u=i[o+2];return s.length>u?s[u]:null}"string"==typeof a&&(o+=2)}return null}(t,e,i,r.index)),null!==g)(g.__ngLastListenerFn__||g).__ngNextListenerFn__=o,g.__ngLastListenerFn__=o,d=!1;else{o=la(r,e,o,!1);var y=n.listen(f.name||h,i,o);l.push(o,y),c&&c.push(i,v,m,m+1)}}else o=la(r,e,o,!0),h.addEventListener(i,o,a),l.push(o),c&&c.push(i,v,m,a)}var b,w=r.outputs;if(d&&null!==w&&(b=w[i])){var x=b.length;if(x)for(var _=0;_<x;_+=2){var C=e[b[_]][b[_+1]].subscribe(o),S=l.length;l.push(o,C),c&&c.push(i,r.index,S,-(S+1))}}}(o,i,i[11],a,t,e,n,r),ua}function ca(t,e,n){try{return!1!==e(n)}catch(r){return Ri(t,r),!1}}function la(t,e,n,r){return function i(o){if(o===Function)return n;var a=2&t.flags?$e(t.index,e):e;0==(32&e[2])&&Ti(a);for(var s=ca(e,n,o),u=i.__ngNextListenerFn__;u;)s=ca(e,u,o)&&s,u=u.__ngNextListenerFn__;return r&&!1===s&&(o.preventDefault(),o.returnValue=!1),s}}function da(t){return void 0===t&&(t=1),function(t){return(Je.lFrame.contextLView=function(t,e){for(;t>0;)e=e[15],t--;return e}(t,Je.lFrame.contextLView))[8]}(t)}function pa(t,e){for(var n=null,r=function(t){var e=t.attrs;if(null!=e){var n=e.indexOf(5);if(0==(1&n))return e[n+1]}return null}(t),i=0;i<e.length;i++){var o=e[i];if("*"!==o){if(null===r?Mr(t,o,!0):Rr(r,o))return i}else n=i}return n}function fa(t){var e=Ye()[16][6];if(!e.projection)for(var n=e.projection=le(t?t.length:1,null),r=n.slice(),i=e.child;null!==i;){var o=t?pa(i,t):0;null!==o&&(r[o]?r[o].projectionNext=i:n[o]=i,r[o]=i),i=i.next}}function ha(t,e,n){void 0===e&&(e=0);var r=Ye(),i=tn(),o=Qr(i,r[6],t,1,null,n||null);null===o.projection&&(o.projection=e),an(),function(t,e,n){no(e[11],0,e,n,Wi(t,n,e),Ji(n.parent||e[6],e))}(i,r,o)}function ma(t,e,n){return va(t,"",e,"",n),ma}function va(t,e,n,r,i){var o=Ye(),a=Go(o,e,n,r);return a!==jr&&ui(tn(),kn(),o,t,a,o[11],i,!1),va}function ga(t,e,n,r,i,o,a){var s=Ye(),u=Zo(s,e,n,r,i,o);return u!==jr&&ui(tn(),kn(),s,t,u,s[11],a,!1),ga}var ya=[];function ba(t,e,n,r,i){for(var o=t[n+1],a=null===e,s=r?Hr(o):$r(o),u=!1;0!==s&&(!1===u||a);){var c=t[s+1];wa(t[s],e)&&(u=!0,t[s+1]=r?Wr(c):Br(c)),s=r?Hr(c):$r(c)}u&&(t[n+1]=r?Br(o):Wr(o))}function wa(t,e){return null===t||null==e||(Array.isArray(t)?t[1]:t)===e||!(!Array.isArray(t)||"string"!=typeof e)&&fe(t,e)>=0}var xa={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function _a(t){return t.substring(xa.key,xa.keyEnd)}function Ca(t,e){var n=xa.textEnd;return n===e?-1:(e=xa.keyEnd=function(t,e,n){for(;e<n&&t.charCodeAt(e)>32;)e++;return e}(t,xa.key=e,n),Sa(t,e,n))}function Sa(t,e,n){for(;e<n&&t.charCodeAt(e)<=32;)e++;return e}function Ia(t,e,n){return Ea(t,e,n,!1),Ia}function ka(t,e){return Ea(t,e,null,!0),ka}function Ta(t,e){for(var n=function(t){return function(t){xa.key=0,xa.keyEnd=0,xa.value=0,xa.valueEnd=0,xa.textEnd=t.length}(t),Ca(t,Sa(t,0,xa.textEnd))}(e);n>=0;n=Ca(e,n))de(t,_a(e),!0)}function Ea(t,e,n,r){var i,o=Ye(),a=tn(),s=pn(2);if(a.firstUpdatePass&&Oa(a,t,s,r),e!==jr&&$o(o,s,e)){var u=void 0;null==n&&(u=null===(i=Je.lFrame)?null:i.currentSanitizer)&&(n=u),Ma(a,a.data[Sn()+20],o,o[11],t,o[s+1]=function(t,e){return null==t||("function"==typeof e?t=e(t):"string"==typeof e?t+=e:"object"==typeof t&&(t=Tt(mr(t)))),t}(e,n),r,s)}}function Aa(t,e){return e>=t.expandoStartIndex}function Oa(t,e,n,r){var i=t.data;if(null===i[n+1]){var o=i[Sn()+20],a=Aa(t,n);Va(o,r)&&null===e&&!a&&(e=!1),e=function(t,e,n,r){var i=function(t){var e=Je.lFrame.currentDirectiveIndex;return-1===e?null:t[e]}(t),o=r?e.residualClasses:e.residualStyles;if(null===i)0===(r?e.classBindings:e.styleBindings)&&(n=Da(n=Pa(null,t,e,n,r),e.attrs,r),o=null);else{var a=e.directiveStylingLast;if(-1===a||t[a]!==i)if(n=Pa(i,t,e,n,r),null===o){var s=function(t,e,n){var r=n?e.classBindings:e.styleBindings;if(0!==$r(r))return t[Hr(r)]}(t,e,r);void 0!==s&&Array.isArray(s)&&function(t,e,n,r){t[Hr(n?e.classBindings:e.styleBindings)]=r}(t,e,r,s=Da(s=Pa(null,t,e,s[1],r),e.attrs,r))}else o=function(t,e,n){for(var r=void 0,i=e.directiveEnd,o=1+e.directiveStylingLast;o<i;o++)r=Da(r,t[o].hostAttrs,n);return Da(r,e.attrs,n)}(t,e,r)}return void 0!==o&&(r?e.residualClasses=o:e.residualStyles=o),n}(i,o,e,r),function(t,e,n,r,i,o){var a=o?e.classBindings:e.styleBindings,s=Hr(a),u=$r(a);t[r]=n;var c,l=!1;if(Array.isArray(n)?(null===(c=n[1])||fe(n,c)>0)&&(l=!0):c=n,i)if(0!==u){var d=Hr(t[s+1]);t[r+1]=Ur(d,s),0!==d&&(t[d+1]=qr(t[d+1],r)),t[s+1]=131071&t[s+1]|r<<17}else t[r+1]=Ur(s,0),0!==s&&(t[s+1]=qr(t[s+1],r)),s=r;else t[r+1]=Ur(u,0),0===s?s=r:t[u+1]=qr(t[u+1],r),u=r;l&&(t[r+1]=Br(t[r+1])),ba(t,c,r,!0),ba(t,c,r,!1),function(t,e,n,r,i){var o=i?t.residualClasses:t.residualStyles;null!=o&&"string"==typeof e&&fe(o,e)>=0&&(n[r+1]=Wr(n[r+1]))}(e,c,t,r,o),a=Ur(s,u),o?e.classBindings=a:e.styleBindings=a}(i,o,e,n,a,r)}}function Pa(t,e,n,r,i){var o=null,a=n.directiveEnd,s=n.directiveStylingLast;for(-1===s?s=n.directiveStart:s++;s<a&&(r=Da(r,(o=e[s]).hostAttrs,i),o!==t);)s++;return null!==t&&(n.directiveStylingLast=s),r}function Da(t,e,n){var r=n?1:2,i=-1;if(null!==e)for(var o=0;o<e.length;o++){var a=e[o];"number"==typeof a?i=a:i===r&&(Array.isArray(t)||(t=void 0===t?[]:["",t]),de(t,a,!!n||e[++o]))}return void 0===t?null:t}function Ma(t,e,n,r,i,o,a,s){if(3===e.type){var u=t.data,c=u[s+1];Na(1==(1&c)?Ra(u,e,n,i,$r(c),a):void 0)||(Na(o)||function(t){return 2==(2&t)}(c)&&(o=Ra(u,null,n,i,s,a)),function(t,e,n,r,i){var o=je(t);if(e)i?o?t.addClass(n,r):n.classList.add(r):o?t.removeClass(n,r):n.classList.remove(r);else{var a=-1==r.indexOf("-")?void 0:2;null==i?o?t.removeStyle(n,r,a):n.style.removeProperty(r):o?t.setStyle(n,r,i,a):n.style.setProperty(r,i)}}(r,a,Fe(Sn(),n),i,o))}}function Ra(t,e,n,r,i,o){for(var a=null===e,s=void 0;i>0;){var u=t[i],c=Array.isArray(u),l=c?u[1]:u,d=null===l,p=n[i+1];p===jr&&(p=d?ya:void 0);var f=d?pe(p,r):l===r?p:void 0;if(c&&!Na(f)&&(f=pe(u,r)),Na(f)&&(s=f,a))return s;var h=t[i+1];i=a?Hr(h):$r(h)}if(null!==e){var m=o?e.residualClasses:e.residualStyles;null!=m&&(s=pe(m,r))}return s}function Na(t){return void 0!==t}function Va(t,e){return 0!=(t.flags&(e?16:32))}function ja(t,e){void 0===e&&(e="");var n=Ye(),r=tn(),i=t+20,o=r.firstCreatePass?Qr(r,n[6],t,3,null,null):r.data[i],a=n[i]=function(t,e){return je(e)?e.createText(t):e.createTextNode(t)}(e,n[11]);Ki(r,n,a,o),rn(o,!1)}function za(t){return La("",t,""),za}function La(t,e,n){var r=Ye(),i=Go(r,t,e,n);return i!==jr&&Vi(r,Sn(),i),La}function Fa(t,e,n,r,i){var o=Ye(),a=Zo(o,t,e,n,r,i);return a!==jr&&Vi(o,Sn(),a),Fa}function Ua(t,e,n){!function(t,e,n,r){var i=tn(),o=pn(2);i.firstUpdatePass&&Oa(i,null,o,!0);var a=Ye();if(n!==jr&&$o(a,o,n)){var s=i.data[Sn()+20];if(Va(s,!0)&&!Aa(i,o)){var u=s.classes;null!==u&&(n=Et(u,n||"")),ea(i,s,a,n,!0)}else!function(t,e,n,r,i,o,a,s){i===jr&&(i=ya);for(var u=0,c=0,l=0<i.length?i[0]:null,d=0<o.length?o[0]:null;null!==l||null!==d;){var p=u<i.length?i[u+1]:void 0,f=c<o.length?o[c+1]:void 0,h=null,m=void 0;l===d?(u+=2,c+=2,p!==f&&(h=d,m=f)):null===d||null!==l&&l<d?(u+=2,h=l):(c+=2,h=d,m=f),null!==h&&Ma(t,e,n,r,h,m,!0,s),l=u<i.length?i[u]:null,d=c<o.length?o[c]:null}}(i,s,a,a[11],a[o+1],a[o+1]=function(t,e,n){if(null==n||""===n)return ya;var r=[],i=mr(n);if(Array.isArray(i))for(var o=0;o<i.length;o++)t(r,i[o],!0);else if("object"==typeof i)for(var a in i)i.hasOwnProperty(a)&&t(r,a,i[a]);else"string"==typeof i&&e(r,i);return r}(t,e,n),0,o)}}(de,Ta,Go(Ye(),t,e,n))}function Ha(t,e,n){var r=Ye();return $o(r,dn(),e)&&ui(tn(),kn(),r,t,e,r[11],n,!0),Ha}function Ba(t,e){var n=qe(t)[1],r=n.data.length-1;Tn(n,{directiveStart:r,directiveEnd:r+1})}function $a(t){for(var e=Object.getPrototypeOf(t.type.prototype).constructor,n=!0,r=[t];e;){var i=void 0;if(Re(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Error("Directives cannot inherit Components");i=e.\u0275dir}if(i){if(n){r.push(i);var o=t;o.inputs=qa(t.inputs),o.declaredInputs=qa(t.declaredInputs),o.outputs=qa(t.outputs);var a=i.hostBindings;a&&Za(t,a);var s=i.viewQuery,u=i.contentQueries;if(s&&Wa(t,s),u&&Ga(t,u),vt(t.inputs,i.inputs),vt(t.declaredInputs,i.declaredInputs),vt(t.outputs,i.outputs),Re(i)&&i.data.animation){var c=t.data;c.animation=(c.animation||[]).concat(i.data.animation)}o.afterContentChecked=o.afterContentChecked||i.afterContentChecked,o.afterContentInit=t.afterContentInit||i.afterContentInit,o.afterViewChecked=t.afterViewChecked||i.afterViewChecked,o.afterViewInit=t.afterViewInit||i.afterViewInit,o.doCheck=t.doCheck||i.doCheck,o.onDestroy=t.onDestroy||i.onDestroy,o.onInit=t.onInit||i.onInit}var l=i.features;if(l)for(var d=0;d<l.length;d++){var p=l[d];p&&p.ngInherit&&p(t),p===$a&&(n=!1)}}e=Object.getPrototypeOf(e)}!function(t){for(var e=0,n=null,r=t.length-1;r>=0;r--){var i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=jn(i.hostAttrs,n=jn(n,i.hostAttrs))}}(r)}function qa(t){return t===ve?{}:t===ge?[]:t}function Wa(t,e){var n=t.viewQuery;t.viewQuery=n?function(t,r){e(t,r),n(t,r)}:e}function Ga(t,e){var n=t.contentQueries;t.contentQueries=n?function(t,r,i){e(t,r,i),n(t,r,i)}:e}function Za(t,e){var n=t.hostBindings;t.hostBindings=n?function(t,r){e(t,r),n(t,r)}:e}var Xa=function(){function t(t,e,n){this.previousValue=t,this.currentValue=e,this.firstChange=n}return t.prototype.isFirstChange=function(){return this.firstChange},t}();function Qa(t){t.type.prototype.ngOnChanges&&(t.setInput=Ja,t.onChanges=function(){var t=Ka(this),e=t&&t.current;if(e){var n=t.previous;if(n===ve)t.previous=e;else for(var r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}})}function Ja(t,e,n,r){var i=Ka(t)||function(t,e){return t.__ngSimpleChanges__=e}(t,{previous:ve,current:null}),o=i.current||(i.current={}),a=i.previous,s=this.declaredInputs[n],u=a[s];o[s]=new Xa(u&&u.currentValue,e,a===ve),t[r]=e}function Ka(t){return t.__ngSimpleChanges__||null}function Ya(t,e,n,r,i){if(t=Pt(t),Array.isArray(t))for(var o=0;o<t.length;o++)Ya(t[o],e,n,r,i);else{var a=tn(),s=Ye(),u=Ao(t)?t:Pt(t.provide),c=ko(t),l=nn(),d=65535&l.providerIndexes,p=l.directiveStart,f=l.providerIndexes>>16;if(Ao(t)||!t.multi){var h=new Mn(c,i,Jo),m=ns(u,e,i?d:d+f,p);-1===m?(tr(Qn(l,s),a,u),ts(a,t,e.length),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(h),s.push(h)):(n[m]=h,s[m]=h)}else{var v=ns(u,e,d+f,p),g=ns(u,e,d,d+f),y=g>=0&&n[g];i&&!y||!i&&!(v>=0&&n[v])?(tr(Qn(l,s),a,u),h=function(t,e,n,r,i){var o=new Mn(t,n,Jo);return o.multi=[],o.index=e,o.componentProviders=0,es(o,i,r&&!n),o}(i?is:rs,n.length,i,r,c),!i&&y&&(n[g].providerFactory=h),ts(a,t,e.length,0),e.push(u),l.directiveStart++,l.directiveEnd++,i&&(l.providerIndexes+=65536),n.push(h),s.push(h)):ts(a,t,v>-1?v:g,es(n[i?g:v],c,!i&&r)),!i&&r&&y&&n[g].componentProviders++}}}function ts(t,e,n,r){var i=Ao(e);if(i||e.useClass){var o=(e.useClass||e).prototype.ngOnDestroy;if(o){var a=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){var s=a.indexOf(n);-1===s?a.push(n,[r,o]):a[s+1].push(r,o)}else a.push(n,o)}}}function es(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function ns(t,e,n,r){for(var i=n;i<r;i++)if(e[i]===t)return i;return-1}function rs(t,e,n,r){return os(this.multi,[])}function is(t,e,n,r){var i,o=this.multi;if(this.providerFactory){var a=this.providerFactory.componentProviders,s=or(n,n[1],this.providerFactory.index,r);os(o,i=s.slice(0,a));for(var u=a;u<s.length;u++)i.push(s[u])}else os(o,i=[]);return i}function os(t,e){for(var n=0;n<t.length;n++)e.push((0,t[n])());return e}function as(t,e){return void 0===e&&(e=[]),function(n){n.providersResolver=function(n,r){return function(t,e,n){var r=tn();if(r.firstCreatePass){var i=Re(t);Ya(n,r.data,r.blueprint,i,!0),Ya(e,r.data,r.blueprint,i,!1)}}(n,r?r(t):t,e)}}}Qa.ngInherit=!0;var ss=function(){return function(){}}(),us=function(){return function(){}}(),cs=function(){function t(){}return t.prototype.resolveComponentFactory=function(t){throw function(t){var e=Error("No component factory found for "+Tt(t)+". Did you add it to @NgModule.entryComponents?");return e.ngComponent=t,e}(t)},t}(),ls=function(){function t(){}return t.NULL=new cs,t}(),ds=function(){function t(t){this.nativeElement=t}return t.__NG_ELEMENT_ID__=function(){return ps(t)},t}(),ps=function(t){return lo(t,nn(),Ye())},fs=function(){return function(){}}(),hs=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}({}),ms=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return vs()},t}(),vs=function(){var t=Ye(),e=$e(nn().index,t);return function(t){var e=t[11];if(je(e))return e;throw new Error("Cannot inject Renderer2 when the application uses Renderer3!")}(Ae(e)?e:t)},gs=function(){function t(){}return t.\u0275prov=gt({token:t,providedIn:"root",factory:function(){return null}}),t}(),ys=new(function(){return function(t){this.full=t,this.major=t.split(".")[0],this.minor=t.split(".")[1],this.patch=t.split(".").slice(2).join(".")}}())("9.1.7"),bs=function(){function t(){}return t.prototype.supports=function(t){return Uo(t)},t.prototype.create=function(t){return new xs(t)},t}(),ws=function(t,e){return e},xs=function(){function t(t){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=t||ws}return t.prototype.forEachItem=function(t){var e;for(e=this._itHead;null!==e;e=e._next)t(e)},t.prototype.forEachOperation=function(t){for(var e=this._itHead,n=this._removalsHead,r=0,i=null;e||n;){var o=!n||e&&e.currentIndex<Is(n,r,i)?e:n,a=Is(o,r,i),s=o.currentIndex;if(o===n)r--,n=n._nextRemoved;else if(e=e._next,null==o.previousIndex)r++;else{i||(i=[]);var u=a-r,c=s-r;if(u!=c){for(var l=0;l<u;l++){var d=l<i.length?i[l]:i[l]=0,p=d+l;c<=p&&p<u&&(i[l]=d+1)}i[o.previousIndex]=c-u}}a!==s&&t(o,a,s)}},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousItHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachMovedItem=function(t){var e;for(e=this._movesHead;null!==e;e=e._nextMoved)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.forEachIdentityChange=function(t){var e;for(e=this._identityChangesHead;null!==e;e=e._nextIdentityChange)t(e)},t.prototype.diff=function(t){if(null==t&&(t=[]),!Uo(t))throw new Error("Error trying to diff '"+Tt(t)+"'. Only arrays and iterables are allowed");return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n,r,i,o=this._itHead,a=!1;if(Array.isArray(t)){this.length=t.length;for(var s=0;s<this.length;s++)i=this._trackByFn(s,r=t[s]),null!==o&&Lo(o.trackById,i)?(a&&(o=this._verifyReinsertion(o,r,i,s)),Lo(o.item,r)||this._addIdentityChange(o,r)):(o=this._mismatch(o,r,i,s),a=!0),o=o._next}else n=0,function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;n++)e(t[n]);else for(var r=t[zo()](),i=void 0;!(i=r.next()).done;)e(i.value)}(t,(function(t){i=e._trackByFn(n,t),null!==o&&Lo(o.trackById,i)?(a&&(o=e._verifyReinsertion(o,t,i,n)),Lo(o.item,t)||e._addIdentityChange(o,t)):(o=e._mismatch(o,t,i,n),a=!0),o=o._next,n++})),this.length=n;return this._truncate(o),this.collection=t,this.isDirty},Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead},enumerable:!0,configurable:!0}),t.prototype._reset=function(){if(this.isDirty){var t=void 0,e=void 0;for(t=this._previousItHead=this._itHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._additionsHead;null!==t;t=t._nextAdded)t.previousIndex=t.currentIndex;for(this._additionsHead=this._additionsTail=null,t=this._movesHead;null!==t;t=e)t.previousIndex=t.currentIndex,e=t._nextMoved;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}},t.prototype._mismatch=function(t,e,n,r){var i;return null===t?i=this._itTail:(i=t._prev,this._remove(t)),null!==(t=null===this._linkedRecords?null:this._linkedRecords.get(n,r))?(Lo(t.item,e)||this._addIdentityChange(t,e),this._moveAfter(t,i,r)):null!==(t=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null))?(Lo(t.item,e)||this._addIdentityChange(t,e),this._reinsertAfter(t,i,r)):t=this._addAfter(new _s(e,n),i,r),t},t.prototype._verifyReinsertion=function(t,e,n,r){var i=null===this._unlinkedRecords?null:this._unlinkedRecords.get(n,null);return null!==i?t=this._reinsertAfter(i,t._prev,r):t.currentIndex!=r&&(t.currentIndex=r,this._addToMoves(t,r)),t},t.prototype._truncate=function(t){for(;null!==t;){var e=t._next;this._addToRemovals(this._unlink(t)),t=e}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)},t.prototype._reinsertAfter=function(t,e,n){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(t);var r=t._prevRemoved,i=t._nextRemoved;return null===r?this._removalsHead=i:r._nextRemoved=i,null===i?this._removalsTail=r:i._prevRemoved=r,this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._moveAfter=function(t,e,n){return this._unlink(t),this._insertAfter(t,e,n),this._addToMoves(t,n),t},t.prototype._addAfter=function(t,e,n){return this._insertAfter(t,e,n),this._additionsTail=null===this._additionsTail?this._additionsHead=t:this._additionsTail._nextAdded=t,t},t.prototype._insertAfter=function(t,e,n){var r=null===e?this._itHead:e._next;return t._next=r,t._prev=e,null===r?this._itTail=t:r._prev=t,null===e?this._itHead=t:e._next=t,null===this._linkedRecords&&(this._linkedRecords=new Ss),this._linkedRecords.put(t),t.currentIndex=n,t},t.prototype._remove=function(t){return this._addToRemovals(this._unlink(t))},t.prototype._unlink=function(t){null!==this._linkedRecords&&this._linkedRecords.remove(t);var e=t._prev,n=t._next;return null===e?this._itHead=n:e._next=n,null===n?this._itTail=e:n._prev=e,t},t.prototype._addToMoves=function(t,e){return t.previousIndex===e||(this._movesTail=null===this._movesTail?this._movesHead=t:this._movesTail._nextMoved=t),t},t.prototype._addToRemovals=function(t){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ss),this._unlinkedRecords.put(t),t.currentIndex=null,t._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=t,t._prevRemoved=null):(t._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=t),t},t.prototype._addIdentityChange=function(t,e){return t.item=e,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=t:this._identityChangesTail._nextIdentityChange=t,t},t}(),_s=function(){return function(t,e){this.item=t,this.trackById=e,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}(),Cs=function(){function t(){this._head=null,this._tail=null}return t.prototype.add=function(t){null===this._head?(this._head=this._tail=t,t._nextDup=null,t._prevDup=null):(this._tail._nextDup=t,t._prevDup=this._tail,t._nextDup=null,this._tail=t)},t.prototype.get=function(t,e){var n;for(n=this._head;null!==n;n=n._nextDup)if((null===e||e<=n.currentIndex)&&Lo(n.trackById,t))return n;return null},t.prototype.remove=function(t){var e=t._prevDup,n=t._nextDup;return null===e?this._head=n:e._nextDup=n,null===n?this._tail=e:n._prevDup=e,null===this._head},t}(),Ss=function(){function t(){this.map=new Map}return t.prototype.put=function(t){var e=t.trackById,n=this.map.get(e);n||(n=new Cs,this.map.set(e,n)),n.add(t)},t.prototype.get=function(t,e){var n=this.map.get(t);return n?n.get(t,e):null},t.prototype.remove=function(t){var e=t.trackById;return this.map.get(e).remove(t)&&this.map.delete(e),t},Object.defineProperty(t.prototype,"isEmpty",{get:function(){return 0===this.map.size},enumerable:!0,configurable:!0}),t.prototype.clear=function(){this.map.clear()},t}();function Is(t,e,n){var r=t.previousIndex;if(null===r)return r;var i=0;return n&&r<n.length&&(i=n[r]),r+e+i}var ks=function(){function t(){}return t.prototype.supports=function(t){return t instanceof Map||Ho(t)},t.prototype.create=function(){return new Ts},t}(),Ts=function(){function t(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}return Object.defineProperty(t.prototype,"isDirty",{get:function(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead},enumerable:!0,configurable:!0}),t.prototype.forEachItem=function(t){var e;for(e=this._mapHead;null!==e;e=e._next)t(e)},t.prototype.forEachPreviousItem=function(t){var e;for(e=this._previousMapHead;null!==e;e=e._nextPrevious)t(e)},t.prototype.forEachChangedItem=function(t){var e;for(e=this._changesHead;null!==e;e=e._nextChanged)t(e)},t.prototype.forEachAddedItem=function(t){var e;for(e=this._additionsHead;null!==e;e=e._nextAdded)t(e)},t.prototype.forEachRemovedItem=function(t){var e;for(e=this._removalsHead;null!==e;e=e._nextRemoved)t(e)},t.prototype.diff=function(t){if(t){if(!(t instanceof Map||Ho(t)))throw new Error("Error trying to diff '"+Tt(t)+"'. Only maps and objects are allowed")}else t=new Map;return this.check(t)?this:null},t.prototype.onDestroy=function(){},t.prototype.check=function(t){var e=this;this._reset();var n=this._mapHead;if(this._appendAfter=null,this._forEach(t,(function(t,r){if(n&&n.key===r)e._maybeAddToChanges(n,t),e._appendAfter=n,n=n._next;else{var i=e._getOrCreateRecordForKey(r,t);n=e._insertBeforeOrAppend(n,i)}})),n){n._prev&&(n._prev._next=null),this._removalsHead=n;for(var r=n;null!==r;r=r._nextRemoved)r===this._mapHead&&(this._mapHead=null),this._records.delete(r.key),r._nextRemoved=r._next,r.previousValue=r.currentValue,r.currentValue=null,r._prev=null,r._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty},t.prototype._insertBeforeOrAppend=function(t,e){if(t){var n=t._prev;return e._next=t,e._prev=n,t._prev=e,n&&(n._next=e),t===this._mapHead&&(this._mapHead=e),this._appendAfter=t,t}return this._appendAfter?(this._appendAfter._next=e,e._prev=this._appendAfter):this._mapHead=e,this._appendAfter=e,null},t.prototype._getOrCreateRecordForKey=function(t,e){if(this._records.has(t)){var n=this._records.get(t);this._maybeAddToChanges(n,e);var r=n._prev,i=n._next;return r&&(r._next=i),i&&(i._prev=r),n._next=null,n._prev=null,n}var o=new Es(t);return this._records.set(t,o),o.currentValue=e,this._addToAdditions(o),o},t.prototype._reset=function(){if(this.isDirty){var t=void 0;for(this._previousMapHead=this._mapHead,t=this._previousMapHead;null!==t;t=t._next)t._nextPrevious=t._next;for(t=this._changesHead;null!==t;t=t._nextChanged)t.previousValue=t.currentValue;for(t=this._additionsHead;null!=t;t=t._nextAdded)t.previousValue=t.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}},t.prototype._maybeAddToChanges=function(t,e){Lo(e,t.currentValue)||(t.previousValue=t.currentValue,t.currentValue=e,this._addToChanges(t))},t.prototype._addToAdditions=function(t){null===this._additionsHead?this._additionsHead=this._additionsTail=t:(this._additionsTail._nextAdded=t,this._additionsTail=t)},t.prototype._addToChanges=function(t){null===this._changesHead?this._changesHead=this._changesTail=t:(this._changesTail._nextChanged=t,this._changesTail=t)},t.prototype._forEach=function(t,e){t instanceof Map?t.forEach(e):Object.keys(t).forEach((function(n){return e(t[n],n)}))},t}(),Es=function(){return function(t){this.key=t,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}(),As=function(){function t(t){this.factories=t}return t.create=function(e,n){if(null!=n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend IterableDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ft,new dt]]}},t.prototype.find=function(t){var e,n=this.factories.find((function(e){return e.supports(t)}));if(null!=n)return n;throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'")},t.\u0275prov=gt({token:t,providedIn:"root",factory:function(){return new t([new bs])}}),t}(),Os=function(){function t(t){this.factories=t}return t.create=function(e,n){if(n){var r=n.factories.slice();e=e.concat(r)}return new t(e)},t.extend=function(e){return{provide:t,useFactory:function(n){if(!n)throw new Error("Cannot extend KeyValueDiffers without a parent injector");return t.create(e,n)},deps:[[t,new ft,new dt]]}},t.prototype.find=function(t){var e=this.factories.find((function(e){return e.supports(t)}));if(e)return e;throw new Error("Cannot find a differ supporting object '"+t+"'")},t.\u0275prov=gt({token:t,providedIn:"root",factory:function(){return new t([new ks])}}),t}(),Ps=[new ks],Ds=new As([new bs]),Ms=new Os(Ps),Rs=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return Ns(t,ds)},t}(),Ns=function(t,e){return po(t,e,nn(),Ye())},Vs=function(){function t(){}return t.__NG_ELEMENT_ID__=function(){return js(t,ds)},t}(),js=function(t,e){return fo(t,e,nn(),Ye())},zs={},Ls=function(t){function e(e){var n=t.call(this)||this;return n.ngModule=e,n}return i(e,t),e.prototype.resolveComponentFactory=function(t){var e=ke(t);return new Hs(e,this.ngModule)},e}(ls);function Fs(t){var e=[];for(var n in t)t.hasOwnProperty(n)&&e.push({propName:t[n],templateName:n});return e}var Us=new Wt("SCHEDULER_TOKEN",{providedIn:"root",factory:function(){return qn}}),Hs=function(t){function e(e,n){var r=t.call(this)||this;return r.componentDef=e,r.ngModule=n,r.componentType=e.type,r.selector=e.selectors.map(Vr).join(","),r.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],r.isBoundToModule=!!n,r}return i(e,t),Object.defineProperty(e.prototype,"inputs",{get:function(){return Fs(this.componentDef.inputs)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"outputs",{get:function(){return Fs(this.componentDef.outputs)},enumerable:!0,configurable:!0}),e.prototype.create=function(t,e,n,r){var i,o,a=(r=r||this.ngModule)?function(t,e){return{get:function(n,r,i){var o=t.get(n,zs,i);return o!==zs||r===zs?o:e.get(n,r,i)}}}(t,r.injector):t,s=a.get(fs,ze),u=a.get(gs,null),c=s.createRenderer(null,this.componentDef),l=this.componentDef.selectors[0][0]||"div",d=n?function(t,e,n){if(je(t))return t.selectRootElement(e,n===me.ShadowDom);var r="string"==typeof e?t.querySelector(e):e;return r.textContent="",r}(c,n,this.componentDef.encapsulation):Zr(l,s.createRenderer(null,this.componentDef),function(t){var e=t.toLowerCase();return"svg"===e?"http://www.w3.org/2000/svg":"math"===e?"http://www.w3.org/1998/MathML/":null}(l)),p=this.componentDef.onPush?576:528,f="string"==typeof n&&/^#root-ng-internal-isolated-\d+/.test(n),h={components:[],scheduler:qn,clean:Pi,playerHandler:null,flags:0},m=oi(0,-1,null,1,0,null,null,null,null,null),v=Xr(null,m,h,p,null,null,s,c,u,a);yn(v,null);try{var g=function(t,e,n,r,i,o){var a=n[1];n[20]=t;var s=Qr(a,null,0,3,null,null),u=s.mergedAttrs=e.hostAttrs;null!==u&&(Vo(s,u),null!==t&&(Rn(i,t,u),null!==s.classes&&io(i,t,s.classes),null!==s.styles&&ro(i,t,s.styles)));var c=r.createRenderer(t,e),l=Xr(n,ii(e),null,e.onPush?64:16,n[20],s,r,c,void 0);return a.firstCreatePass&&(tr(Qn(s,n),a,e.type),hi(a,s),vi(s,n.length,1)),ki(n,l),n[20]=l}(d,this.componentDef,v,s,c);if(d)if(n)Rn(c,d,["ng-version",ys.full]);else{var y=function(t){for(var e=[],n=[],r=1,i=2;r<t.length;){var o=t[r];if("string"==typeof o)2===i?""!==o&&e.push(o,t[++r]):8===i&&n.push(o);else{if(!Pr(i))break;i=o}r++}return{attrs:e,classes:n}}(this.componentDef.selectors[0]),b=y.attrs,w=y.classes;b&&Rn(c,d,b),w&&w.length>0&&io(c,d,w.join(" "))}if(o=He(m,0),void 0!==e)for(var x=o.projection=[],_=0;_<this.ngContentSelectors.length;_++){var C=e[_];x.push(null!=C?Array.from(C):null)}i=function(t,e,n,r,i){var o=n[1],a=function(t,e,n){var r=nn();t.firstCreatePass&&(n.providersResolver&&n.providersResolver(n),fi(t,r,1),gi(t,e,n));var i=or(e,t,e.length-1,r);Cr(i,e);var o=Ue(r,e);return o&&Cr(o,e),i}(o,n,e);r.components.push(a),t[8]=a,i&&i.forEach((function(t){return t(a,e)})),e.contentQueries&&e.contentQueries(1,a,n.length-1);var s=nn();if(o.firstCreatePass&&(null!==e.hostBindings||null!==e.hostAttrs)){In(s.index-20);var u=n[1];li(u,e),di(u,n,e.hostVars),pi(e,a)}return a}(g,this.componentDef,v,h,[Ba]),Jr(m,v,null)}finally{Cn()}var S=new Bs(this.componentType,i,lo(ds,o,v),v,o);return n&&!f||(S.hostView._tViewNode.child=o),S},e}(us),Bs=function(t){function e(e,n,r,i,o){var a,s,u,c=t.call(this)||this;return c.location=r,c._rootLView=i,c._tNode=o,c.destroyCbs=[],c.instance=n,c.hostView=c.changeDetectorRef=new co(i),c.hostView._tViewNode=(s=i,null==(u=(a=i[1]).node)&&(a.node=u=ai(0,null,2,-1,null,null)),s[6]=u),c.componentType=e,c}return i(e,t),Object.defineProperty(e.prototype,"injector",{get:function(){return new ur(this._tNode,this._rootLView)},enumerable:!0,configurable:!0}),e.prototype.destroy=function(){this.destroyCbs&&(this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null,!this.hostView.destroyed&&this.hostView.destroy())},e.prototype.onDestroy=function(t){this.destroyCbs&&this.destroyCbs.push(t)},e}(ss),$s=void 0,qs=["en",[["a","p"],["AM","PM"],$s],[["AM","PM"],$s,$s],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],$s,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],$s,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",$s,"{1} 'at' {0}",$s],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function(t){var e=Math.floor(Math.abs(t)),n=t.toString().replace(/^[^.]*\.?/,"").length;return 1===e&&0===n?1:5}],Ws={};function Gs(t){return t in Ws||(Ws[t]=zt.ng&&zt.ng.common&&zt.ng.common.locales&&zt.ng.common.locales[t]),Ws[t]}var Zs=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}({});function Xs(t){var e,n;n="Expected localeId to be defined",null==(e=t)&&function(t,e,n,r){throw new Error("ASSERTION ERROR: "+t+" [Expected=> null != "+e+" <=Actual]")}(n,e),"string"==typeof t&&t.toLowerCase().replace(/_/g,"-")}var Qs=new Map,Js=function(t){function e(e,n){var r=t.call(this)||this;r._parent=n,r._bootstrapComponents=[],r.injector=r,r.destroyCbs=[],r.componentFactoryResolver=new Ls(r);var i=Ee(e),o=e[Bt]||null;return o&&Xs(o),r._bootstrapComponents=Wn(i.bootstrap),r._r3Injector=Co(e,n,[{provide:oe,useValue:r},{provide:ls,useValue:r.componentFactoryResolver}],Tt(e)),r._r3Injector._resolveInjectorDefTypes(),r.instance=r.get(e),r}return i(e,t),e.prototype.get=function(t,e,n){return void 0===e&&(e=Po.THROW_IF_NOT_FOUND),void 0===n&&(n=ht.Default),t===Po||t===oe||t===Gt?this:this._r3Injector.get(t,e,n)},e.prototype.destroy=function(){var t=this._r3Injector;!t.destroyed&&t.destroy(),this.destroyCbs.forEach((function(t){return t()})),this.destroyCbs=null},e.prototype.onDestroy=function(t){this.destroyCbs.push(t)},e}(oe),Ks=function(t){function e(e){var n=t.call(this)||this;return n.moduleType=e,null!==Ee(e)&&function t(e){if(null!==e.\u0275mod.id){var n=e.\u0275mod.id;(function(t,e,n){if(e&&e!==n)throw new Error("Duplicate module registered for "+t+" - "+Tt(e)+" vs "+Tt(e.name))})(n,Qs.get(n),e),Qs.set(n,e)}var r=e.\u0275mod.imports;r instanceof Function&&(r=r()),r&&r.forEach((function(e){return t(e)}))}(e),n}return i(e,t),e.prototype.create=function(t){return new Js(this.moduleType,t)},e}(ae);function Ys(t,e,n){var r=cn()+t,i=Ye();return i[r]===jr?Bo(i,r,n?e.call(n):e()):function(t,e){return t[e]}(i,r)}function tu(t,e,n,r){return nu(Ye(),cn(),t,e,n,r)}function eu(t,e){var n=t[e];return n===jr?void 0:n}function nu(t,e,n,r,i,o){var a=e+n;return $o(t,a,i)?Bo(t,a+1,o?r.call(o,i):r(i)):eu(t,a+1)}function ru(t,e){var n,r=tn(),i=t+20;r.firstCreatePass?(n=function(t,e){if(e)for(var n=e.length-1;n>=0;n--){var r=e[n];if(t===r.name)return r}throw new Error("The pipe '"+t+"' could not be found!")}(e,r.pipeRegistry),r.data[i]=n,n.onDestroy&&(r.destroyHooks||(r.destroyHooks=[])).push(i,n.onDestroy)):n=r.data[i];var o=n.factory||(n.factory=Te(n.type)),a=Yt(Jo),s=Zn(!1),u=o();return Zn(s),Yt(a),function(t,e,n,r){var i=n+20;i>=t.data.length&&(t.data[i]=null,t.blueprint[i]=null),e[i]=r}(r,Ye(),t,u),u}function iu(t,e,n){var r=Ye(),i=Be(r,t);return function(t,e){return Fo.isWrapped(e)&&(e=Fo.unwrap(e),t[ln()]=jr),e}(r,function(t,e){return t[1].data[e+20].pure}(r,t)?nu(r,cn(),e,i.transform,n,i):i.transform(n))}var ou=function(t){function e(e){void 0===e&&(e=!1);var n=t.call(this)||this;return n.__isAsync=e,n}return i(e,t),e.prototype.emit=function(e){t.prototype.next.call(this,e)},e.prototype.subscribe=function(e,n,r){var i,o=function(t){return null},a=function(){return null};e&&"object"==typeof e?(i=this.__isAsync?function(t){setTimeout((function(){return e.next(t)}))}:function(t){e.next(t)},e.error&&(o=this.__isAsync?function(t){setTimeout((function(){return e.error(t)}))}:function(t){e.error(t)}),e.complete&&(a=this.__isAsync?function(){setTimeout((function(){return e.complete()}))}:function(){e.complete()})):(i=this.__isAsync?function(t){setTimeout((function(){return e(t)}))}:function(t){e(t)},n&&(o=this.__isAsync?function(t){setTimeout((function(){return n(t)}))}:function(t){n(t)}),r&&(a=this.__isAsync?function(){setTimeout((function(){return r()}))}:function(){r()}));var s=t.prototype.subscribe.call(this,i,o,a);return e instanceof f&&e.add(s),s},e}(P);function au(){return this._results[zo()]()}var su=function(){function t(){this.dirty=!0,this._results=[],this.changes=new ou,this.length=0;var e=zo(),n=t.prototype;n[e]||(n[e]=au)}return t.prototype.map=function(t){return this._results.map(t)},t.prototype.filter=function(t){return this._results.filter(t)},t.prototype.find=function(t){return this._results.find(t)},t.prototype.reduce=function(t,e){return this._results.reduce(t,e)},t.prototype.forEach=function(t){this._results.forEach(t)},t.prototype.some=function(t){return this._results.some(t)},t.prototype.toArray=function(){return this._results.slice()},t.prototype.toString=function(){return this._results.toString()},t.prototype.reset=function(t){this._results=function t(e,n){void 0===n&&(n=e);for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?(n===e&&(n=e.slice(0,r)),t(i,n)):n!==e&&n.push(i)}return n}(t),this.dirty=!1,this.length=this._results.length,this.last=this._results[this.length-1],this.first=this._results[0]},t.prototype.notifyOnChanges=function(){this.changes.emit(this)},t.prototype.setDirty=function(){this.dirty=!0},t.prototype.destroy=function(){this.changes.complete(),this.changes.unsubscribe()},t}(),uu=function(){function t(t){this.queryList=t,this.matches=null}return t.prototype.clone=function(){return new t(this.queryList)},t.prototype.setDirty=function(){this.queryList.setDirty()},t}(),cu=function(){function t(t){void 0===t&&(t=[]),this.queries=t}return t.prototype.createEmbeddedView=function(e){var n=e.queries;if(null!==n){for(var r=null!==e.contentQueries?e.contentQueries[0]:n.length,i=[],o=0;o<r;o++){var a=n.getByIndex(o);i.push(this.queries[a.indexInDeclarationView].clone())}return new t(i)}return null},t.prototype.insertView=function(t){this.dirtyQueriesWithMatches(t)},t.prototype.detachView=function(t){this.dirtyQueriesWithMatches(t)},t.prototype.dirtyQueriesWithMatches=function(t){for(var e=0;e<this.queries.length;e++)null!==bu(t,e).matches&&this.queries[e].setDirty()},t}(),lu=function(){return function(t,e,n,r){void 0===r&&(r=null),this.predicate=t,this.descendants=e,this.isStatic=n,this.read=r}}(),du=function(){function t(t){void 0===t&&(t=[]),this.queries=t}return t.prototype.elementStart=function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].elementStart(t,e)},t.prototype.elementEnd=function(t){for(var e=0;e<this.queries.length;e++)this.queries[e].elementEnd(t)},t.prototype.embeddedTView=function(e){for(var n=null,r=0;r<this.length;r++){var i=null!==n?n.length:0,o=this.getByIndex(r).embeddedTView(e,i);o&&(o.indexInDeclarationView=r,null!==n?n.push(o):n=[o])}return null!==n?new t(n):null},t.prototype.template=function(t,e){for(var n=0;n<this.queries.length;n++)this.queries[n].template(t,e)},t.prototype.getByIndex=function(t){return this.queries[t]},Object.defineProperty(t.prototype,"length",{get:function(){return this.queries.length},enumerable:!0,configurable:!0}),t.prototype.track=function(t){this.queries.push(t)},t}(),pu=function(){function t(t,e){void 0===e&&(e=-1),this.metadata=t,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=e}return t.prototype.elementStart=function(t,e){this.isApplyingToNode(e)&&this.matchTNode(t,e)},t.prototype.elementEnd=function(t){this._declarationNodeIndex===t.index&&(this._appliesToNextNode=!1)},t.prototype.template=function(t,e){this.elementStart(t,e)},t.prototype.embeddedTView=function(e,n){return this.isApplyingToNode(e)?(this.crossesNgTemplate=!0,this.addMatch(-e.index,n),new t(this.metadata)):null},t.prototype.isApplyingToNode=function(t){if(this._appliesToNextNode&&!1===this.metadata.descendants){for(var e=this._declarationNodeIndex,n=t.parent;null!==n&&4===n.type&&n.index!==e;)n=n.parent;return e===(null!==n?n.index:-1)}return this._appliesToNextNode},t.prototype.matchTNode=function(t,e){if(Array.isArray(this.metadata.predicate))for(var n=this.metadata.predicate,r=0;r<n.length;r++)this.matchTNodeWithReadOption(t,e,fu(e,n[r]));else{var i=this.metadata.predicate;i===Rs?0===e.type&&this.matchTNodeWithReadOption(t,e,-1):this.matchTNodeWithReadOption(t,e,ir(e,t,i,!1,!1))}},t.prototype.matchTNodeWithReadOption=function(t,e,n){if(null!==n){var r=this.metadata.read;if(null!==r)if(r===ds||r===Vs||r===Rs&&0===e.type)this.addMatch(e.index,-2);else{var i=ir(e,t,r,!1,!1);null!==i&&this.addMatch(e.index,i)}else this.addMatch(e.index,n)}},t.prototype.addMatch=function(t,e){null===this.matches?this.matches=[t,e]:this.matches.push(t,e)},t}();function fu(t,e){var n=t.localNames;if(null!==n)for(var r=0;r<n.length;r+=2)if(n[r]===e)return n[r+1];return null}function hu(t,e,n,r){return-1===n?function(t,e){return 3===t.type||4===t.type?lo(ds,t,e):0===t.type?po(Rs,ds,t,e):null}(e,t):-2===n?function(t,e,n){return n===ds?lo(ds,e,t):n===Rs?po(Rs,ds,e,t):n===Vs?fo(Vs,ds,e,t):void 0}(t,e,r):or(t,t[1],n,e)}function mu(t,e,n,r){var i=e[19].queries[r];if(null===i.matches){for(var o=t.data,a=n.matches,s=[],u=0;u<a.length;u+=2){var c=a[u];s.push(c<0?null:hu(e,o[c],a[u+1],n.metadata.read))}i.matches=s}return i.matches}function vu(t){var e=Ye(),n=tn(),r=mn();vn(r+1);var i=bu(n,r);if(t.dirty&&We(e)===i.metadata.isStatic){if(null===i.matches)t.reset([]);else{var o=i.crossesNgTemplate?function t(e,n,r,i){var o=e.queries.getByIndex(r),a=o.matches;if(null!==a)for(var s=mu(e,n,o,r),u=0;u<a.length;u+=2){var c=a[u];if(c>0)i.push(s[u/2]);else{for(var l=a[u+1],d=n[-c],p=10;p<d.length;p++)(m=d[p])[17]===m[3]&&t(m[1],m,l,i);if(null!==d[9])for(var f=d[9],h=0;h<f.length;h++){var m;t((m=f[h])[1],m,l,i)}}}return i}(n,e,r,[]):mu(n,e,i,r);t.reset(o),t.notifyOnChanges()}return!0}return!1}function gu(t,e,n,r){!function(t,e,n,r,i,o,a,s){t.firstCreatePass&&(function(t,e,n){null===t.queries&&(t.queries=new du),t.queries.track(new pu(e,n))}(t,new lu(n,r,!1,i),a.index),function(t,e){var n=t.contentQueries||(t.contentQueries=[]);e!==(t.contentQueries.length?n[n.length-1]:-1)&&n.push(t.queries.length-1,e)}(t,s)),function(t,e){var n=new su;!function(t,e,n,r){var i=Di(e);i.push(n),t.firstCreatePass&&Mi(t).push(r,i.length-1)}(t,e,n,n.destroy),null===e[19]&&(e[19]=new cu),e[19].queries.push(new uu(n))}(t,e)}(tn(),Ye(),e,n,r,0,nn(),t)}function yu(){return t=Ye(),e=mn(),t[19].queries[e].queryList;var t,e}function bu(t,e){return t.queries.getByIndex(e)}function wu(t,e){return po(Rs,ds,t,e)}var xu=new Wt("Application Initializer"),_u=function(){function t(t){var e=this;this.appInits=t,this.initialized=!1,this.done=!1,this.donePromise=new Promise((function(t,n){e.resolve=t,e.reject=n}))}return t.prototype.runInitializers=function(){var t=this;if(!this.initialized){var e=[],n=function(){t.done=!0,t.resolve()};if(this.appInits)for(var r=0;r<this.appInits.length;r++){var i=this.appInits[r]();aa(i)&&e.push(i)}Promise.all(e).then((function(){n()})).catch((function(e){t.reject(e)})),0===e.length&&n(),this.initialized=!0}},t.\u0275fac=function(e){return new(e||t)(ee(xu,8))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Cu=new Wt("AppId"),Su={provide:Cu,useFactory:function(){return""+Iu()+Iu()+Iu()},deps:[]};function Iu(){return String.fromCharCode(97+Math.floor(25*Math.random()))}var ku=new Wt("Platform Initializer"),Tu=new Wt("Platform ID"),Eu=new Wt("appBootstrapListener"),Au=function(){function t(){}return t.prototype.log=function(t){console.log(t)},t.prototype.warn=function(t){console.warn(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Ou=new Wt("LocaleId"),Pu=new Wt("DefaultCurrencyCode"),Du=function(){return function(t,e){this.ngModuleFactory=t,this.componentFactories=e}}(),Mu=function(t){return new Ks(t)},Ru=Mu,Nu=function(t){return Promise.resolve(Mu(t))},Vu=function(t){var e=Mu(t),n=Wn(Ee(t).declarations).reduce((function(t,e){var n=ke(e);return n&&t.push(new Hs(n)),t}),[]);return new Du(e,n)},ju=Vu,zu=function(t){return Promise.resolve(Vu(t))},Lu=function(){function t(){this.compileModuleSync=Ru,this.compileModuleAsync=Nu,this.compileModuleAndAllComponentsSync=ju,this.compileModuleAndAllComponentsAsync=zu}return t.prototype.clearCache=function(){},t.prototype.clearCacheFor=function(t){},t.prototype.getModuleId=function(t){},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Fu=new Wt("compilerOptions"),Uu=function(){return Promise.resolve(0)}();function Hu(t){"undefined"==typeof Zone?Uu.then((function(){t&&t.apply(null,null)})):Zone.current.scheduleMicroTask("scheduleMicrotask",t)}var Bu=function(){function t(t){var e,n,r=t.enableLongStackTrace,i=void 0!==r&&r,o=t.shouldCoalesceEventChangeDetection,a=void 0!==o&&o;if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ou(!1),this.onMicrotaskEmpty=new ou(!1),this.onStable=new ou(!1),this.onError=new ou(!1),"undefined"==typeof Zone)throw new Error("In this configuration Angular requires Zone.js");Zone.assertZonePatched(),this._nesting=0,this._outer=this._inner=Zone.current,Zone.wtfZoneSpec&&(this._inner=this._inner.fork(Zone.wtfZoneSpec)),Zone.TaskTrackingZoneSpec&&(this._inner=this._inner.fork(new Zone.TaskTrackingZoneSpec)),i&&Zone.longStackTraceZoneSpec&&(this._inner=this._inner.fork(Zone.longStackTraceZoneSpec)),this.shouldCoalesceEventChangeDetection=a,this.lastRequestAnimationFrameId=-1,this.nativeRequestAnimationFrame=function(){var t=zt.requestAnimationFrame,e=zt.cancelAnimationFrame;if("undefined"!=typeof Zone&&t&&e){var n=t[Zone.__symbol__("OriginalDelegate")];n&&(t=n);var r=e[Zone.__symbol__("OriginalDelegate")];r&&(e=r)}return{nativeRequestAnimationFrame:t,nativeCancelAnimationFrame:e}}().nativeRequestAnimationFrame,n=!!(e=this).shouldCoalesceEventChangeDetection&&e.nativeRequestAnimationFrame&&function(){!function(t){-1===t.lastRequestAnimationFrameId&&(t.lastRequestAnimationFrameId=t.nativeRequestAnimationFrame.call(zt,(function(){t.lastRequestAnimationFrameId=-1,Gu(t),Wu(t)})),Gu(t))}(e)},e._inner=e._inner.fork({name:"angular",properties:{isAngularZone:!0,maybeDelayChangeDetection:n},onInvokeTask:function(t,r,i,o,a,s){try{return Zu(e),t.invokeTask(i,o,a,s)}finally{n&&"eventTask"===o.type&&n(),Xu(e)}},onInvoke:function(t,n,r,i,o,a,s){try{return Zu(e),t.invoke(r,i,o,a,s)}finally{Xu(e)}},onHasTask:function(t,n,r,i){t.hasTask(r,i),n===r&&("microTask"==i.change?(e._hasPendingMicrotasks=i.microTask,Gu(e),Wu(e)):"macroTask"==i.change&&(e.hasPendingMacrotasks=i.macroTask))},onHandleError:function(t,n,r,i){return t.handleError(r,i),e.runOutsideAngular((function(){return e.onError.emit(i)})),!1}})}return t.isInAngularZone=function(){return!0===Zone.current.get("isAngularZone")},t.assertInAngularZone=function(){if(!t.isInAngularZone())throw new Error("Expected to be in Angular Zone, but it is not!")},t.assertNotInAngularZone=function(){if(t.isInAngularZone())throw new Error("Expected to not be in Angular Zone, but it is!")},t.prototype.run=function(t,e,n){return this._inner.run(t,e,n)},t.prototype.runTask=function(t,e,n,r){var i=this._inner,o=i.scheduleEventTask("NgZoneEvent: "+r,t,qu,$u,$u);try{return i.runTask(o,e,n)}finally{i.cancelTask(o)}},t.prototype.runGuarded=function(t,e,n){return this._inner.runGuarded(t,e,n)},t.prototype.runOutsideAngular=function(t){return this._outer.run(t)},t}();function $u(){}var qu={};function Wu(t){if(0==t._nesting&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular((function(){return t.onStable.emit(null)}))}finally{t.isStable=!0}}}function Gu(t){t.hasPendingMicrotasks=!!(t._hasPendingMicrotasks||t.shouldCoalesceEventChangeDetection&&-1!==t.lastRequestAnimationFrameId)}function Zu(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function Xu(t){t._nesting--,Wu(t)}var Qu,Ju=function(){function t(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ou,this.onMicrotaskEmpty=new ou,this.onStable=new ou,this.onError=new ou}return t.prototype.run=function(t,e,n){return t.apply(e,n)},t.prototype.runGuarded=function(t,e,n){return t.apply(e,n)},t.prototype.runOutsideAngular=function(t){return t()},t.prototype.runTask=function(t,e,n,r){return t.apply(e,n)},t}(),Ku=function(){function t(t){var e=this;this._ngZone=t,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,this._watchAngularEvents(),t.run((function(){e.taskTrackingZone="undefined"==typeof Zone?null:Zone.current.get("TaskTrackingZone")}))}return t.prototype._watchAngularEvents=function(){var t=this;this._ngZone.onUnstable.subscribe({next:function(){t._didWork=!0,t._isZoneStable=!1}}),this._ngZone.runOutsideAngular((function(){t._ngZone.onStable.subscribe({next:function(){Bu.assertNotInAngularZone(),Hu((function(){t._isZoneStable=!0,t._runCallbacksIfReady()}))}})}))},t.prototype.increasePendingRequestCount=function(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount},t.prototype.decreasePendingRequestCount=function(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount},t.prototype.isStable=function(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks},t.prototype._runCallbacksIfReady=function(){var t=this;if(this.isStable())Hu((function(){for(;0!==t._callbacks.length;){var e=t._callbacks.pop();clearTimeout(e.timeoutId),e.doneCb(t._didWork)}t._didWork=!1}));else{var e=this.getPendingTasks();this._callbacks=this._callbacks.filter((function(t){return!t.updateCb||!t.updateCb(e)||(clearTimeout(t.timeoutId),!1)})),this._didWork=!0}},t.prototype.getPendingTasks=function(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map((function(t){return{source:t.source,creationLocation:t.creationLocation,data:t.data}})):[]},t.prototype.addCallback=function(t,e,n){var r=this,i=-1;e&&e>0&&(i=setTimeout((function(){r._callbacks=r._callbacks.filter((function(t){return t.timeoutId!==i})),t(r._didWork,r.getPendingTasks())}),e)),this._callbacks.push({doneCb:t,timeoutId:i,updateCb:n})},t.prototype.whenStable=function(t,e,n){if(n&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/dist/task-tracking.js" loaded?');this.addCallback(t,e,n),this._runCallbacksIfReady()},t.prototype.getPendingRequestCount=function(){return this._pendingCount},t.prototype.findProviders=function(t,e,n){return[]},t.\u0275fac=function(e){return new(e||t)(ee(Bu))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Yu=function(){function t(){this._applications=new Map,tc.addToWindow(this)}return t.prototype.registerApplication=function(t,e){this._applications.set(t,e)},t.prototype.unregisterApplication=function(t){this._applications.delete(t)},t.prototype.unregisterAllApplications=function(){this._applications.clear()},t.prototype.getTestability=function(t){return this._applications.get(t)||null},t.prototype.getAllTestabilities=function(){return Array.from(this._applications.values())},t.prototype.getAllRootElements=function(){return Array.from(this._applications.keys())},t.prototype.findTestabilityInTree=function(t,e){return void 0===e&&(e=!0),tc.findTestabilityInTree(this,t,e)},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),tc=new(function(){function t(){}return t.prototype.addToWindow=function(t){},t.prototype.findTestabilityInTree=function(t,e,n){return null},t}()),ec=function(t,e,n){var r=t.get(Fu,[]).concat(e),i=new Ks(n);if(0===Mo.size)return Promise.resolve(i);var o,a,s=(o=r.map((function(t){return t.providers})),a=[],o.forEach((function(t){return t&&a.push.apply(a,u(t))})),a);if(0===s.length)return Promise.resolve(i);var c=function(){var t=zt.ng;if(!t||!t.\u0275compilerFacade)throw new Error("Angular JIT compilation failed: '@angular/compiler' not loaded!\n  - JIT compilation is discouraged for production use-cases! Consider AOT mode instead.\n  - Did you bootstrap using '@angular/platform-browser-dynamic' or '@angular/platform-server'?\n  - Alternatively provide the compiler with 'import \"@angular/compiler\";' before bootstrapping.");return t.\u0275compilerFacade}(),l=Po.create({providers:s}).get(c.ResourceLoader);return function(t){var e=[],n=new Map;function r(t){var e=n.get(t);if(!e){var r=function(t){return Promise.resolve(l.get(t))}(t);n.set(t,e=r.then(No))}return e}return Mo.forEach((function(t,n){var i=[];t.templateUrl&&i.push(r(t.templateUrl).then((function(e){t.template=e})));var o=t.styleUrls,a=t.styles||(t.styles=[]),s=t.styles.length;o&&o.forEach((function(e,n){a.push(""),i.push(r(e).then((function(r){a[s+n]=r,o.splice(o.indexOf(e),1),0==o.length&&(t.styleUrls=void 0)})))}));var u=Promise.all(i).then((function(){return function(t){Ro.delete(t)}(n)}));e.push(u)})),Mo=new Map,Promise.all(e).then((function(){}))}().then((function(){return i}))},nc=new Wt("AllowMultipleToken"),rc=function(){return function(t,e){this.name=t,this.token=e}}();function ic(t,e,n){void 0===n&&(n=[]);var r="Platform: "+e,i=new Wt(r);return function(e){void 0===e&&(e=[]);var o=oc();if(!o||o.injector.get(nc,!1))if(t)t(n.concat(e).concat({provide:i,useValue:!0}));else{var a=n.concat(e).concat({provide:i,useValue:!0},{provide:go,useValue:"platform"});!function(t){if(Qu&&!Qu.destroyed&&!Qu.injector.get(nc,!1))throw new Error("There can be only one platform. Destroy the previous one to create a new one.");Qu=t.get(ac);var e=t.get(ku,null);e&&e.forEach((function(t){return t()}))}(Po.create({providers:a,name:r}))}return function(t){var e=oc();if(!e)throw new Error("No platform exists!");if(!e.injector.get(t,null))throw new Error("A platform with a different configuration has been created. Please destroy it first.");return e}(i)}}function oc(){return Qu&&!Qu.destroyed?Qu:null}var ac=function(){function t(t){this._injector=t,this._modules=[],this._destroyListeners=[],this._destroyed=!1}return t.prototype.bootstrapModuleFactory=function(t,e){var n,r,i=this,o=(r=e&&e.ngZoneEventCoalescing||!1,"noop"===(n=e?e.ngZone:void 0)?new Ju:("zone.js"===n?void 0:n)||new Bu({enableLongStackTrace:yr(),shouldCoalesceEventChangeDetection:r})),a=[{provide:Bu,useValue:o}];return o.run((function(){var e=Po.create({providers:a,parent:i.injector,name:t.moduleType.name}),n=t.create(e),r=n.injector.get(fr,null);if(!r)throw new Error("No ErrorHandler. Is platform module (BrowserModule) included?");return n.onDestroy((function(){return cc(i._modules,n)})),o.runOutsideAngular((function(){return o.onError.subscribe({next:function(t){r.handleError(t)}})})),function(t,e,r){try{var o=((a=n.injector.get(_u)).runInitializers(),a.donePromise.then((function(){return Xs(n.injector.get(Ou,"en-US")||"en-US"),i._moduleDoBootstrap(n),n})));return aa(o)?o.catch((function(n){throw e.runOutsideAngular((function(){return t.handleError(n)})),n})):o}catch(s){throw e.runOutsideAngular((function(){return t.handleError(s)})),s}var a}(r,o)}))},t.prototype.bootstrapModule=function(t,e){var n=this;void 0===e&&(e=[]);var r=sc({},e);return ec(this.injector,r,t).then((function(t){return n.bootstrapModuleFactory(t,r)}))},t.prototype._moduleDoBootstrap=function(t){var e=t.injector.get(uc);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach((function(t){return e.bootstrap(t)}));else{if(!t.instance.ngDoBootstrap)throw new Error("The module "+Tt(t.instance.constructor)+' was bootstrapped, but it does not declare "@NgModule.bootstrap" components nor a "ngDoBootstrap" method. Please define one of these.');t.instance.ngDoBootstrap(e)}this._modules.push(t)},t.prototype.onDestroy=function(t){this._destroyListeners.push(t)},Object.defineProperty(t.prototype,"injector",{get:function(){return this._injector},enumerable:!0,configurable:!0}),t.prototype.destroy=function(){if(this._destroyed)throw new Error("The platform has already been destroyed!");this._modules.slice().forEach((function(t){return t.destroy()})),this._destroyListeners.forEach((function(t){return t()})),this._destroyed=!0},Object.defineProperty(t.prototype,"destroyed",{get:function(){return this._destroyed},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(ee(Po))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}();function sc(t,e){return Array.isArray(e)?e.reduce(sc,t):o(o({},t),e)}var uc=function(){function t(t,e,n,r,i,o){var a=this;this._zone=t,this._console=e,this._injector=n,this._exceptionHandler=r,this._componentFactoryResolver=i,this._initStatus=o,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._enforceNoNewChanges=!1,this._stable=!0,this.componentTypes=[],this.components=[],this._enforceNoNewChanges=yr(),this._zone.onMicrotaskEmpty.subscribe({next:function(){a._zone.run((function(){a.tick()}))}});var s=new k((function(t){a._stable=a._zone.isStable&&!a._zone.hasPendingMacrotasks&&!a._zone.hasPendingMicrotasks,a._zone.runOutsideAngular((function(){t.next(a._stable),t.complete()}))})),u=new k((function(t){var e;a._zone.runOutsideAngular((function(){e=a._zone.onStable.subscribe((function(){Bu.assertNotInAngularZone(),Hu((function(){a._stable||a._zone.hasPendingMacrotasks||a._zone.hasPendingMicrotasks||(a._stable=!0,t.next(!0))}))}))}));var n=a._zone.onUnstable.subscribe((function(){Bu.assertInAngularZone(),a._stable&&(a._stable=!1,a._zone.runOutsideAngular((function(){t.next(!1)})))}));return function(){e.unsubscribe(),n.unsubscribe()}}));this.isStable=Y(s,u.pipe((function(t){return tt()((e=at,function(t){var n;n="function"==typeof e?e:function(){return e};var r=Object.create(t,it);return r.source=t,r.subjectFactory=n,r})(t));var e})))}return t.prototype.bootstrap=function(t,e){var n,r=this;if(!this._initStatus.done)throw new Error("Cannot bootstrap as there are still asynchronous initializers running. Bootstrap components in the `ngDoBootstrap` method of the root module.");n=t instanceof us?t:this._componentFactoryResolver.resolveComponentFactory(t),this.componentTypes.push(n.componentType);var i=n.isBoundToModule?void 0:this._injector.get(oe),o=n.create(Po.NULL,[],e||n.selector,i);o.onDestroy((function(){r._unloadComponent(o)}));var a=o.injector.get(Ku,null);return a&&o.injector.get(Yu).registerApplication(o.location.nativeElement,a),this._loadComponent(o),yr()&&this._console.log("Angular is running in the development mode. Call enableProdMode() to enable the production mode."),o},t.prototype.tick=function(){var t,e,n,r,i=this;if(this._runningTick)throw new Error("ApplicationRef.tick is called recursively");try{this._runningTick=!0;try{for(var o=a(this._views),s=o.next();!s.done;s=o.next())s.value.detectChanges()}catch(l){t={error:l}}finally{try{s&&!s.done&&(e=o.return)&&e.call(o)}finally{if(t)throw t.error}}if(this._enforceNoNewChanges)try{for(var u=a(this._views),c=u.next();!c.done;c=u.next())c.value.checkNoChanges()}catch(d){n={error:d}}finally{try{c&&!c.done&&(r=u.return)&&r.call(u)}finally{if(n)throw n.error}}}catch(p){this._zone.runOutsideAngular((function(){return i._exceptionHandler.handleError(p)}))}finally{this._runningTick=!1}},t.prototype.attachView=function(t){var e=t;this._views.push(e),e.attachToAppRef(this)},t.prototype.detachView=function(t){var e=t;cc(this._views,e),e.detachFromAppRef()},t.prototype._loadComponent=function(t){this.attachView(t.hostView),this.tick(),this.components.push(t),this._injector.get(Eu,[]).concat(this._bootstrapListeners).forEach((function(e){return e(t)}))},t.prototype._unloadComponent=function(t){this.detachView(t.hostView),cc(this.components,t)},t.prototype.ngOnDestroy=function(){this._views.slice().forEach((function(t){return t.destroy()}))},Object.defineProperty(t.prototype,"viewCount",{get:function(){return this._views.length},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(ee(Bu),ee(Au),ee(Po),ee(fr),ee(ls),ee(_u))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}();function cc(t,e){var n=t.indexOf(e);n>-1&&t.splice(n,1)}var lc=function(){return function(){}}(),dc=function(){return function(){}}(),pc={factoryPathPrefix:"",factoryPathSuffix:".ngfactory"},fc=function(){function t(t,e){this._compiler=t,this._config=e||pc}return t.prototype.load=function(t){return this.loadAndCompile(t)},t.prototype.loadAndCompile=function(t){var e=this,r=s(t.split("#"),2),i=r[0],o=r[1];return void 0===o&&(o="default"),n("RnVd")(i).then((function(t){return t[o]})).then((function(t){return hc(t,i,o)})).then((function(t){return e._compiler.compileModuleAsync(t)}))},t.prototype.loadFactory=function(t){var e=s(t.split("#"),2),r=e[0],i=e[1],o="NgFactory";return void 0===i&&(i="default",o=""),n("RnVd")(this._config.factoryPathPrefix+r+this._config.factoryPathSuffix).then((function(t){return t[i+o]})).then((function(t){return hc(t,r,i)}))},t.\u0275fac=function(e){return new(e||t)(ee(Lu),ee(dc,8))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}();function hc(t,e,n){if(!t)throw new Error("Cannot find '"+n+"' in '"+e+"'");return t}var mc=ic(null,"core",[{provide:Tu,useValue:"unknown"},{provide:ac,deps:[Po]},{provide:Yu,deps:[]},{provide:Au,deps:[]}]),vc=[{provide:uc,useClass:uc,deps:[Bu,Au,Po,fr,ls,_u]},{provide:Us,deps:[Bu],useFactory:function(t){var e=[];return t.onStable.subscribe((function(){for(;e.length;)e.pop()()})),function(t){e.push(t)}}},{provide:_u,useClass:_u,deps:[[new dt,xu]]},{provide:Lu,useClass:Lu,deps:[]},Su,{provide:As,useFactory:function(){return Ds},deps:[]},{provide:Os,useFactory:function(){return Ms},deps:[]},{provide:Ou,useFactory:function(t){return Xs(t=t||"undefined"!=typeof $localize&&$localize.locale||"en-US"),t},deps:[[new lt(Ou),new dt,new ft]]},{provide:Pu,useValue:"USD"}],gc=function(){function t(t){}return t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)(ee(uc))},providers:vc}),t}(),yc=null;function bc(){return yc}var wc=function(){return function(){}}(),xc=new Wt("DocumentToken"),_c=function(){function t(){}return t.\u0275prov=gt({factory:Cc,token:t,providedIn:"platform"}),t.\u0275fac=function(e){return new(e||t)},t}();function Cc(){return ee(Ic)}var Sc=new Wt("Location Initialized"),Ic=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._init(),n}return i(e,t),e.prototype._init=function(){this.location=bc().getLocation(),this._history=bc().getHistory()},e.prototype.getBaseHrefFromDOM=function(){return bc().getBaseHref(this._doc)},e.prototype.onPopState=function(t){bc().getGlobalEventTarget(this._doc,"window").addEventListener("popstate",t,!1)},e.prototype.onHashChange=function(t){bc().getGlobalEventTarget(this._doc,"window").addEventListener("hashchange",t,!1)},Object.defineProperty(e.prototype,"href",{get:function(){return this.location.href},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"protocol",{get:function(){return this.location.protocol},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hostname",{get:function(){return this.location.hostname},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"port",{get:function(){return this.location.port},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"pathname",{get:function(){return this.location.pathname},set:function(t){this.location.pathname=t},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"search",{get:function(){return this.location.search},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"hash",{get:function(){return this.location.hash},enumerable:!0,configurable:!0}),e.prototype.pushState=function(t,e,n){kc()?this._history.pushState(t,e,n):this.location.hash=n},e.prototype.replaceState=function(t,e,n){kc()?this._history.replaceState(t,e,n):this.location.hash=n},e.prototype.forward=function(){this._history.forward()},e.prototype.back=function(){this._history.back()},e.prototype.getState=function(){return this._history.state},e.\u0275prov=gt({factory:Tc,token:e,providedIn:"platform"}),e.\u0275fac=function(t){return new(t||e)(ee(xc))},e}(_c);function kc(){return!!window.history.pushState}function Tc(){return new Ic(ee(xc))}function Ec(t,e){if(0==t.length)return e;if(0==e.length)return t;var n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,2==n?t+e.substring(1):1==n?t+e:t+"/"+e}function Ac(t){var e=t.match(/#|\?|$/),n=e&&e.index||t.length;return t.slice(0,n-("/"===t[n-1]?1:0))+t.slice(n)}function Oc(t){return t&&"?"!==t[0]?"?"+t:t}var Pc=function(){function t(){}return t.\u0275prov=gt({factory:Dc,token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)},t}();function Dc(t){var e=ee(xc).location;return new Rc(ee(_c),e&&e.origin||"")}var Mc=new Wt("appBaseHref"),Rc=function(t){function e(e,n){var r=t.call(this)||this;if(r._platformLocation=e,null==n&&(n=r._platformLocation.getBaseHrefFromDOM()),null==n)throw new Error("No base href set. Please provide a value for the APP_BASE_HREF token or add a base element to the document.");return r._baseHref=n,r}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.prepareExternalUrl=function(t){return Ec(this._baseHref,t)},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.pathname+Oc(this._platformLocation.search),n=this._platformLocation.hash;return n&&t?""+e+n:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Oc(r));this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Oc(r));this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e.\u0275fac=function(t){return new(t||e)(ee(_c),ee(Mc,8))},e.\u0275prov=gt({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(Pc),Nc=function(t){function e(e,n){var r=t.call(this)||this;return r._platformLocation=e,r._baseHref="",null!=n&&(r._baseHref=n),r}return i(e,t),e.prototype.onPopState=function(t){this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t)},e.prototype.getBaseHref=function(){return this._baseHref},e.prototype.path=function(t){void 0===t&&(t=!1);var e=this._platformLocation.hash;return null==e&&(e="#"),e.length>0?e.substring(1):e},e.prototype.prepareExternalUrl=function(t){var e=Ec(this._baseHref,t);return e.length>0?"#"+e:e},e.prototype.pushState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Oc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.pushState(t,e,i)},e.prototype.replaceState=function(t,e,n,r){var i=this.prepareExternalUrl(n+Oc(r));0==i.length&&(i=this._platformLocation.pathname),this._platformLocation.replaceState(t,e,i)},e.prototype.forward=function(){this._platformLocation.forward()},e.prototype.back=function(){this._platformLocation.back()},e.\u0275fac=function(t){return new(t||e)(ee(_c),ee(Mc,8))},e.\u0275prov=gt({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(Pc),Vc=function(){function t(t,e){var n=this;this._subject=new ou,this._urlChangeListeners=[],this._platformStrategy=t;var r=this._platformStrategy.getBaseHref();this._platformLocation=e,this._baseHref=Ac(zc(r)),this._platformStrategy.onPopState((function(t){n._subject.emit({url:n.path(!0),pop:!0,state:t.state,type:t.type})}))}var e;return e=t,t.prototype.path=function(t){return void 0===t&&(t=!1),this.normalize(this._platformStrategy.path(t))},t.prototype.getState=function(){return this._platformLocation.getState()},t.prototype.isCurrentPathEqualTo=function(t,e){return void 0===e&&(e=""),this.path()==this.normalize(t+Oc(e))},t.prototype.normalize=function(t){return e.stripTrailingSlash(function(t,e){return t&&e.startsWith(t)?e.substring(t.length):e}(this._baseHref,zc(t)))},t.prototype.prepareExternalUrl=function(t){return t&&"/"!==t[0]&&(t="/"+t),this._platformStrategy.prepareExternalUrl(t)},t.prototype.go=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.pushState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oc(e)),n)},t.prototype.replaceState=function(t,e,n){void 0===e&&(e=""),void 0===n&&(n=null),this._platformStrategy.replaceState(n,"",t,e),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Oc(e)),n)},t.prototype.forward=function(){this._platformStrategy.forward()},t.prototype.back=function(){this._platformStrategy.back()},t.prototype.onUrlChange=function(t){var e=this;this._urlChangeListeners.push(t),this.subscribe((function(t){e._notifyUrlChangeListeners(t.url,t.state)}))},t.prototype._notifyUrlChangeListeners=function(t,e){void 0===t&&(t=""),this._urlChangeListeners.forEach((function(n){return n(t,e)}))},t.prototype.subscribe=function(t,e,n){return this._subject.subscribe({next:t,error:e,complete:n})},t.normalizeQueryParams=Oc,t.joinWithSlash=Ec,t.stripTrailingSlash=Ac,t.\u0275prov=gt({factory:jc,token:t,providedIn:"root"}),t.\u0275fac=function(e){return new(e||t)(ee(Pc),ee(_c))},t}();function jc(){return new Vc(ee(Pc),ee(_c))}function zc(t){return t.replace(/\/index.html$/,"")}var Lc=function(t){return t[t.Zero=0]="Zero",t[t.One=1]="One",t[t.Two=2]="Two",t[t.Few=3]="Few",t[t.Many=4]="Many",t[t.Other=5]="Other",t}({}),Fc=function(){return function(){}}(),Uc=function(t){function e(e){var n=t.call(this)||this;return n.locale=e,n}return i(e,t),e.prototype.getPluralCategory=function(t,e){switch(function(t){return function(t){var e=function(t){return t.toLowerCase().replace(/_/g,"-")}(t),n=Gs(e);if(n)return n;var r=e.split("-")[0];if(n=Gs(r))return n;if("en"===r)return qs;throw new Error('Missing locale data for the locale "'+t+'".')}(t)[Zs.PluralCase]}(e||this.locale)(t)){case Lc.Zero:return"zero";case Lc.One:return"one";case Lc.Two:return"two";case Lc.Few:return"few";case Lc.Many:return"many";default:return"other"}},e.\u0275fac=function(t){return new(t||e)(ee(Ou))},e.\u0275prov=gt({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(Fc);function Hc(t,e){var n,r;e=encodeURIComponent(e);try{for(var i=a(t.split(";")),o=i.next();!o.done;o=i.next()){var u=o.value,c=u.indexOf("="),l=s(-1==c?[u,""]:[u.slice(0,c),u.slice(c+1)],2),d=l[1];if(l[0].trim()===e)return decodeURIComponent(d)}}catch(p){n={error:p}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}var Bc=function(){function t(t,e,n,r){this._iterableDiffers=t,this._keyValueDiffers=e,this._ngEl=n,this._renderer=r,this._iterableDiffer=null,this._keyValueDiffer=null,this._initialClasses=[],this._rawClass=null}return Object.defineProperty(t.prototype,"klass",{set:function(t){this._removeClasses(this._initialClasses),this._initialClasses="string"==typeof t?t.split(/\s+/):[],this._applyClasses(this._initialClasses),this._applyClasses(this._rawClass)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClass",{set:function(t){this._removeClasses(this._rawClass),this._applyClasses(this._initialClasses),this._iterableDiffer=null,this._keyValueDiffer=null,this._rawClass="string"==typeof t?t.split(/\s+/):t,this._rawClass&&(Uo(this._rawClass)?this._iterableDiffer=this._iterableDiffers.find(this._rawClass).create():this._keyValueDiffer=this._keyValueDiffers.find(this._rawClass).create())},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._iterableDiffer){var t=this._iterableDiffer.diff(this._rawClass);t&&this._applyIterableChanges(t)}else if(this._keyValueDiffer){var e=this._keyValueDiffer.diff(this._rawClass);e&&this._applyKeyValueChanges(e)}},t.prototype._applyKeyValueChanges=function(t){var e=this;t.forEachAddedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachChangedItem((function(t){return e._toggleClass(t.key,t.currentValue)})),t.forEachRemovedItem((function(t){t.previousValue&&e._toggleClass(t.key,!1)}))},t.prototype._applyIterableChanges=function(t){var e=this;t.forEachAddedItem((function(t){if("string"!=typeof t.item)throw new Error("NgClass can only toggle CSS classes expressed as strings, got "+Tt(t.item));e._toggleClass(t.item,!0)})),t.forEachRemovedItem((function(t){return e._toggleClass(t.item,!1)}))},t.prototype._applyClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!0)})):Object.keys(t).forEach((function(n){return e._toggleClass(n,!!t[n])})))},t.prototype._removeClasses=function(t){var e=this;t&&(Array.isArray(t)||t instanceof Set?t.forEach((function(t){return e._toggleClass(t,!1)})):Object.keys(t).forEach((function(t){return e._toggleClass(t,!1)})))},t.prototype._toggleClass=function(t,e){var n=this;(t=t.trim())&&t.split(/\s+/g).forEach((function(t){e?n._renderer.addClass(n._ngEl.nativeElement,t):n._renderer.removeClass(n._ngEl.nativeElement,t)}))},t.\u0275fac=function(e){return new(e||t)(Jo(As),Jo(Os),Jo(ds),Jo(ms))},t.\u0275dir=Ie({type:t,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"}}),t}(),$c=function(){function t(t,e,n,r){this.$implicit=t,this.ngForOf=e,this.index=n,this.count=r}return Object.defineProperty(t.prototype,"first",{get:function(){return 0===this.index},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"last",{get:function(){return this.index===this.count-1},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"even",{get:function(){return this.index%2==0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"odd",{get:function(){return!this.even},enumerable:!0,configurable:!0}),t}(),qc=function(){function t(t,e,n){this._viewContainer=t,this._template=e,this._differs=n,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}return Object.defineProperty(t.prototype,"ngForOf",{set:function(t){this._ngForOf=t,this._ngForOfDirty=!0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTrackBy",{get:function(){return this._trackByFn},set:function(t){yr()&&null!=t&&"function"!=typeof t&&console&&console.warn&&console.warn("trackBy must be a function, but received "+JSON.stringify(t)+". See https://angular.io/api/common/NgForOf#change-propagation for more information."),this._trackByFn=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngForTemplate",{set:function(t){t&&(this._template=t)},enumerable:!0,configurable:!0}),t.prototype.ngDoCheck=function(){if(this._ngForOfDirty){this._ngForOfDirty=!1;var t=this._ngForOf;if(!this._differ&&t)try{this._differ=this._differs.find(t).create(this.ngForTrackBy)}catch(r){throw new Error("Cannot find a differ supporting object '"+t+"' of type '"+((e=t).name||typeof e)+"'. NgFor only supports binding to Iterables such as Arrays.")}}var e;if(this._differ){var n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}},t.prototype._applyChanges=function(t){var e=this,n=[];t.forEachOperation((function(t,r,i){if(null==t.previousIndex){var o=e._viewContainer.createEmbeddedView(e._template,new $c(null,e._ngForOf,-1,-1),null===i?void 0:i),a=new Wc(t,o);n.push(a)}else null==i?e._viewContainer.remove(null===r?void 0:r):null!==r&&(o=e._viewContainer.get(r),e._viewContainer.move(o,i),a=new Wc(t,o),n.push(a))}));for(var r=0;r<n.length;r++)this._perViewChange(n[r].view,n[r].record);r=0;for(var i=this._viewContainer.length;r<i;r++){var o=this._viewContainer.get(r);o.context.index=r,o.context.count=i,o.context.ngForOf=this._ngForOf}t.forEachIdentityChange((function(t){e._viewContainer.get(t.currentIndex).context.$implicit=t.item}))},t.prototype._perViewChange=function(t,e){t.context.$implicit=e.item},t.ngTemplateContextGuard=function(t,e){return!0},t.\u0275fac=function(e){return new(e||t)(Jo(Vs),Jo(Rs),Jo(As))},t.\u0275dir=Ie({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"}}),t}(),Wc=function(){return function(t,e){this.record=t,this.view=e}}(),Gc=function(){function t(t,e){this._viewContainer=t,this._context=new Zc,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=e}return Object.defineProperty(t.prototype,"ngIf",{set:function(t){this._context.$implicit=this._context.ngIf=t,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfThen",{set:function(t){Xc("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngIfElse",{set:function(t){Xc("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()},enumerable:!0,configurable:!0}),t.prototype._updateView=function(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))},t.ngTemplateContextGuard=function(t,e){return!0},t.\u0275fac=function(e){return new(e||t)(Jo(Vs),Jo(Rs))},t.\u0275dir=Ie({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"}}),t}(),Zc=function(){return function(){this.$implicit=null,this.ngIf=null}}();function Xc(t,e){if(e&&!e.createEmbeddedView)throw new Error(t+" must be a TemplateRef, but received '"+Tt(e)+"'.")}var Qc,Jc=function(){function t(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null}return t.prototype.ngOnChanges=function(t){if(this._shouldRecreateView(t)){var e=this._viewContainerRef;this._viewRef&&e.remove(e.indexOf(this._viewRef)),this._viewRef=this.ngTemplateOutlet?e.createEmbeddedView(this.ngTemplateOutlet,this.ngTemplateOutletContext):null}else this._viewRef&&this.ngTemplateOutletContext&&this._updateExistingContext(this.ngTemplateOutletContext)},t.prototype._shouldRecreateView=function(t){var e=t.ngTemplateOutletContext;return!!t.ngTemplateOutlet||e&&this._hasContextShapeChanged(e)},t.prototype._hasContextShapeChanged=function(t){var e,n,r=Object.keys(t.previousValue||{}),i=Object.keys(t.currentValue||{});if(r.length===i.length){try{for(var o=a(i),s=o.next();!s.done;s=o.next())if(-1===r.indexOf(s.value))return!0}catch(u){e={error:u}}finally{try{s&&!s.done&&(n=o.return)&&n.call(o)}finally{if(e)throw e.error}}return!1}return!0},t.prototype._updateExistingContext=function(t){var e,n;try{for(var r=a(Object.keys(t)),i=r.next();!i.done;i=r.next()){var o=i.value;this._viewRef.context[o]=this.ngTemplateOutletContext[o]}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}},t.\u0275fac=function(e){return new(e||t)(Jo(Vs))},t.\u0275dir=Ie({type:t,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet"},features:[Qa]}),t}(),Kc=function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.subscribe({next:e,error:function(t){throw t}})},t.prototype.dispose=function(t){t.unsubscribe()},t.prototype.onDestroy=function(t){t.unsubscribe()},t}(),Yc=new(function(){function t(){}return t.prototype.createSubscription=function(t,e){return t.then(e,(function(t){throw t}))},t.prototype.dispose=function(t){},t.prototype.onDestroy=function(t){},t}()),tl=new Kc,el=function(){function t(t){this._ref=t,this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null,this._strategy=null}var e,n;return e=t,t.prototype.ngOnDestroy=function(){this._subscription&&this._dispose()},t.prototype.transform=function(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):Lo(this._latestValue,this._latestReturnedValue)?this._latestReturnedValue:(this._latestReturnedValue=this._latestValue,Fo.wrap(this._latestValue)):(t&&this._subscribe(t),this._latestReturnedValue=this._latestValue,this._latestValue)},t.prototype._subscribe=function(t){var e=this;this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,(function(n){return e._updateLatestValue(t,n)}))},t.prototype._selectStrategy=function(t){if(aa(t))return Yc;if(sa(t))return tl;throw Error("InvalidPipeArgument: '"+t+"' for pipe '"+Tt(e)+"'")},t.prototype._dispose=function(){this._strategy.dispose(this._subscription),this._latestValue=null,this._latestReturnedValue=null,this._subscription=null,this._obj=null},t.prototype._updateLatestValue=function(t,e){t===this._obj&&(this._latestValue=e,this._ref.markForCheck())},t.\u0275fac=function(e){return new(e||t)(function(t){void 0===t&&(t=ht.Default);var e=ho(!0);if(null!=e||t&ht.Optional)return e;throw new Error("No provider for ChangeDetectorRef!")}())},t.\u0275pipe={type:(n={name:"async",type:t,pure:!1}).type,name:n.name,factory:null,pure:!1!==n.pure,onDestroy:n.type.prototype.ngOnDestroy||null},t}(),nl=function(){function t(){}return t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)},providers:[{provide:Fc,useClass:Uc}]}),t}(),rl=function(){function t(){}return t.\u0275prov=gt({token:t,providedIn:"root",factory:function(){return new il(ee(xc),window,ee(fr))}}),t}(),il=function(){function t(t,e,n){this.document=t,this.window=e,this.errorHandler=n,this.offset=function(){return[0,0]}}return t.prototype.setOffset=function(t){this.offset=Array.isArray(t)?function(){return t}:t},t.prototype.getScrollPosition=function(){return this.supportScrollRestoration()?[this.window.scrollX,this.window.scrollY]:[0,0]},t.prototype.scrollToPosition=function(t){this.supportScrollRestoration()&&this.window.scrollTo(t[0],t[1])},t.prototype.scrollToAnchor=function(t){if(this.supportScrollRestoration()){t=this.window.CSS&&this.window.CSS.escape?this.window.CSS.escape(t):t.replace(/(\"|\'\ |:|\.|\[|\]|,|=)/g,"\\$1");try{var e=this.document.querySelector("#"+t);if(e)return void this.scrollToElement(e);var n=this.document.querySelector("[name='"+t+"']");if(n)return void this.scrollToElement(n)}catch(r){this.errorHandler.handleError(r)}}},t.prototype.setHistoryScrollRestoration=function(t){if(this.supportScrollRestoration()){var e=this.window.history;e&&e.scrollRestoration&&(e.scrollRestoration=t)}},t.prototype.scrollToElement=function(t){var e=t.getBoundingClientRect(),n=e.left+this.window.pageXOffset,r=e.top+this.window.pageYOffset,i=this.offset();this.window.scrollTo(n-i[0],r-i[1])},t.prototype.supportScrollRestoration=function(){try{return!!this.window&&!!this.window.scrollTo}catch(t){return!1}},t}(),ol=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return i(e,t),e.makeCurrent=function(){var t;t=new e,yc||(yc=t)},e.prototype.getProperty=function(t,e){return t[e]},e.prototype.log=function(t){window.console&&window.console.log&&window.console.log(t)},e.prototype.logGroup=function(t){window.console&&window.console.group&&window.console.group(t)},e.prototype.logGroupEnd=function(){window.console&&window.console.groupEnd&&window.console.groupEnd()},e.prototype.onAndCancel=function(t,e,n){return t.addEventListener(e,n,!1),function(){t.removeEventListener(e,n,!1)}},e.prototype.dispatchEvent=function(t,e){t.dispatchEvent(e)},e.prototype.remove=function(t){return t.parentNode&&t.parentNode.removeChild(t),t},e.prototype.getValue=function(t){return t.value},e.prototype.createElement=function(t,e){return(e=e||this.getDefaultDocument()).createElement(t)},e.prototype.createHtmlDocument=function(){return document.implementation.createHTMLDocument("fakeTitle")},e.prototype.getDefaultDocument=function(){return document},e.prototype.isElementNode=function(t){return t.nodeType===Node.ELEMENT_NODE},e.prototype.isShadowRoot=function(t){return t instanceof DocumentFragment},e.prototype.getGlobalEventTarget=function(t,e){return"window"===e?window:"document"===e?t:"body"===e?t.body:null},e.prototype.getHistory=function(){return window.history},e.prototype.getLocation=function(){return window.location},e.prototype.getBaseHref=function(t){var e,n=al||(al=document.querySelector("base"))?al.getAttribute("href"):null;return null==n?null:(e=n,Qc||(Qc=document.createElement("a")),Qc.setAttribute("href",e),"/"===Qc.pathname.charAt(0)?Qc.pathname:"/"+Qc.pathname)},e.prototype.resetBaseElement=function(){al=null},e.prototype.getUserAgent=function(){return window.navigator.userAgent},e.prototype.performanceNow=function(){return window.performance&&window.performance.now?window.performance.now():(new Date).getTime()},e.prototype.supportsCookies=function(){return!0},e.prototype.getCookie=function(t){return Hc(document.cookie,t)},e}(function(t){function e(){return t.call(this)||this}return i(e,t),e.prototype.supportsDOMEvents=function(){return!0},e}(wc)),al=null,sl=new Wt("TRANSITION_ID"),ul=[{provide:xu,useFactory:function(t,e,n){return function(){n.get(_u).donePromise.then((function(){var n=bc();Array.prototype.slice.apply(e.querySelectorAll("style[ng-transition]")).filter((function(e){return e.getAttribute("ng-transition")===t})).forEach((function(t){return n.remove(t)}))}))}},deps:[sl,xc,Po],multi:!0}],cl=function(){function t(){}return t.init=function(){var e;e=new t,tc=e},t.prototype.addToWindow=function(t){zt.getAngularTestability=function(e,n){void 0===n&&(n=!0);var r=t.findTestabilityInTree(e,n);if(null==r)throw new Error("Could not find testability for element.");return r},zt.getAllAngularTestabilities=function(){return t.getAllTestabilities()},zt.getAllAngularRootElements=function(){return t.getAllRootElements()},zt.frameworkStabilizers||(zt.frameworkStabilizers=[]),zt.frameworkStabilizers.push((function(t){var e=zt.getAllAngularTestabilities(),n=e.length,r=!1,i=function(e){r=r||e,0==--n&&t(r)};e.forEach((function(t){t.whenStable(i)}))}))},t.prototype.findTestabilityInTree=function(t,e,n){if(null==e)return null;var r=t.getTestability(e);return null!=r?r:n?bc().isShadowRoot(e)?this.findTestabilityInTree(t,e.host,!0):this.findTestabilityInTree(t,e.parentElement,!0):null},t}(),ll=new Wt("EventManagerPlugins"),dl=function(){function t(t,e){var n=this;this._zone=e,this._eventNameToPlugin=new Map,t.forEach((function(t){return t.manager=n})),this._plugins=t.slice().reverse()}return t.prototype.addEventListener=function(t,e,n){return this._findPluginFor(e).addEventListener(t,e,n)},t.prototype.addGlobalEventListener=function(t,e,n){return this._findPluginFor(e).addGlobalEventListener(t,e,n)},t.prototype.getZone=function(){return this._zone},t.prototype._findPluginFor=function(t){var e=this._eventNameToPlugin.get(t);if(e)return e;for(var n=this._plugins,r=0;r<n.length;r++){var i=n[r];if(i.supports(t))return this._eventNameToPlugin.set(t,i),i}throw new Error("No event manager plugin found for event "+t)},t.\u0275fac=function(e){return new(e||t)(ee(ll),ee(Bu))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),pl=function(){function t(t){this._doc=t}return t.prototype.addGlobalEventListener=function(t,e,n){var r=bc().getGlobalEventTarget(this._doc,t);if(!r)throw new Error("Unsupported event target "+r+" for event "+e);return this.addEventListener(r,e,n)},t}(),fl=function(){function t(){this._stylesSet=new Set}return t.prototype.addStyles=function(t){var e=this,n=new Set;t.forEach((function(t){e._stylesSet.has(t)||(e._stylesSet.add(t),n.add(t))})),this.onStylesAdded(n)},t.prototype.onStylesAdded=function(t){},t.prototype.getAllStyles=function(){return Array.from(this._stylesSet)},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),hl=function(t){function e(e){var n=t.call(this)||this;return n._doc=e,n._hostNodes=new Set,n._styleNodes=new Set,n._hostNodes.add(e.head),n}return i(e,t),e.prototype._addStylesToHost=function(t,e){var n=this;t.forEach((function(t){var r=n._doc.createElement("style");r.textContent=t,n._styleNodes.add(e.appendChild(r))}))},e.prototype.addHost=function(t){this._addStylesToHost(this._stylesSet,t),this._hostNodes.add(t)},e.prototype.removeHost=function(t){this._hostNodes.delete(t)},e.prototype.onStylesAdded=function(t){var e=this;this._hostNodes.forEach((function(n){return e._addStylesToHost(t,n)}))},e.prototype.ngOnDestroy=function(){this._styleNodes.forEach((function(t){return bc().remove(t)}))},e.\u0275fac=function(t){return new(t||e)(ee(xc))},e.\u0275prov=gt({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(fl),ml={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"},vl=/%COMP%/g;function gl(t,e,n){for(var r=0;r<e.length;r++){var i=e[r];Array.isArray(i)?gl(t,i,n):(i=i.replace(vl,t),n.push(i))}return n}function yl(t){return function(e){if("__ngUnwrap__"===e)return t;!1===t(e)&&(e.preventDefault(),e.returnValue=!1)}}var bl=function(){function t(t,e,n){this.eventManager=t,this.sharedStylesHost=e,this.appId=n,this.rendererByCompId=new Map,this.defaultRenderer=new wl(t)}return t.prototype.createRenderer=function(t,e){if(!t||!e)return this.defaultRenderer;switch(e.encapsulation){case me.Emulated:var n=this.rendererByCompId.get(e.id);return n||(n=new xl(this.eventManager,this.sharedStylesHost,e,this.appId),this.rendererByCompId.set(e.id,n)),n.applyToHost(t),n;case me.Native:case me.ShadowDom:return new _l(this.eventManager,this.sharedStylesHost,t,e);default:if(!this.rendererByCompId.has(e.id)){var r=gl(e.id,e.styles,[]);this.sharedStylesHost.addStyles(r),this.rendererByCompId.set(e.id,this.defaultRenderer)}return this.defaultRenderer}},t.prototype.begin=function(){},t.prototype.end=function(){},t.\u0275fac=function(e){return new(e||t)(ee(dl),ee(hl),ee(Cu))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),wl=function(){function t(t){this.eventManager=t,this.data=Object.create(null)}return t.prototype.destroy=function(){},t.prototype.createElement=function(t,e){return e?document.createElementNS(ml[e]||e,t):document.createElement(t)},t.prototype.createComment=function(t){return document.createComment(t)},t.prototype.createText=function(t){return document.createTextNode(t)},t.prototype.appendChild=function(t,e){t.appendChild(e)},t.prototype.insertBefore=function(t,e,n){t&&t.insertBefore(e,n)},t.prototype.removeChild=function(t,e){t&&t.removeChild(e)},t.prototype.selectRootElement=function(t,e){var n="string"==typeof t?document.querySelector(t):t;if(!n)throw new Error('The selector "'+t+'" did not match any elements');return e||(n.textContent=""),n},t.prototype.parentNode=function(t){return t.parentNode},t.prototype.nextSibling=function(t){return t.nextSibling},t.prototype.setAttribute=function(t,e,n,r){if(r){e=r+":"+e;var i=ml[r];i?t.setAttributeNS(i,e,n):t.setAttribute(e,n)}else t.setAttribute(e,n)},t.prototype.removeAttribute=function(t,e,n){if(n){var r=ml[n];r?t.removeAttributeNS(r,e):t.removeAttribute(n+":"+e)}else t.removeAttribute(e)},t.prototype.addClass=function(t,e){t.classList.add(e)},t.prototype.removeClass=function(t,e){t.classList.remove(e)},t.prototype.setStyle=function(t,e,n,r){r&hs.DashCase?t.style.setProperty(e,n,r&hs.Important?"important":""):t.style[e]=n},t.prototype.removeStyle=function(t,e,n){n&hs.DashCase?t.style.removeProperty(e):t.style[e]=""},t.prototype.setProperty=function(t,e,n){t[e]=n},t.prototype.setValue=function(t,e){t.nodeValue=e},t.prototype.listen=function(t,e,n){return"string"==typeof t?this.eventManager.addGlobalEventListener(t,e,yl(n)):this.eventManager.addEventListener(t,e,yl(n))},t}(),xl=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.component=r;var a=gl(i+"-"+r.id,r.styles,[]);return n.addStyles(a),o.contentAttr="_ngcontent-%COMP%".replace(vl,i+"-"+r.id),o.hostAttr=function(t){return"_nghost-%COMP%".replace(vl,t)}(i+"-"+r.id),o}return i(e,t),e.prototype.applyToHost=function(e){t.prototype.setAttribute.call(this,e,this.hostAttr,"")},e.prototype.createElement=function(e,n){var r=t.prototype.createElement.call(this,e,n);return t.prototype.setAttribute.call(this,r,this.contentAttr,""),r},e}(wl),_l=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;o.sharedStylesHost=n,o.hostEl=r,o.component=i,o.shadowRoot=i.encapsulation===me.ShadowDom?r.attachShadow({mode:"open"}):r.createShadowRoot(),o.sharedStylesHost.addHost(o.shadowRoot);for(var a=gl(i.id,i.styles,[]),s=0;s<a.length;s++){var u=document.createElement("style");u.textContent=a[s],o.shadowRoot.appendChild(u)}return o}return i(e,t),e.prototype.nodeOrShadowRoot=function(t){return t===this.hostEl?this.shadowRoot:t},e.prototype.destroy=function(){this.sharedStylesHost.removeHost(this.shadowRoot)},e.prototype.appendChild=function(e,n){return t.prototype.appendChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.insertBefore=function(e,n,r){return t.prototype.insertBefore.call(this,this.nodeOrShadowRoot(e),n,r)},e.prototype.removeChild=function(e,n){return t.prototype.removeChild.call(this,this.nodeOrShadowRoot(e),n)},e.prototype.parentNode=function(e){return this.nodeOrShadowRoot(t.prototype.parentNode.call(this,this.nodeOrShadowRoot(e)))},e}(wl),Cl=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.prototype.supports=function(t){return!0},e.prototype.addEventListener=function(t,e,n){var r=this;return t.addEventListener(e,n,!1),function(){return r.removeEventListener(t,e,n)}},e.prototype.removeEventListener=function(t,e,n){return t.removeEventListener(e,n)},e.\u0275fac=function(t){return new(t||e)(ee(xc))},e.\u0275prov=gt({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(pl),Sl=["alt","control","meta","shift"],Il={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},kl={A:"1",B:"2",C:"3",D:"4",E:"5",F:"6",G:"7",H:"8",I:"9",J:"*",K:"+",M:"-",N:".",O:"/","`":"0","\x90":"NumLock"},Tl={alt:function(t){return t.altKey},control:function(t){return t.ctrlKey},meta:function(t){return t.metaKey},shift:function(t){return t.shiftKey}},El=function(t){function e(e){return t.call(this,e)||this}var n;return i(e,t),n=e,e.prototype.supports=function(t){return null!=n.parseEventName(t)},e.prototype.addEventListener=function(t,e,r){var i=n.parseEventName(e),o=n.eventCallback(i.fullKey,r,this.manager.getZone());return this.manager.getZone().runOutsideAngular((function(){return bc().onAndCancel(t,i.domEventName,o)}))},e.parseEventName=function(t){var e=t.toLowerCase().split("."),r=e.shift();if(0===e.length||"keydown"!==r&&"keyup"!==r)return null;var i=n._normalizeKey(e.pop()),o="";if(Sl.forEach((function(t){var n=e.indexOf(t);n>-1&&(e.splice(n,1),o+=t+".")})),o+=i,0!=e.length||0===i.length)return null;var a={};return a.domEventName=r,a.fullKey=o,a},e.getEventFullKey=function(t){var e="",n=function(t){var e=t.key;if(null==e){if(null==(e=t.keyIdentifier))return"Unidentified";e.startsWith("U+")&&(e=String.fromCharCode(parseInt(e.substring(2),16)),3===t.location&&kl.hasOwnProperty(e)&&(e=kl[e]))}return Il[e]||e}(t);return" "===(n=n.toLowerCase())?n="space":"."===n&&(n="dot"),Sl.forEach((function(r){r!=n&&(0,Tl[r])(t)&&(e+=r+".")})),e+=n},e.eventCallback=function(t,e,r){return function(i){n.getEventFullKey(i)===t&&r.runGuarded((function(){return e(i)}))}},e._normalizeKey=function(t){switch(t){case"esc":return"escape";default:return t}},e.\u0275fac=function(t){return new(t||e)(ee(xc))},e.\u0275prov=gt({token:e,factory:function(t){return e.\u0275fac(t)}}),e}(pl),Al=ic(mc,"browser",[{provide:Tu,useValue:"browser"},{provide:ku,useValue:function(){ol.makeCurrent(),cl.init()},multi:!0},{provide:xc,useFactory:function(){return function(t){Ve=t}(document),document},deps:[]}]),Ol=[[],{provide:go,useValue:"root"},{provide:fr,useFactory:function(){return new fr},deps:[]},{provide:ll,useClass:Cl,multi:!0,deps:[xc,Bu,Tu]},{provide:ll,useClass:El,multi:!0,deps:[xc]},[],{provide:bl,useClass:bl,deps:[dl,hl,Cu]},{provide:fs,useExisting:bl},{provide:fl,useExisting:hl},{provide:hl,useClass:hl,deps:[xc]},{provide:Ku,useClass:Ku,deps:[Bu]},{provide:dl,useClass:dl,deps:[ll,Bu]},[]],Pl=function(){function t(t){if(t)throw new Error("BrowserModule has already been loaded. If you need access to common directives such as NgIf and NgFor from a lazy loaded module, import CommonModule instead.")}var e;return e=t,t.withServerTransition=function(t){return{ngModule:e,providers:[{provide:Cu,useValue:t.appId},{provide:sl,useExisting:Cu},ul]}},t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(n){return new(n||t)(ee(e,12))},providers:Ol,imports:[nl,gc]}),t}();function Dl(t,e){return new k((function(n){var r=t.length;if(0!==r)for(var i=new Array(r),o=0,a=0,s=function(s){var u=G(t[s]),c=!1;n.add(u.subscribe({next:function(t){c||(c=!0,a++),i[s]=t},error:function(t){return n.error(t)},complete:function(){++o!==r&&c||(a===r&&n.next(e?e.reduce((function(t,e,n){return t[e]=i[n],t}),{}):i),n.complete())}}))},u=0;u<r;u++)s(u);else n.complete()}))}"undefined"!=typeof window&&window;var Ml=new Wt("NgValueAccessor"),Rl={provide:Ml,useExisting:Ot((function(){return Nl})),multi:!0},Nl=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"checked",t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.\u0275fac=function(e){return new(e||t)(Jo(ms),Jo(ds))},t.\u0275dir=Ie({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(t,e){1&t&&ua("change",(function(t){return e.onChange(t.target.checked)}))("blur",(function(){return e.onTouched()}))},features:[as([Rl])]}),t}(),Vl={provide:Ml,useExisting:Ot((function(){return zl})),multi:!0},jl=new Wt("CompositionEventMode"),zl=function(){function t(t,e,n){var r;this._renderer=t,this._elementRef=e,this._compositionMode=n,this.onChange=function(t){},this.onTouched=function(){},this._composing=!1,null==this._compositionMode&&(this._compositionMode=(r=bc()?bc().getUserAgent():"",!/android (\d+)/.test(r.toLowerCase())))}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=t},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._handleInput=function(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)},t.prototype._compositionStart=function(){this._composing=!0},t.prototype._compositionEnd=function(t){this._composing=!1,this._compositionMode&&this.onChange(t)},t.\u0275fac=function(e){return new(e||t)(Jo(ms),Jo(ds),Jo(jl,8))},t.\u0275dir=Ie({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,e){1&t&&ua("input",(function(t){return e._handleInput(t.target.value)}))("blur",(function(){return e.onTouched()}))("compositionstart",(function(){return e._compositionStart()}))("compositionend",(function(t){return e._compositionEnd(t.target.value)}))},features:[as([Vl])]}),t}(),Ll=function(){function t(){}return Object.defineProperty(t.prototype,"value",{get:function(){return this.control?this.control.value:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return this.control?this.control.valid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return this.control?this.control.invalid:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return this.control?this.control.pending:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return this.control?this.control.disabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return this.control?this.control.enabled:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"errors",{get:function(){return this.control?this.control.errors:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pristine",{get:function(){return this.control?this.control.pristine:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return this.control?this.control.dirty:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"touched",{get:function(){return this.control?this.control.touched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"status",{get:function(){return this.control?this.control.status:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return this.control?this.control.untouched:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"statusChanges",{get:function(){return this.control?this.control.statusChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valueChanges",{get:function(){return this.control?this.control.valueChanges:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),t.prototype.reset=function(t){void 0===t&&(t=void 0),this.control&&this.control.reset(t)},t.prototype.hasError=function(t,e){return!!this.control&&this.control.hasError(t,e)},t.prototype.getError=function(t,e){return this.control?this.control.getError(t,e):null},t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=Ie({type:t}),t}(),Fl=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i(e,t),Object.defineProperty(e.prototype,"formDirective",{get:function(){return null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return null},enumerable:!0,configurable:!0}),e.\u0275fac=function(t){return n(t||e)},e.\u0275dir=Ie({type:e,features:[$a]});var n=cr(e);return e}(Ll);function Ul(){throw new Error("unimplemented")}var Hl=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e._parent=null,e.name=null,e.valueAccessor=null,e._rawValidators=[],e._rawAsyncValidators=[],e}return i(e,t),Object.defineProperty(e.prototype,"validator",{get:function(){return Ul()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return Ul()},enumerable:!0,configurable:!0}),e}(Ll),Bl=function(t){function e(e){return t.call(this,e)||this}return i(e,t),e.\u0275fac=function(t){return new(t||e)(Jo(Hl,2))},e.\u0275dir=Ie({type:e,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,e){2&t&&ka("ng-untouched",e.ngClassUntouched)("ng-touched",e.ngClassTouched)("ng-pristine",e.ngClassPristine)("ng-dirty",e.ngClassDirty)("ng-valid",e.ngClassValid)("ng-invalid",e.ngClassInvalid)("ng-pending",e.ngClassPending)},features:[$a]}),e}(function(){function t(t){this._cd=t}return Object.defineProperty(t.prototype,"ngClassUntouched",{get:function(){return!!this._cd.control&&this._cd.control.untouched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassTouched",{get:function(){return!!this._cd.control&&this._cd.control.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPristine",{get:function(){return!!this._cd.control&&this._cd.control.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassDirty",{get:function(){return!!this._cd.control&&this._cd.control.dirty},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassValid",{get:function(){return!!this._cd.control&&this._cd.control.valid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassInvalid",{get:function(){return!!this._cd.control&&this._cd.control.invalid},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ngClassPending",{get:function(){return!!this._cd.control&&this._cd.control.pending},enumerable:!0,configurable:!0}),t}());function $l(t){return null==t||0===t.length}var ql=new Wt("NgValidators"),Wl=new Wt("NgAsyncValidators"),Gl=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,Zl=function(){function t(){}return t.min=function(t){return function(e){if($l(e.value)||$l(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}},t.max=function(t){return function(e){if($l(e.value)||$l(t))return null;var n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}},t.required=function(t){return $l(t.value)?{required:!0}:null},t.requiredTrue=function(t){return!0===t.value?null:{required:!0}},t.email=function(t){return $l(t.value)||Gl.test(t.value)?null:{email:!0}},t.minLength=function(t){return function(e){if($l(e.value))return null;var n=e.value?e.value.length:0;return n<t?{minlength:{requiredLength:t,actualLength:n}}:null}},t.maxLength=function(t){return function(e){var n=e.value?e.value.length:0;return n>t?{maxlength:{requiredLength:t,actualLength:n}}:null}},t.pattern=function(e){return e?("string"==typeof e?(r="","^"!==e.charAt(0)&&(r+="^"),r+=e,"$"!==e.charAt(e.length-1)&&(r+="$"),n=new RegExp(r)):(r=e.toString(),n=e),function(t){if($l(t.value))return null;var e=t.value;return n.test(e)?null:{pattern:{requiredPattern:r,actualValue:e}}}):t.nullValidator;var n,r},t.nullValidator=function(t){return null},t.compose=function(t){if(!t)return null;var e=t.filter(Xl);return 0==e.length?null:function(t){return Jl(function(t,e){return e.map((function(e){return e(t)}))}(t,e))}},t.composeAsync=function(t){if(!t)return null;var e=t.filter(Xl);return 0==e.length?null:function(t){return function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(1===t.length){var n=t[0];if(c(n))return Dl(n,null);if(l(n)&&Object.getPrototypeOf(n)===Object.prototype){var r=Object.keys(n);return Dl(r.map((function(t){return n[t]})),r)}}if("function"==typeof t[t.length-1]){var i=t.pop();return Dl(t=1===t.length&&c(t[0])?t[0]:t,null).pipe(B((function(t){return i.apply(void 0,t)})))}return Dl(t,null)}(function(t,e){return e.map((function(e){return e(t)}))}(t,e).map(Ql)).pipe(B(Jl))}},t}();function Xl(t){return null!=t}function Ql(t){var e=aa(t)?G(t):t;if(!sa(e))throw new Error("Expected validator to return Promise or Observable.");return e}function Jl(t){var e={};return t.forEach((function(t){e=null!=t?o(o({},e),t):e})),0===Object.keys(e).length?null:e}function Kl(t){return t.validate?function(e){return t.validate(e)}:t}function Yl(t){return t.validate?function(e){return t.validate(e)}:t}var td={provide:Ml,useExisting:Ot((function(){return ed})),multi:!0},ed=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",null==t?"":t)},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.\u0275fac=function(e){return new(e||t)(Jo(ms),Jo(ds))},t.\u0275dir=Ie({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,e){1&t&&ua("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[as([td])]}),t}(),nd={provide:Ml,useExisting:Ot((function(){return id})),multi:!0},rd=function(){function t(){this._accessors=[]}return t.prototype.add=function(t,e){this._accessors.push([t,e])},t.prototype.remove=function(t){for(var e=this._accessors.length-1;e>=0;--e)if(this._accessors[e][1]===t)return void this._accessors.splice(e,1)},t.prototype.select=function(t){var e=this;this._accessors.forEach((function(n){e._isSameGroup(n,t)&&n[1]!==t&&n[1].fireUncheck(t.value)}))},t.prototype._isSameGroup=function(t,e){return!!t[0].control&&t[0]._parent===e._control._parent&&t[1].name===e.name},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),id=function(){function t(t,e,n,r){this._renderer=t,this._elementRef=e,this._registry=n,this._injector=r,this.onChange=function(){},this.onTouched=function(){}}return t.prototype.ngOnInit=function(){this._control=this._injector.get(Hl),this._checkName(),this._registry.add(this._control,this)},t.prototype.ngOnDestroy=function(){this._registry.remove(this)},t.prototype.writeValue=function(t){this._state=t===this.value,this._renderer.setProperty(this._elementRef.nativeElement,"checked",this._state)},t.prototype.registerOnChange=function(t){var e=this;this._fn=t,this.onChange=function(){t(e.value),e._registry.select(e)}},t.prototype.fireUncheck=function(t){this.writeValue(t)},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._checkName=function(){this.name&&this.formControlName&&this.name!==this.formControlName&&this._throwNameError(),!this.name&&this.formControlName&&(this.name=this.formControlName)},t.prototype._throwNameError=function(){throw new Error('\n      If you define both a name and a formControlName attribute on your radio button, their values\n      must match. Ex: <input type="radio" formControlName="food" name="food">\n    ')},t.\u0275fac=function(e){return new(e||t)(Jo(ms),Jo(ds),Jo(rd),Jo(Po))},t.\u0275dir=Ie({type:t,selectors:[["input","type","radio","formControlName",""],["input","type","radio","formControl",""],["input","type","radio","ngModel",""]],hostBindings:function(t,e){1&t&&ua("change",(function(){return e.onChange()}))("blur",(function(){return e.onTouched()}))},inputs:{name:"name",formControlName:"formControlName",value:"value"},features:[as([nd])]}),t}(),od={provide:Ml,useExisting:Ot((function(){return ad})),multi:!0},ad=function(){function t(t,e){this._renderer=t,this._elementRef=e,this.onChange=function(t){},this.onTouched=function(){}}return t.prototype.writeValue=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"value",parseFloat(t))},t.prototype.registerOnChange=function(t){this.onChange=function(e){t(""==e?null:parseFloat(e))}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.\u0275fac=function(e){return new(e||t)(Jo(ms),Jo(ds))},t.\u0275dir=Ie({type:t,selectors:[["input","type","range","formControlName",""],["input","type","range","formControl",""],["input","type","range","ngModel",""]],hostBindings:function(t,e){1&t&&ua("change",(function(t){return e.onChange(t.target.value)}))("input",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},features:[as([od])]}),t}(),sd='\n    <div [formGroup]="myGroup">\n       <div formGroupName="person">\n          <input formControlName="firstName">\n       </div>\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       person: new FormGroup({ firstName: new FormControl() })\n    });',ud='\n    <form>\n       <div ngModelGroup="person">\n          <input [(ngModel)]="person.name" name="firstName">\n       </div>\n    </form>',cd={provide:Ml,useExisting:Ot((function(){return ld})),multi:!0},ld=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Lo}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){this.value=t;var e=this._getOptionId(t);null==e&&this._renderer.setProperty(this._elementRef.nativeElement,"selectedIndex",-1);var n=function(t,e){return null==t?""+e:(e&&"object"==typeof e&&(e="Object"),(t+": "+e).slice(0,50))}(e,t);this._renderer.setProperty(this._elementRef.nativeElement,"value",n)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){e.value=e._getOptionValue(n),t(e.value)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(){return(this._idCounter++).toString()},t.prototype._getOptionId=function(t){var e,n;try{for(var r=a(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o),t))return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e):t},t.\u0275fac=function(e){return new(e||t)(Jo(ms),Jo(ds))},t.\u0275dir=Ie({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(t,e){1&t&&ua("change",(function(t){return e.onChange(t.target.value)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[as([cd])]}),t}(),dd={provide:Ml,useExisting:Ot((function(){return pd})),multi:!0},pd=function(){function t(t,e){this._renderer=t,this._elementRef=e,this._optionMap=new Map,this._idCounter=0,this.onChange=function(t){},this.onTouched=function(){},this._compareWith=Lo}return Object.defineProperty(t.prototype,"compareWith",{set:function(t){if("function"!=typeof t)throw new Error("compareWith must be a function, but received "+JSON.stringify(t));this._compareWith=t},enumerable:!0,configurable:!0}),t.prototype.writeValue=function(t){var e,n=this;if(this.value=t,Array.isArray(t)){var r=t.map((function(t){return n._getOptionId(t)}));e=function(t,e){t._setSelected(r.indexOf(e.toString())>-1)}}else e=function(t,e){t._setSelected(!1)};this._optionMap.forEach(e)},t.prototype.registerOnChange=function(t){var e=this;this.onChange=function(n){var r=[];if(n.hasOwnProperty("selectedOptions"))for(var i=n.selectedOptions,o=0;o<i.length;o++){var a=i.item(o),s=e._getOptionValue(a.value);r.push(s)}else for(i=n.options,o=0;o<i.length;o++)(a=i.item(o)).selected&&(s=e._getOptionValue(a.value),r.push(s));e.value=r,t(r)}},t.prototype.registerOnTouched=function(t){this.onTouched=t},t.prototype.setDisabledState=function(t){this._renderer.setProperty(this._elementRef.nativeElement,"disabled",t)},t.prototype._registerOption=function(t){var e=(this._idCounter++).toString();return this._optionMap.set(e,t),e},t.prototype._getOptionId=function(t){var e,n;try{for(var r=a(Array.from(this._optionMap.keys())),i=r.next();!i.done;i=r.next()){var o=i.value;if(this._compareWith(this._optionMap.get(o)._value,t))return o}}catch(s){e={error:s}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(e)throw e.error}}return null},t.prototype._getOptionValue=function(t){var e=function(t){return t.split(":")[0]}(t);return this._optionMap.has(e)?this._optionMap.get(e)._value:t},t.\u0275fac=function(e){return new(e||t)(Jo(ms),Jo(ds))},t.\u0275dir=Ie({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(t,e){1&t&&ua("change",(function(t){return e.onChange(t.target)}))("blur",(function(){return e.onTouched()}))},inputs:{compareWith:"compareWith"},features:[as([dd])]}),t}();function fd(t,e){return u(e.path,[t])}function hd(t,e){t||vd(e,"Cannot find control with"),e.valueAccessor||vd(e,"No value accessor for form control with"),t.validator=Zl.compose([t.validator,e.validator]),t.asyncValidator=Zl.composeAsync([t.asyncValidator,e.asyncValidator]),e.valueAccessor.writeValue(t.value),function(t,e){e.valueAccessor.registerOnChange((function(n){t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,"change"===t.updateOn&&md(t,e)}))}(t,e),function(t,e){t.registerOnChange((function(t,n){e.valueAccessor.writeValue(t),n&&e.viewToModelUpdate(t)}))}(t,e),function(t,e){e.valueAccessor.registerOnTouched((function(){t._pendingTouched=!0,"blur"===t.updateOn&&t._pendingChange&&md(t,e),"submit"!==t.updateOn&&t.markAsTouched()}))}(t,e),e.valueAccessor.setDisabledState&&t.registerOnDisabledChange((function(t){e.valueAccessor.setDisabledState(t)})),e._rawValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))})),e._rawAsyncValidators.forEach((function(e){e.registerOnValidatorChange&&e.registerOnValidatorChange((function(){return t.updateValueAndValidity()}))}))}function md(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function vd(t,e){var n;throw n=t.path.length>1?"path: '"+t.path.join(" -> ")+"'":t.path[0]?"name: '"+t.path+"'":"unspecified name attribute",new Error(e+" "+n)}function gd(t){return null!=t?Zl.compose(t.map(Kl)):null}function yd(t){return null!=t?Zl.composeAsync(t.map(Yl)):null}var bd=[Nl,ad,ed,ld,pd,id];function wd(t){var e=_d(t)?t.validators:t;return Array.isArray(e)?gd(e):e||null}function xd(t,e){var n=_d(e)?e.asyncValidators:t;return Array.isArray(n)?yd(n):n||null}function _d(t){return null!=t&&!Array.isArray(t)&&"object"==typeof t}var Cd=function(){function t(t,e){this.validator=t,this.asyncValidator=e,this._onCollectionChange=function(){},this.pristine=!0,this.touched=!1,this._onDisabledChange=[]}return Object.defineProperty(t.prototype,"parent",{get:function(){return this._parent},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"valid",{get:function(){return"VALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"invalid",{get:function(){return"INVALID"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pending",{get:function(){return"PENDING"==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"disabled",{get:function(){return"DISABLED"===this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"enabled",{get:function(){return"DISABLED"!==this.status},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"dirty",{get:function(){return!this.pristine},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"untouched",{get:function(){return!this.touched},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"updateOn",{get:function(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"},enumerable:!0,configurable:!0}),t.prototype.setValidators=function(t){this.validator=wd(t)},t.prototype.setAsyncValidators=function(t){this.asyncValidator=xd(t)},t.prototype.clearValidators=function(){this.validator=null},t.prototype.clearAsyncValidators=function(){this.asyncValidator=null},t.prototype.markAsTouched=function(t){void 0===t&&(t={}),this.touched=!0,this._parent&&!t.onlySelf&&this._parent.markAsTouched(t)},t.prototype.markAllAsTouched=function(){this.markAsTouched({onlySelf:!0}),this._forEachChild((function(t){return t.markAllAsTouched()}))},t.prototype.markAsUntouched=function(t){void 0===t&&(t={}),this.touched=!1,this._pendingTouched=!1,this._forEachChild((function(t){t.markAsUntouched({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype.markAsDirty=function(t){void 0===t&&(t={}),this.pristine=!1,this._parent&&!t.onlySelf&&this._parent.markAsDirty(t)},t.prototype.markAsPristine=function(t){void 0===t&&(t={}),this.pristine=!0,this._pendingDirty=!1,this._forEachChild((function(t){t.markAsPristine({onlySelf:!0})})),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype.markAsPending=function(t){void 0===t&&(t={}),this.status="PENDING",!1!==t.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!t.onlySelf&&this._parent.markAsPending(t)},t.prototype.disable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="DISABLED",this.errors=null,this._forEachChild((function(e){e.disable(o(o({},t),{onlySelf:!0}))})),this._updateValue(),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(o(o({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!0)}))},t.prototype.enable=function(t){void 0===t&&(t={});var e=this._parentMarkedDirty(t.onlySelf);this.status="VALID",this._forEachChild((function(e){e.enable(o(o({},t),{onlySelf:!0}))})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent}),this._updateAncestors(o(o({},t),{skipPristineCheck:e})),this._onDisabledChange.forEach((function(t){return t(!1)}))},t.prototype._updateAncestors=function(t){this._parent&&!t.onlySelf&&(this._parent.updateValueAndValidity(t),t.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())},t.prototype.setParent=function(t){this._parent=t},t.prototype.updateValueAndValidity=function(t){void 0===t&&(t={}),this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),"VALID"!==this.status&&"PENDING"!==this.status||this._runAsyncValidator(t.emitEvent)),!1!==t.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!t.onlySelf&&this._parent.updateValueAndValidity(t)},t.prototype._updateTreeValidity=function(t){void 0===t&&(t={emitEvent:!0}),this._forEachChild((function(e){return e._updateTreeValidity(t)})),this.updateValueAndValidity({onlySelf:!0,emitEvent:t.emitEvent})},t.prototype._setInitialStatus=function(){this.status=this._allControlsDisabled()?"DISABLED":"VALID"},t.prototype._runValidator=function(){return this.validator?this.validator(this):null},t.prototype._runAsyncValidator=function(t){var e=this;if(this.asyncValidator){this.status="PENDING";var n=Ql(this.asyncValidator(this));this._asyncValidationSubscription=n.subscribe((function(n){return e.setErrors(n,{emitEvent:t})}))}},t.prototype._cancelExistingSubscription=function(){this._asyncValidationSubscription&&this._asyncValidationSubscription.unsubscribe()},t.prototype.setErrors=function(t,e){void 0===e&&(e={}),this.errors=t,this._updateControlsErrors(!1!==e.emitEvent)},t.prototype.get=function(t){return function(t,e,n){if(null==e)return null;if(Array.isArray(e)||(e=e.split(".")),Array.isArray(e)&&0===e.length)return null;var r=t;return e.forEach((function(t){r=r instanceof Id?r.controls.hasOwnProperty(t)?r.controls[t]:null:r instanceof kd&&r.at(t)||null})),r}(this,t)},t.prototype.getError=function(t,e){var n=e?this.get(e):this;return n&&n.errors?n.errors[t]:null},t.prototype.hasError=function(t,e){return!!this.getError(t,e)},Object.defineProperty(t.prototype,"root",{get:function(){for(var t=this;t._parent;)t=t._parent;return t},enumerable:!0,configurable:!0}),t.prototype._updateControlsErrors=function(t){this.status=this._calculateStatus(),t&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(t)},t.prototype._initObservables=function(){this.valueChanges=new ou,this.statusChanges=new ou},t.prototype._calculateStatus=function(){return this._allControlsDisabled()?"DISABLED":this.errors?"INVALID":this._anyControlsHaveStatus("PENDING")?"PENDING":this._anyControlsHaveStatus("INVALID")?"INVALID":"VALID"},t.prototype._anyControlsHaveStatus=function(t){return this._anyControls((function(e){return e.status===t}))},t.prototype._anyControlsDirty=function(){return this._anyControls((function(t){return t.dirty}))},t.prototype._anyControlsTouched=function(){return this._anyControls((function(t){return t.touched}))},t.prototype._updatePristine=function(t){void 0===t&&(t={}),this.pristine=!this._anyControlsDirty(),this._parent&&!t.onlySelf&&this._parent._updatePristine(t)},t.prototype._updateTouched=function(t){void 0===t&&(t={}),this.touched=this._anyControlsTouched(),this._parent&&!t.onlySelf&&this._parent._updateTouched(t)},t.prototype._isBoxedValue=function(t){return"object"==typeof t&&null!==t&&2===Object.keys(t).length&&"value"in t&&"disabled"in t},t.prototype._registerOnCollectionChange=function(t){this._onCollectionChange=t},t.prototype._setUpdateStrategy=function(t){_d(t)&&null!=t.updateOn&&(this._updateOn=t.updateOn)},t.prototype._parentMarkedDirty=function(t){return!t&&this._parent&&this._parent.dirty&&!this._parent._anyControlsDirty()},t}(),Sd=function(t){function e(e,n,r){void 0===e&&(e=null);var i=t.call(this,wd(n),xd(r,n))||this;return i._onChange=[],i._applyFormState(e),i._setUpdateStrategy(n),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i._initObservables(),i}return i(e,t),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this.value=this._pendingValue=t,this._onChange.length&&!1!==e.emitModelToViewChange&&this._onChange.forEach((function(t){return t(n.value,!1!==e.emitViewToModelChange)})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){void 0===e&&(e={}),this.setValue(t,e)},e.prototype.reset=function(t,e){void 0===t&&(t=null),void 0===e&&(e={}),this._applyFormState(t),this.markAsPristine(e),this.markAsUntouched(e),this.setValue(this.value,e),this._pendingChange=!1},e.prototype._updateValue=function(){},e.prototype._anyControls=function(t){return!1},e.prototype._allControlsDisabled=function(){return this.disabled},e.prototype.registerOnChange=function(t){this._onChange.push(t)},e.prototype._clearChangeFns=function(){this._onChange=[],this._onDisabledChange=[],this._onCollectionChange=function(){}},e.prototype.registerOnDisabledChange=function(t){this._onDisabledChange.push(t)},e.prototype._forEachChild=function(t){},e.prototype._syncPendingControls=function(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))},e.prototype._applyFormState=function(t){this._isBoxedValue(t)?(this.value=this._pendingValue=t.value,t.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=t},e}(Cd),Id=function(t){function e(e,n,r){var i=t.call(this,wd(n),xd(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.registerControl=function(t,e){return this.controls[t]?this.controls[t]:(this.controls[t]=e,e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange),e)},e.prototype.addControl=function(t,e){this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.removeControl=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),delete this.controls[t],e&&this.registerControl(t,e),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.contains=function(t){return this.controls.hasOwnProperty(t)&&this.controls[t].enabled},e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),Object.keys(t).forEach((function(r){n._throwIfControlMissing(r),n.controls[r].setValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),Object.keys(t).forEach((function(r){n.controls[r]&&n.controls[r].patchValue(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t={}),void 0===e&&(e={}),this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this._reduceChildren({},(function(t,e,n){return t[n]=e instanceof Sd?e.value:e.getRawValue(),t}))},e.prototype._syncPendingControls=function(){var t=this._reduceChildren(!1,(function(t,e){return!!e._syncPendingControls()||t}));return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!Object.keys(this.controls).length)throw new Error("\n        There are no form controls registered with this group yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.controls[t])throw new Error("Cannot find form control with name: "+t+".")},e.prototype._forEachChild=function(t){var e=this;Object.keys(this.controls).forEach((function(n){return t(e.controls[n],n)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){e.setParent(t),e._registerOnCollectionChange(t._onCollectionChange)}))},e.prototype._updateValue=function(){this.value=this._reduceValue()},e.prototype._anyControls=function(t){var e=this,n=!1;return this._forEachChild((function(r,i){n=n||e.contains(i)&&t(r)})),n},e.prototype._reduceValue=function(){var t=this;return this._reduceChildren({},(function(e,n,r){return(n.enabled||t.disabled)&&(e[r]=n.value),e}))},e.prototype._reduceChildren=function(t,e){var n=t;return this._forEachChild((function(t,r){n=e(n,t,r)})),n},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=a(Object.keys(this.controls)),r=n.next();!r.done;r=n.next())if(this.controls[r.value].enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return Object.keys(this.controls).length>0||this.disabled},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control with name: '"+n+"'.")}))},e}(Cd),kd=function(t){function e(e,n,r){var i=t.call(this,wd(n),xd(r,n))||this;return i.controls=e,i._initObservables(),i._setUpdateStrategy(n),i._setUpControls(),i.updateValueAndValidity({onlySelf:!0,emitEvent:!1}),i}return i(e,t),e.prototype.at=function(t){return this.controls[t]},e.prototype.push=function(t){this.controls.push(t),this._registerControl(t),this.updateValueAndValidity(),this._onCollectionChange()},e.prototype.insert=function(t,e){this.controls.splice(t,0,e),this._registerControl(e),this.updateValueAndValidity()},e.prototype.removeAt=function(t){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),this.updateValueAndValidity()},e.prototype.setControl=function(t,e){this.controls[t]&&this.controls[t]._registerOnCollectionChange((function(){})),this.controls.splice(t,1),e&&(this.controls.splice(t,0,e),this._registerControl(e)),this.updateValueAndValidity(),this._onCollectionChange()},Object.defineProperty(e.prototype,"length",{get:function(){return this.controls.length},enumerable:!0,configurable:!0}),e.prototype.setValue=function(t,e){var n=this;void 0===e&&(e={}),this._checkAllValuesPresent(t),t.forEach((function(t,r){n._throwIfControlMissing(r),n.at(r).setValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.patchValue=function(t,e){var n=this;void 0===e&&(e={}),t.forEach((function(t,r){n.at(r)&&n.at(r).patchValue(t,{onlySelf:!0,emitEvent:e.emitEvent})})),this.updateValueAndValidity(e)},e.prototype.reset=function(t,e){void 0===t&&(t=[]),void 0===e&&(e={}),this._forEachChild((function(n,r){n.reset(t[r],{onlySelf:!0,emitEvent:e.emitEvent})})),this._updatePristine(e),this._updateTouched(e),this.updateValueAndValidity(e)},e.prototype.getRawValue=function(){return this.controls.map((function(t){return t instanceof Sd?t.value:t.getRawValue()}))},e.prototype.clear=function(){this.controls.length<1||(this._forEachChild((function(t){return t._registerOnCollectionChange((function(){}))})),this.controls.splice(0),this.updateValueAndValidity())},e.prototype._syncPendingControls=function(){var t=this.controls.reduce((function(t,e){return!!e._syncPendingControls()||t}),!1);return t&&this.updateValueAndValidity({onlySelf:!0}),t},e.prototype._throwIfControlMissing=function(t){if(!this.controls.length)throw new Error("\n        There are no form controls registered with this array yet.  If you're using ngModel,\n        you may want to check next tick (e.g. use setTimeout).\n      ");if(!this.at(t))throw new Error("Cannot find form control at index "+t)},e.prototype._forEachChild=function(t){this.controls.forEach((function(e,n){t(e,n)}))},e.prototype._updateValue=function(){var t=this;this.value=this.controls.filter((function(e){return e.enabled||t.disabled})).map((function(t){return t.value}))},e.prototype._anyControls=function(t){return this.controls.some((function(e){return e.enabled&&t(e)}))},e.prototype._setUpControls=function(){var t=this;this._forEachChild((function(e){return t._registerControl(e)}))},e.prototype._checkAllValuesPresent=function(t){this._forEachChild((function(e,n){if(void 0===t[n])throw new Error("Must supply a value for form control at index: "+n+".")}))},e.prototype._allControlsDisabled=function(){var t,e;try{for(var n=a(this.controls),r=n.next();!r.done;r=n.next())if(r.value.enabled)return!1}catch(i){t={error:i}}finally{try{r&&!r.done&&(e=n.return)&&e.call(n)}finally{if(t)throw t.error}}return this.controls.length>0||this.disabled},e.prototype._registerControl=function(t){t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange)},e}(Cd),Td={provide:Fl,useExisting:Ot((function(){return Ad}))},Ed=function(){return Promise.resolve(null)}(),Ad=function(t){function e(e,n){var r=t.call(this)||this;return r.submitted=!1,r._directives=[],r.ngSubmit=new ou,r.form=new Id({},gd(e),yd(n)),r}return i(e,t),e.prototype.ngAfterViewInit=function(){this._setUpdateStrategy()},Object.defineProperty(e.prototype,"formDirective",{get:function(){return this},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"control",{get:function(){return this.form},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return[]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"controls",{get:function(){return this.form.controls},enumerable:!0,configurable:!0}),e.prototype.addControl=function(t){var e=this;Ed.then((function(){var n=e._findContainer(t.path);t.control=n.registerControl(t.name,t.control),hd(t.control,t),t.control.updateValueAndValidity({emitEvent:!1}),e._directives.push(t)}))},e.prototype.getControl=function(t){return this.form.get(t.path)},e.prototype.removeControl=function(t){var e=this;Ed.then((function(){var n,r,i=e._findContainer(t.path);i&&i.removeControl(t.name),(r=(n=e._directives).indexOf(t))>-1&&n.splice(r,1)}))},e.prototype.addFormGroup=function(t){var e=this;Ed.then((function(){var n=e._findContainer(t.path),r=new Id({});(function(t,e){null==t&&vd(e,"Cannot find control with"),t.validator=Zl.compose([t.validator,e.validator]),t.asyncValidator=Zl.composeAsync([t.asyncValidator,e.asyncValidator])})(r,t),n.registerControl(t.name,r),r.updateValueAndValidity({emitEvent:!1})}))},e.prototype.removeFormGroup=function(t){var e=this;Ed.then((function(){var n=e._findContainer(t.path);n&&n.removeControl(t.name)}))},e.prototype.getFormGroup=function(t){return this.form.get(t.path)},e.prototype.updateModel=function(t,e){var n=this;Ed.then((function(){n.form.get(t.path).setValue(e)}))},e.prototype.setValue=function(t){this.control.setValue(t)},e.prototype.onSubmit=function(t){return this.submitted=!0,e=this._directives,this.form._syncPendingControls(),e.forEach((function(t){var e=t.control;"submit"===e.updateOn&&e._pendingChange&&(t.viewToModelUpdate(e._pendingValue),e._pendingChange=!1)})),this.ngSubmit.emit(t),!1;var e},e.prototype.onReset=function(){this.resetForm()},e.prototype.resetForm=function(t){void 0===t&&(t=void 0),this.form.reset(t),this.submitted=!1},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)},e.prototype._findContainer=function(t){return t.pop(),t.length?this.form.get(t):this.form},e.\u0275fac=function(t){return new(t||e)(Jo(ql,10),Jo(Wl,10))},e.\u0275dir=Ie({type:e,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,e){1&t&&ua("submit",(function(t){return e.onSubmit(t)}))("reset",(function(){return e.onReset()}))},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[as([Td]),$a]}),e}(Fl),Od=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}i(e,t),e.prototype.ngOnInit=function(){this._checkParentType(),this.formDirective.addFormGroup(this)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeFormGroup(this)},Object.defineProperty(e.prototype,"control",{get:function(){return this.formDirective.getFormGroup(this)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return fd(null==this.name?this.name:this.name.toString(),this._parent)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return gd(this._validators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return yd(this._asyncValidators)},enumerable:!0,configurable:!0}),e.prototype._checkParentType=function(){},e.\u0275fac=function(t){return n(t||e)},e.\u0275dir=Ie({type:e,features:[$a]});var n=cr(e);return e}(Fl),Pd=function(){function t(){}return t.modelParentException=function(){throw new Error('\n      ngModel cannot be used to register form controls with a parent formGroup directive.  Try using\n      formGroup\'s partner directive "formControlName" instead.  Example:\n\n      \n    <div [formGroup]="myGroup">\n      <input formControlName="firstName">\n    </div>\n\n    In your class:\n\n    this.myGroup = new FormGroup({\n       firstName: new FormControl()\n    });\n\n      Or, if you\'d like to avoid registering this form control, indicate that it\'s standalone in ngModelOptions:\n\n      Example:\n\n      \n    <div [formGroup]="myGroup">\n       <input formControlName="firstName">\n       <input [(ngModel)]="showMoreControls" [ngModelOptions]="{standalone: true}">\n    </div>\n  ')},t.formGroupNameException=function(){throw new Error("\n      ngModel cannot be used to register form controls with a parent formGroupName or formArrayName directive.\n\n      Option 1: Use formControlName instead of ngModel (reactive strategy):\n\n      "+sd+"\n\n      Option 2:  Update ngModel's parent be ngModelGroup (template-driven strategy):\n\n      "+ud)},t.missingNameException=function(){throw new Error('If ngModel is used within a form tag, either the name attribute must be set or the form\n      control must be defined as \'standalone\' in ngModelOptions.\n\n      Example 1: <input [(ngModel)]="person.firstName" name="first">\n      Example 2: <input [(ngModel)]="person.firstName" [ngModelOptions]="{standalone: true}">')},t.modelGroupParentException=function(){throw new Error("\n      ngModelGroup cannot be used with a parent formGroup directive.\n\n      Option 1: Use formGroupName instead of ngModelGroup (reactive strategy):\n\n      "+sd+"\n\n      Option 2:  Use a regular form tag instead of the formGroup directive (template-driven strategy):\n\n      "+ud)},t}(),Dd={provide:Fl,useExisting:Ot((function(){return Md}))},Md=function(t){function e(e,n,r){var i=t.call(this)||this;return i._parent=e,i._validators=n,i._asyncValidators=r,i}var n;return i(e,t),n=e,e.prototype._checkParentType=function(){this._parent instanceof n||this._parent instanceof Ad||Pd.modelGroupParentException()},e.\u0275fac=function(t){return new(t||e)(Jo(Fl,5),Jo(ql,10),Jo(Wl,10))},e.\u0275dir=Ie({type:e,selectors:[["","ngModelGroup",""]],inputs:{name:["ngModelGroup","name"]},exportAs:["ngModelGroup"],features:[as([Dd]),$a]}),e}(Od),Rd={provide:Hl,useExisting:Ot((function(){return Vd}))},Nd=function(){return Promise.resolve(null)}(),Vd=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.control=new Sd,o._registered=!1,o.update=new ou,o._parent=e,o._rawValidators=n||[],o._rawAsyncValidators=r||[],o.valueAccessor=function(t,e){if(!e)return null;Array.isArray(e)||vd(t,"Value accessor was not provided as an array for form control with");var n=void 0,r=void 0,i=void 0;return e.forEach((function(e){var o;e.constructor===zl?n=e:(o=e,bd.some((function(t){return o.constructor===t}))?(r&&vd(t,"More than one built-in value accessor matches form control with"),r=e):(i&&vd(t,"More than one custom value accessor matches form control with"),i=e))})),i||r||n||(vd(t,"No valid value accessor for form control with"),null)}(o,i),o}return i(e,t),e.prototype.ngOnChanges=function(t){this._checkForErrors(),this._registered||this._setUpControl(),"isDisabled"in t&&this._updateDisabled(t),function(t,e){if(!t.hasOwnProperty("model"))return!1;var n=t.model;return!!n.isFirstChange()||!Lo(e,n.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)},e.prototype.ngOnDestroy=function(){this.formDirective&&this.formDirective.removeControl(this)},Object.defineProperty(e.prototype,"path",{get:function(){return this._parent?fd(this.name,this._parent):[this.name]},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"formDirective",{get:function(){return this._parent?this._parent.formDirective:null},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"validator",{get:function(){return gd(this._rawValidators)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"asyncValidator",{get:function(){return yd(this._rawAsyncValidators)},enumerable:!0,configurable:!0}),e.prototype.viewToModelUpdate=function(t){this.viewModel=t,this.update.emit(t)},e.prototype._setUpControl=function(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0},e.prototype._setUpdateStrategy=function(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)},e.prototype._isStandalone=function(){return!this._parent||!(!this.options||!this.options.standalone)},e.prototype._setUpStandalone=function(){hd(this.control,this),this.control.updateValueAndValidity({emitEvent:!1})},e.prototype._checkForErrors=function(){this._isStandalone()||this._checkParentType(),this._checkName()},e.prototype._checkParentType=function(){!(this._parent instanceof Md)&&this._parent instanceof Od?Pd.formGroupNameException():this._parent instanceof Md||this._parent instanceof Ad||Pd.modelParentException()},e.prototype._checkName=function(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()||this.name||Pd.missingNameException()},e.prototype._updateValue=function(t){var e=this;Nd.then((function(){e.control.setValue(t,{emitViewToModelChange:!1})}))},e.prototype._updateDisabled=function(t){var e=this,n=t.isDisabled.currentValue,r=""===n||n&&"false"!==n;Nd.then((function(){r&&!e.control.disabled?e.control.disable():!r&&e.control.disabled&&e.control.enable()}))},e.\u0275fac=function(t){return new(t||e)(Jo(Fl,9),Jo(ql,10),Jo(Wl,10),Jo(Ml,10))},e.\u0275dir=Ie({type:e,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[as([Rd]),$a,Qa]}),e}(Hl),jd=function(){function t(){}return t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)}}),t}(),zd=function(){function t(){}return t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)},providers:[rd],imports:[jd]}),t}();function Ld(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return M(n)?(t.pop(),W(t,n)):K(t)}function Fd(t,e){return Z(t,e,1)}function Ud(t,e){return function(n){return n.lift(new Hd(t,e))}}var Hd=function(){function t(t,e){this.predicate=t,this.thisArg=e}return t.prototype.call=function(t,e){return e.subscribe(new Bd(t,this.predicate,this.thisArg))},t}(),Bd=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.predicate=n,i.thisArg=r,i.count=0,i}return i(e,t),e.prototype._next=function(t){var e;try{e=this.predicate.call(this.thisArg,t,this.count++)}catch(n){return void this.destination.error(n)}e&&this.destination.next(t)},e}(w),$d=function(){return function(){}}(),qd=function(){return function(){}}(),Wd=function(){function t(t){var e=this;this.normalizedNames=new Map,this.lazyUpdate=null,t?this.lazyInit="string"==typeof t?function(){e.headers=new Map,t.split("\n").forEach((function(t){var n=t.indexOf(":");if(n>0){var r=t.slice(0,n),i=r.toLowerCase(),o=t.slice(n+1).trim();e.maybeSetNormalizedName(r,i),e.headers.has(i)?e.headers.get(i).push(o):e.headers.set(i,[o])}}))}:function(){e.headers=new Map,Object.keys(t).forEach((function(n){var r=t[n],i=n.toLowerCase();"string"==typeof r&&(r=[r]),r.length>0&&(e.headers.set(i,r),e.maybeSetNormalizedName(n,i))}))}:this.headers=new Map}return t.prototype.has=function(t){return this.init(),this.headers.has(t.toLowerCase())},t.prototype.get=function(t){this.init();var e=this.headers.get(t.toLowerCase());return e&&e.length>0?e[0]:null},t.prototype.keys=function(){return this.init(),Array.from(this.normalizedNames.values())},t.prototype.getAll=function(t){return this.init(),this.headers.get(t.toLowerCase())||null},t.prototype.append=function(t,e){return this.clone({name:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({name:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({name:t,value:e,op:"d"})},t.prototype.maybeSetNormalizedName=function(t,e){this.normalizedNames.has(e)||this.normalizedNames.set(e,t)},t.prototype.init=function(){var e=this;this.lazyInit&&(this.lazyInit instanceof t?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach((function(t){return e.applyUpdate(t)})),this.lazyUpdate=null))},t.prototype.copyFrom=function(t){var e=this;t.init(),Array.from(t.headers.keys()).forEach((function(n){e.headers.set(n,t.headers.get(n)),e.normalizedNames.set(n,t.normalizedNames.get(n))}))},t.prototype.clone=function(e){var n=new t;return n.lazyInit=this.lazyInit&&this.lazyInit instanceof t?this.lazyInit:this,n.lazyUpdate=(this.lazyUpdate||[]).concat([e]),n},t.prototype.applyUpdate=function(t){var e=t.name.toLowerCase();switch(t.op){case"a":case"s":var n=t.value;if("string"==typeof n&&(n=[n]),0===n.length)return;this.maybeSetNormalizedName(t.name,e);var r=("a"===t.op?this.headers.get(e):void 0)||[];r.push.apply(r,u(n)),this.headers.set(e,r);break;case"d":var i=t.value;if(i){var o=this.headers.get(e);if(!o)return;0===(o=o.filter((function(t){return-1===i.indexOf(t)}))).length?(this.headers.delete(e),this.normalizedNames.delete(e)):this.headers.set(e,o)}else this.headers.delete(e),this.normalizedNames.delete(e)}},t.prototype.forEach=function(t){var e=this;this.init(),Array.from(this.normalizedNames.keys()).forEach((function(n){return t(e.normalizedNames.get(n),e.headers.get(n))}))},t}(),Gd=function(){function t(){}return t.prototype.encodeKey=function(t){return Zd(t)},t.prototype.encodeValue=function(t){return Zd(t)},t.prototype.decodeKey=function(t){return decodeURIComponent(t)},t.prototype.decodeValue=function(t){return decodeURIComponent(t)},t}();function Zd(t){return encodeURIComponent(t).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/gi,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%2B/gi,"+").replace(/%3D/gi,"=").replace(/%3F/gi,"?").replace(/%2F/gi,"/")}var Xd=function(){function t(t){var e,n,r,i=this;if(void 0===t&&(t={}),this.updates=null,this.cloneFrom=null,this.encoder=t.encoder||new Gd,t.fromString){if(t.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=(e=t.fromString,n=this.encoder,r=new Map,e.length>0&&e.split("&").forEach((function(t){var e=t.indexOf("="),i=s(-1==e?[n.decodeKey(t),""]:[n.decodeKey(t.slice(0,e)),n.decodeValue(t.slice(e+1))],2),o=i[0],a=i[1],u=r.get(o)||[];u.push(a),r.set(o,u)})),r)}else t.fromObject?(this.map=new Map,Object.keys(t.fromObject).forEach((function(e){var n=t.fromObject[e];i.map.set(e,Array.isArray(n)?n:[n])}))):this.map=null}return t.prototype.has=function(t){return this.init(),this.map.has(t)},t.prototype.get=function(t){this.init();var e=this.map.get(t);return e?e[0]:null},t.prototype.getAll=function(t){return this.init(),this.map.get(t)||null},t.prototype.keys=function(){return this.init(),Array.from(this.map.keys())},t.prototype.append=function(t,e){return this.clone({param:t,value:e,op:"a"})},t.prototype.set=function(t,e){return this.clone({param:t,value:e,op:"s"})},t.prototype.delete=function(t,e){return this.clone({param:t,value:e,op:"d"})},t.prototype.toString=function(){var t=this;return this.init(),this.keys().map((function(e){var n=t.encoder.encodeKey(e);return t.map.get(e).map((function(e){return n+"="+t.encoder.encodeValue(e)})).join("&")})).filter((function(t){return""!==t})).join("&")},t.prototype.clone=function(e){var n=new t({encoder:this.encoder});return n.cloneFrom=this.cloneFrom||this,n.updates=(this.updates||[]).concat([e]),n},t.prototype.init=function(){var t=this;null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach((function(e){return t.map.set(e,t.cloneFrom.map.get(e))})),this.updates.forEach((function(e){switch(e.op){case"a":case"s":var n=("a"===e.op?t.map.get(e.param):void 0)||[];n.push(e.value),t.map.set(e.param,n);break;case"d":if(void 0===e.value){t.map.delete(e.param);break}var r=t.map.get(e.param)||[],i=r.indexOf(e.value);-1!==i&&r.splice(i,1),r.length>0?t.map.set(e.param,r):t.map.delete(e.param)}})),this.cloneFrom=this.updates=null)},t}();function Qd(t){return"undefined"!=typeof ArrayBuffer&&t instanceof ArrayBuffer}function Jd(t){return"undefined"!=typeof Blob&&t instanceof Blob}function Kd(t){return"undefined"!=typeof FormData&&t instanceof FormData}var Yd=function(){function t(t,e,n,r){var i;if(this.url=e,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=t.toUpperCase(),function(t){switch(t){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||r?(this.body=void 0!==n?n:null,i=r):i=n,i&&(this.reportProgress=!!i.reportProgress,this.withCredentials=!!i.withCredentials,i.responseType&&(this.responseType=i.responseType),i.headers&&(this.headers=i.headers),i.params&&(this.params=i.params)),this.headers||(this.headers=new Wd),this.params){var o=this.params.toString();if(0===o.length)this.urlWithParams=e;else{var a=e.indexOf("?");this.urlWithParams=e+(-1===a?"?":a<e.length-1?"&":"")+o}}else this.params=new Xd,this.urlWithParams=e}return t.prototype.serializeBody=function(){return null===this.body?null:Qd(this.body)||Jd(this.body)||Kd(this.body)||"string"==typeof this.body?this.body:this.body instanceof Xd?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()},t.prototype.detectContentTypeHeader=function(){return null===this.body||Kd(this.body)?null:Jd(this.body)?this.body.type||null:Qd(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof Xd?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||Array.isArray(this.body)?"application/json":null},t.prototype.clone=function(e){void 0===e&&(e={});var n=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,a=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,s=void 0!==e.reportProgress?e.reportProgress:this.reportProgress,u=e.headers||this.headers,c=e.params||this.params;return void 0!==e.setHeaders&&(u=Object.keys(e.setHeaders).reduce((function(t,n){return t.set(n,e.setHeaders[n])}),u)),e.setParams&&(c=Object.keys(e.setParams).reduce((function(t,n){return t.set(n,e.setParams[n])}),c)),new t(n,r,o,{params:c,headers:u,reportProgress:s,responseType:i,withCredentials:a})},t}(),tp=function(t){return t[t.Sent=0]="Sent",t[t.UploadProgress=1]="UploadProgress",t[t.ResponseHeader=2]="ResponseHeader",t[t.DownloadProgress=3]="DownloadProgress",t[t.Response=4]="Response",t[t.User=5]="User",t}({}),ep=function(){return function(t,e,n){void 0===e&&(e=200),void 0===n&&(n="OK"),this.headers=t.headers||new Wd,this.status=void 0!==t.status?t.status:e,this.statusText=t.statusText||n,this.url=t.url||null,this.ok=this.status>=200&&this.status<300}}(),np=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=tp.ResponseHeader,n}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(ep),rp=function(t){function e(e){void 0===e&&(e={});var n=t.call(this,e)||this;return n.type=tp.Response,n.body=void 0!==e.body?e.body:null,n}return i(e,t),e.prototype.clone=function(t){return void 0===t&&(t={}),new e({body:void 0!==t.body?t.body:this.body,headers:t.headers||this.headers,status:void 0!==t.status?t.status:this.status,statusText:t.statusText||this.statusText,url:t.url||this.url||void 0})},e}(ep),ip=function(t){function e(e){var n=t.call(this,e,0,"Unknown Error")||this;return n.name="HttpErrorResponse",n.ok=!1,n.message=n.status>=200&&n.status<300?"Http failure during parsing for "+(e.url||"(unknown url)"):"Http failure response for "+(e.url||"(unknown url)")+": "+e.status+" "+e.statusText,n.error=e.error||null,n}return i(e,t),e}(ep);function op(t,e){return{body:e,headers:t.headers,observe:t.observe,params:t.params,reportProgress:t.reportProgress,responseType:t.responseType,withCredentials:t.withCredentials}}var ap=function(){function t(t){this.handler=t}return t.prototype.request=function(t,e,n){var r,i=this;if(void 0===n&&(n={}),t instanceof Yd)r=t;else{var o;o=n.headers instanceof Wd?n.headers:new Wd(n.headers);var a=void 0;n.params&&(a=n.params instanceof Xd?n.params:new Xd({fromObject:n.params})),r=new Yd(t,e,void 0!==n.body?n.body:null,{headers:o,params:a,reportProgress:n.reportProgress,responseType:n.responseType||"json",withCredentials:n.withCredentials})}var s=Ld(r).pipe(Fd((function(t){return i.handler.handle(t)})));if(t instanceof Yd||"events"===n.observe)return s;var u=s.pipe(Ud((function(t){return t instanceof rp})));switch(n.observe||"body"){case"body":switch(r.responseType){case"arraybuffer":return u.pipe(B((function(t){if(null!==t.body&&!(t.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return t.body})));case"blob":return u.pipe(B((function(t){if(null!==t.body&&!(t.body instanceof Blob))throw new Error("Response is not a Blob.");return t.body})));case"text":return u.pipe(B((function(t){if(null!==t.body&&"string"!=typeof t.body)throw new Error("Response is not a string.");return t.body})));case"json":default:return u.pipe(B((function(t){return t.body})))}case"response":return u;default:throw new Error("Unreachable: unhandled observe type "+n.observe+"}")}},t.prototype.delete=function(t,e){return void 0===e&&(e={}),this.request("DELETE",t,e)},t.prototype.get=function(t,e){return void 0===e&&(e={}),this.request("GET",t,e)},t.prototype.head=function(t,e){return void 0===e&&(e={}),this.request("HEAD",t,e)},t.prototype.jsonp=function(t,e){return this.request("JSONP",t,{params:(new Xd).append(e,"JSONP_CALLBACK"),observe:"body",responseType:"json"})},t.prototype.options=function(t,e){return void 0===e&&(e={}),this.request("OPTIONS",t,e)},t.prototype.patch=function(t,e,n){return void 0===n&&(n={}),this.request("PATCH",t,op(n,e))},t.prototype.post=function(t,e,n){return void 0===n&&(n={}),this.request("POST",t,op(n,e))},t.prototype.put=function(t,e,n){return void 0===n&&(n={}),this.request("PUT",t,op(n,e))},t.\u0275fac=function(e){return new(e||t)(ee($d))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),sp=function(){function t(t,e){this.next=t,this.interceptor=e}return t.prototype.handle=function(t){return this.interceptor.intercept(t,this.next)},t}(),up=new Wt("HTTP_INTERCEPTORS"),cp=function(){function t(){}return t.prototype.intercept=function(t,e){return e.handle(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),lp=/^\)\]\}',?\n/,dp=function(){return function(){}}(),pp=function(){function t(){}return t.prototype.build=function(){return new XMLHttpRequest},t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),fp=function(){function t(t){this.xhrFactory=t}return t.prototype.handle=function(t){var e=this;if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without JsonpClientModule installed.");return new k((function(n){var r=e.xhrFactory.build();if(r.open(t.method,t.urlWithParams),t.withCredentials&&(r.withCredentials=!0),t.headers.forEach((function(t,e){return r.setRequestHeader(t,e.join(","))})),t.headers.has("Accept")||r.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){var i=t.detectContentTypeHeader();null!==i&&r.setRequestHeader("Content-Type",i)}if(t.responseType){var o=t.responseType.toLowerCase();r.responseType="json"!==o?o:"text"}var a=t.serializeBody(),s=null,u=function(){if(null!==s)return s;var e=1223===r.status?204:r.status,n=r.statusText||"OK",i=new Wd(r.getAllResponseHeaders()),o=function(t){return"responseURL"in t&&t.responseURL?t.responseURL:/^X-Request-URL:/m.test(t.getAllResponseHeaders())?t.getResponseHeader("X-Request-URL"):null}(r)||t.url;return s=new np({headers:i,status:e,statusText:n,url:o})},c=function(){var e=u(),i=e.headers,o=e.status,a=e.statusText,s=e.url,c=null;204!==o&&(c=void 0===r.response?r.responseText:r.response),0===o&&(o=c?200:0);var l=o>=200&&o<300;if("json"===t.responseType&&"string"==typeof c){var d=c;c=c.replace(lp,"");try{c=""!==c?JSON.parse(c):null}catch(p){c=d,l&&(l=!1,c={error:p,text:c})}}l?(n.next(new rp({body:c,headers:i,status:o,statusText:a,url:s||void 0})),n.complete()):n.error(new ip({error:c,headers:i,status:o,statusText:a,url:s||void 0}))},l=function(t){var e=u().url,i=new ip({error:t,status:r.status||0,statusText:r.statusText||"Unknown Error",url:e||void 0});n.error(i)},d=!1,p=function(e){d||(n.next(u()),d=!0);var i={type:tp.DownloadProgress,loaded:e.loaded};e.lengthComputable&&(i.total=e.total),"text"===t.responseType&&r.responseText&&(i.partialText=r.responseText),n.next(i)},f=function(t){var e={type:tp.UploadProgress,loaded:t.loaded};t.lengthComputable&&(e.total=t.total),n.next(e)};return r.addEventListener("load",c),r.addEventListener("error",l),t.reportProgress&&(r.addEventListener("progress",p),null!==a&&r.upload&&r.upload.addEventListener("progress",f)),r.send(a),n.next({type:tp.Sent}),function(){r.removeEventListener("error",l),r.removeEventListener("load",c),t.reportProgress&&(r.removeEventListener("progress",p),null!==a&&r.upload&&r.upload.removeEventListener("progress",f)),r.abort()}}))},t.\u0275fac=function(e){return new(e||t)(ee(dp))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),hp=new Wt("XSRF_COOKIE_NAME"),mp=new Wt("XSRF_HEADER_NAME"),vp=function(){return function(){}}(),gp=function(){function t(t,e,n){this.doc=t,this.platform=e,this.cookieName=n,this.lastCookieString="",this.lastToken=null,this.parseCount=0}return t.prototype.getToken=function(){if("server"===this.platform)return null;var t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=Hc(t,this.cookieName),this.lastCookieString=t),this.lastToken},t.\u0275fac=function(e){return new(e||t)(ee(xc),ee(Tu),ee(hp))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),yp=function(){function t(t,e){this.tokenService=t,this.headerName=e}return t.prototype.intercept=function(t,e){var n=t.url.toLowerCase();if("GET"===t.method||"HEAD"===t.method||n.startsWith("http://")||n.startsWith("https://"))return e.handle(t);var r=this.tokenService.getToken();return null===r||t.headers.has(this.headerName)||(t=t.clone({headers:t.headers.set(this.headerName,r)})),e.handle(t)},t.\u0275fac=function(e){return new(e||t)(ee(vp),ee(mp))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),bp=function(){function t(t,e){this.backend=t,this.injector=e,this.chain=null}return t.prototype.handle=function(t){if(null===this.chain){var e=this.injector.get(up,[]);this.chain=e.reduceRight((function(t,e){return new sp(t,e)}),this.backend)}return this.chain.handle(t)},t.\u0275fac=function(e){return new(e||t)(ee(qd),ee(Po))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),wp=function(){function t(){}var e;return e=t,t.disable=function(){return{ngModule:e,providers:[{provide:yp,useClass:cp}]}},t.withOptions=function(t){return void 0===t&&(t={}),{ngModule:e,providers:[t.cookieName?{provide:hp,useValue:t.cookieName}:[],t.headerName?{provide:mp,useValue:t.headerName}:[]]}},t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)},providers:[yp,{provide:up,useExisting:yp,multi:!0},{provide:vp,useClass:gp},{provide:hp,useValue:"XSRF-TOKEN"},{provide:mp,useValue:"X-XSRF-TOKEN"}]}),t}(),xp=function(){function t(){}return t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)},providers:[ap,{provide:$d,useClass:bp},fp,{provide:qd,useExisting:fp},pp,{provide:dp,useExisting:pp}],imports:[[wp.withOptions({cookieName:"XSRF-TOKEN",headerName:"X-XSRF-TOKEN"})]]}),t}();function _p(t,e){if(1&t){var n=oa();na(0,"span",7),ua("click",(function(t){en(n);var e=da().$implicit,r=da();return t.preventDefault(),r.removeTab(e)})),ja(1," \u274c"),ra()}}var Cp=function(t){return["nav-item",t]};function Sp(t,e){if(1&t){var n=oa();na(0,"li",3),ua("keydown",(function(t){en(n);var r=e.index;return da().keyNavActions(t,r)})),na(1,"a",4),ua("click",(function(){return e.$implicit.active=!0})),na(2,"span",5),ja(3),ra(),Xo(4,_p,2,0,"span",6),ra(),ra()}if(2&t){var r=e.$implicit;ka("active",r.active)("disabled",r.disabled),ta("ngClass",tu(15,Cp,r.customClass||"")),Lr(1),ka("active",r.active)("disabled",r.disabled),Wo("aria-controls",r.id?r.id:"")("aria-selected",!!r.active)("id",r.id?r.id+"-link":""),Lr(1),ta("ngTransclude",r.headingRef),Lr(1),za(r.heading),Lr(1),ta("ngIf",r.removable)}}var Ip=["*"],kp=function(){function t(t){this.viewRef=t}return Object.defineProperty(t.prototype,"ngTransclude",{get:function(){return this._ngTransclude},set:function(t){this._ngTransclude=t,t&&this.viewRef.createEmbeddedView(t)},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(Jo(Vs))},t.\u0275dir=Ie({type:t,selectors:[["","ngTransclude",""]],inputs:{ngTransclude:"ngTransclude"}}),t}(),Tp=function(){function t(){this.type="tabs",this.ariaLabel="Tabs"}return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Ep=function(){function t(t,e,n){this.renderer=e,this.elementRef=n,this.clazz=!0,this.tabs=[],this.classMap={},Object.assign(this,t)}return Object.defineProperty(t.prototype,"vertical",{get:function(){return this._vertical},set:function(t){this._vertical=t,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"justified",{get:function(){return this._justified},set:function(t){this._justified=t,this.setClassMap()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"type",{get:function(){return this._type},set:function(t){this._type=t,this.setClassMap()},enumerable:!0,configurable:!0}),t.prototype.ngOnDestroy=function(){this.isDestroyed=!0},t.prototype.addTab=function(t){this.tabs.push(t),t.active=1===this.tabs.length&&void 0===t.active},t.prototype.removeTab=function(t,e){void 0===e&&(e={reselect:!0,emit:!0});var n=this.tabs.indexOf(t);if(-1!==n&&!this.isDestroyed){if(e.reselect&&t.active&&this.hasAvailableTabs(n)){var r=this.getClosestTabIndex(n);this.tabs[r].active=!0}e.emit&&t.removed.emit(t),this.tabs.splice(n,1),t.elementRef.nativeElement.parentNode&&this.renderer.removeChild(t.elementRef.nativeElement.parentNode,t.elementRef.nativeElement)}},t.prototype.keyNavActions=function(t,e){var n=Array.from(this.elementRef.nativeElement.querySelectorAll(".nav-link"));if(13===t.keyCode||"Enter"===t.key||32===t.keyCode||"Space"===t.key)return t.preventDefault(),void n[e%n.length].click();if(39!==t.keyCode&&"RightArrow"!==t.key)if(37!==t.keyCode&&"LeftArrow"!==t.key)if(36!==t.keyCode&&"Home"!==t.key)if(35!==t.keyCode&&"End"!==t.key){if((46===t.keyCode||"Delete"===t.key)&&this.tabs[e].removable){if(this.removeTab(this.tabs[e]),n[e+1])return void n[(e+1)%n.length].focus();n[n.length-1]&&n[0].focus()}}else{t.preventDefault();var r=void 0;a=1,s=e;do{s-a<0?(r=n[s=n.length-1],a=0):r=n[s-a],a++}while(r.classList.contains("disabled"));r.focus()}else{t.preventDefault();var i=void 0;a=0;do{i=n[a%n.length],a++}while(i.classList.contains("disabled"));i.focus()}else{var o=void 0,a=1,s=e;do{s-a<0?(o=n[s=n.length-1],a=0):o=n[s-a],a++}while(o.classList.contains("disabled"));o.focus()}else{var u=void 0;a=1;do{u=n[(e+a)%n.length],a++}while(u.classList.contains("disabled"));u.focus()}},t.prototype.getClosestTabIndex=function(t){var e=this.tabs.length;if(!e)return-1;for(var n=1;n<=e;n+=1){var r=t-n,i=t+n;if(this.tabs[r]&&!this.tabs[r].disabled)return r;if(this.tabs[i]&&!this.tabs[i].disabled)return i}return-1},t.prototype.hasAvailableTabs=function(t){var e=this.tabs.length;if(!e)return!1;for(var n=0;n<e;n+=1)if(!this.tabs[n].disabled&&n!==t)return!0;return!1},t.prototype.setClassMap=function(){var t;this.classMap=((t={"nav-stacked":this.vertical,"flex-column":this.vertical,"nav-justified":this.justified})["nav-"+this.type]=!0,t)},t.\u0275fac=function(e){return new(e||t)(Jo(Tp),Jo(ms),Jo(ds))},t.\u0275cmp=be({type:t,selectors:[["tabset"]],hostVars:2,hostBindings:function(t,e){2&t&&ka("tab-container",e.clazz)},inputs:{vertical:"vertical",justified:"justified",type:"type"},ngContentSelectors:Ip,decls:4,vars:3,consts:[["role","tablist",1,"nav",3,"ngClass","click"],[3,"ngClass","active","disabled","keydown",4,"ngFor","ngForOf"],[1,"tab-content"],[3,"ngClass","keydown"],["href","javascript:void(0);","role","tab",1,"nav-link",3,"click"],[3,"ngTransclude"],["class","bs-remove-tab",3,"click",4,"ngIf"],[1,"bs-remove-tab",3,"click"]],template:function(t,e){1&t&&(fa(),na(0,"ul",0),ua("click",(function(t){return t.preventDefault()})),Xo(1,Sp,5,17,"li",1),ra(),na(2,"div",2),ha(3),ra()),2&t&&(ta("ngClass",e.classMap),Wo("aria-label",e.ariaLabel),Lr(1),ta("ngForOf",e.tabs))},directives:[Bc,qc,kp,Gc],styles:["[_nghost-%COMP%]   .nav-tabs[_ngcontent-%COMP%]   .nav-item.disabled[_ngcontent-%COMP%]   a.disabled[_ngcontent-%COMP%]{cursor:default}"]}),t}(),Ap=function(){function t(t,e,n){this.elementRef=e,this.renderer=n,this.selectTab=new ou,this.deselect=new ou,this.removed=new ou,this.addClass=!0,this.role="tabpanel",this.tabset=t,this.tabset.addTab(this)}return Object.defineProperty(t.prototype,"customClass",{get:function(){return this._customClass},set:function(t){var e=this;this.customClass&&this.customClass.split(" ").forEach((function(t){e.renderer.removeClass(e.elementRef.nativeElement,t)})),this._customClass=t?t.trim():null,this.customClass&&this.customClass.split(" ").forEach((function(t){e.renderer.addClass(e.elementRef.nativeElement,t)}))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"active",{get:function(){return this._active},set:function(t){var e=this;this._active!==t&&(this.disabled&&t||!t?this._active&&!t&&(this.deselect.emit(this),this._active=t):(this._active=t,this.selectTab.emit(this),this.tabset.tabs.forEach((function(t){t!==e&&(t.active=!1)}))))},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ariaLabelledby",{get:function(){return this.id?this.id+"-link":""},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){this.removable=this.removable},t.prototype.ngOnDestroy=function(){this.tabset.removeTab(this,{reselect:!1,emit:!1})},t.\u0275fac=function(e){return new(e||t)(Jo(Ep),Jo(ds),Jo(ms))},t.\u0275dir=Ie({type:t,selectors:[["tab"],["","tab",""]],hostVars:7,hostBindings:function(t,e){2&t&&(Wo("role",e.role)("aria-labelledby",e.ariaLabelledby)("id",e.id),ka("tab-pane",e.addClass)("active",e.active))},inputs:{customClass:"customClass",active:"active",removable:"removable",heading:"heading",id:"id",disabled:"disabled"},outputs:{selectTab:"selectTab",deselect:"deselect",removed:"removed"}}),t}(),Op=function(){function t(){}return t.forRoot=function(){return{ngModule:t,providers:[Tp]}},t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)},imports:[[nl]]}),t}(),Pp=function(){function t(){}return t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)},providers:[],imports:[[nl]]}),t}(),Dp=function(t){function e(e){var n=t.call(this)||this;return n._value=e,n}return i(e,t),Object.defineProperty(e.prototype,"value",{get:function(){return this.getValue()},enumerable:!0,configurable:!0}),e.prototype._subscribe=function(e){var n=t.prototype._subscribe.call(this,e);return n&&!n.closed&&e.next(this._value),n},e.prototype.getValue=function(){if(this.hasError)throw this.thrownError;if(this.closed)throw new E;return this._value},e.prototype.next=function(e){t.prototype.next.call(this,this._value=e)},e}(P);function Mp(t){return function(e){return e.lift(new qp(t))}}var Rp,Np,Vp,jp,zp,Lp,Fp,Up,Hp,Bp,$p,qp=function(){function t(t){this.notifier=t}return t.prototype.call=function(t,e){var n=new Wp(t),r=U(n,this.notifier);return r&&!n.seenValue?(n.add(r),e.subscribe(n)):n},t}(),Wp=function(t){function e(e){var n=t.call(this,e)||this;return n.seenValue=!1,n}return i(e,t),e.prototype.notifyNext=function(t,e,n,r,i){this.seenValue=!0,this.complete()},e.prototype.notifyComplete=function(){},e}(H),Gp=function(t){return t[t.Scalar=0]="Scalar",t[t.Observable=1]="Observable",t[t.WorkflowRunner=2]="WorkflowRunner",t[t.Function=3]="Function",t}({}),Zp=function(t){return t.forward="forward",t.backward="backward",t}({}),Xp=function(t){return t.init="init",t.scroll="scroll",t.reset="adapter.reset",t.reload="adapter.reload",t.append="adapter.append",t.prepend="adapter.prepend",t.check="adapter.check",t.remove="adapter.remove",t.userClip="adapter.clip",t.insert="adapter.insert",t.fix="adapter.fix",t.start="start",t.preFetch="preFetch",t.fetch="fetch",t.postFetch="postFetch",t.render="render",t.preClip="preClip",t.clip="clip",t.adjust="adjust",t.end="end",t}({}),Qp=function(t){return t.start="start",t.next="next",t.done="done",t.error="error",t}({}),Jp=function(t){return t.number="must be a number",t.integer="must be an integer",t.integerUnlimited="must be an integer or infinity",t.moreOrEqual="must be a number greater than (or equal to) arg1",t.itemList="must be an array of items",t.boolean="must be a boolean",t.object="must be an object",t.function="must be a function",t.funcOfxArguments="must have arg1 arguments",t.funcOfxAndMoreArguments="must have at least arg1 arguments",t.oneOfCan="can be present only if none of arg1 list is present",t.oneOfMust="must be present if none of arg1 list is present",t.or="must satisfy at least 1 validator from arg1 list",t}({}),Kp=function(){return null},Yp=function(t){return[{type:Gp.Scalar,name:"id",value:0,permanent:!0},{type:Gp.Scalar,name:"mock",value:!0,permanent:!0},{type:Gp.Scalar,name:"version",value:"",permanent:!0},{type:Gp.Scalar,name:"isLoading",value:!1,observable:"isLoading$"},{type:Gp.Scalar,name:"loopPending",value:!1,observable:"loopPending$"},{type:Gp.Scalar,name:"firstVisible",value:t,observable:"firstVisible$",wanted:!0},{type:Gp.Scalar,name:"lastVisible",value:t,observable:"lastVisible$",wanted:!0},{type:Gp.Scalar,name:"bof",value:!1,observable:"bof$"},{type:Gp.Scalar,name:"eof",value:!1,observable:"eof$"},{type:Gp.Scalar,name:"itemsCount",value:0,onDemand:!0},{type:Gp.WorkflowRunner,name:"reset",value:Kp},{type:Gp.WorkflowRunner,name:"reload",value:Kp},{type:Gp.WorkflowRunner,name:"append",value:Kp},{type:Gp.WorkflowRunner,name:"prepend",value:Kp},{type:Gp.WorkflowRunner,name:"check",value:Kp},{type:Gp.WorkflowRunner,name:"remove",value:Kp},{type:Gp.WorkflowRunner,name:"clip",value:Kp},{type:Gp.WorkflowRunner,name:"insert",value:Kp},{type:Gp.WorkflowRunner,name:"fix",value:Kp},{type:Gp.Function,name:"relax",value:Kp},{type:Gp.Function,name:"showLog",value:Kp},{type:Gp.Observable,name:"isLoading$",value:new P},{type:Gp.Observable,name:"loopPending$",value:new P},{type:Gp.Observable,name:"firstVisible$",value:new Dp(t)},{type:Gp.Observable,name:"lastVisible$",value:new Dp(t)},{type:Gp.Observable,name:"bof$",value:new P},{type:Gp.Observable,name:"eof$",value:new P}]},tf=0,ef={data:{},element:{}},nf=function(){return function(t){var e=this,n=++tf;Yp(ef).filter((function(t){return!t.permanent})).forEach((function(n){var r=n.value;return Object.defineProperty(e,n.name,{get:function(){return r},configurable:!t})})),Object.defineProperty(this,"id",{get:function(){return n},configurable:!t}),Object.defineProperty(this,"mock",{get:function(){return t},configurable:!t}),Object.defineProperty(this,"version",{get:function(){return"1.7.0"},configurable:!t})}}(),rf=function(){return function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];this.get=t.get,t.settings&&(this.settings=t.settings),t.devSettings&&(this.devSettings=t.devSettings),this.adapter=new nf(!!e[0])}}(),of=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},af=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(of(arguments[e]));return t},sf=function(t){return"number"==typeof t||"string"==typeof t&&""!==t?Number(t):NaN},uf=function(t){var e=sf(t),n=[];return Number.isNaN(e)&&n.push("must be a number"),{value:e,isSet:!0,isValid:!n.length,errors:n}},cf=function(t,e){return function(n){var r=uf(n);if(!r.isValid)return r;var i=[];return(n=r.value)<t&&(e?n=t:i.push("must be greater than "+t)),{value:n,isSet:!0,isValid:!i.length,errors:i}}},lf=function(t){var e=[];return"function"!=typeof t&&e.push("must be a function"),{value:t,isSet:!0,isValid:!e.length,errors:e}},df=function(t,e){return function(n,r){var i=[],o=void 0!==n,a=!o;if(Array.isArray(t)&&t.length){for(var s=t.length-1;s>=0;s--){var u=t[s];if("string"!=typeof u){i.push("token list must be an array of strings");break}var c=r.hasOwnProperty(u);if(o&&c){i.push('must not be present with "'+u+'"');break}a&&c&&(a=!1)}e&&a&&i.push('must be present (or "'+t.join('", "')+'" must be present)')}else i.push("token list must be passed");return{value:n,isSet:o,isValid:!i.length,errors:i}}},pf={NUMBER:{type:Jp.number,method:uf},INTEGER:{type:Jp.integer,method:function(t){var e=[];t=sf(t);var n=parseInt(t,10);return t!==n&&e.push("must be an integer"),{value:n,isSet:!0,isValid:!e.length,errors:e}}},INTEGER_UNLIMITED:{type:Jp.integerUnlimited,method:function(t){var e,n=[];return(t=sf(t))!==(e=t===1/0||t===-1/0?t:parseInt(t,10))&&n.push("must be an integer or +/- Infinity"),{value:e,isSet:!0,isValid:!n.length,errors:n}}},MORE_OR_EQUAL:function(t,e){return{type:Jp.moreOrEqual,method:cf(t,e)}},BOOLEAN:{type:Jp.boolean,method:function(t){var e=[],n=t;return"true"===t?n=!0:"false"===t&&(n=!1),"boolean"!=typeof n&&e.push("must be a boolean"),{value:n,isSet:!0,isValid:!e.length,errors:e}}},OBJECT:{type:Jp.object,method:function(t){var e=[];return"[object Object]"!==Object.prototype.toString.call(t)&&e.push("must be an object"),{value:t,isSet:!0,isValid:!e.length,errors:e}}},ITEM_LIST:{type:Jp.itemList,method:function(t){var e=t,n=[];if(Array.isArray(t))if(t.length){if(t.length>1){var r=typeof t[0];t.some((function(t){return typeof t!==r}))&&n.push("must be an array of items of the same type")}}else n.push("must be an array with at least 1 item");else n.push("must be an array"),e=[];return{value:e,isSet:!0,isValid:!n.length,errors:n}}},FUNC:{type:Jp.function,method:lf},FUNC_WITH_X_ARGUMENTS:function(t){return{type:Jp.funcOfxArguments,method:(e=t,function(t){var n=lf(t);if(!n.isValid)return n;var r=[];return(t=n.value).length!==e&&r.push("must have "+e+" argument"+(e>1?"s":"")),{value:t,isSet:!0,isValid:!r.length,errors:r}})};var e},FUNC_WITH_X_AND_MORE_ARGUMENTS:function(t){return{type:Jp.funcOfxAndMoreArguments,method:(e=t,function(t){var n=lf(t);if(!n.isValid)return n;var r=[];return(t=n.value).length<e&&r.push("must have at least "+e+" argument"+(e>1?"s":"")),{value:t,isSet:!0,isValid:!r.length,errors:r}})};var e},ONE_OF_CAN:function(t){return{type:Jp.oneOfCan,method:df(t,!1)}},ONE_OF_MUST:function(t){return{type:Jp.oneOfMust,method:df(t,!0)}},OR:function(t){return{type:Jp.or,method:(e=t,function(t){var n=[];return e.every((function(e){return!e.method(t).isValid}))&&n.push(e.map((function(t){return t.type})).join(" OR ")),{value:t,isSet:!0,isValid:!n.length,errors:n}})};var e}},ff=function(){function t(t){this.context=t,this.params={},this.contextErrors=[],this.errors=[],this.isValid=!0,this.isValidContext=this.checkContext()}return t.prototype.checkContext=function(){return!(!this.context||"[object Object]"!==Object.prototype.toString.call(this.context))||(this.setCommonError("context is not an object"),!1)},t.prototype.setValidity=function(){var t=this;this.errors=Object.keys(this.params).reduce((function(e,n){return af(e,t.params[n].errors)}),[]),this.isValid=!this.errors.length},t.prototype.setCommonError=function(t){this.contextErrors.push(t),this.errors.push(t),this.isValid=!1},t.prototype.setParam=function(t,e){e.isValid||(e.errors=e.isSet?e.errors.map((function(e){return'"'+t+'" '+e})):['"'+t+'" must be set']),this.params[t]=e,this.setValidity()},t.prototype.showErrors=function(){return this.errors.length?"validation failed: "+this.errors.join(", "):""},t}(),hf=function(t,e,n,r){var i=t.errors,o=e.method(t.value,n),a=af(i,o.errors);return{value:o.value,isSet:o.isSet,isValid:!a.length,errors:a}},mf=function(t,e){var n=void 0===t,r=!e.mandatory&&void 0!==e.defaultValue;return{value:n?r?e.defaultValue:void 0:t,isSet:!n||r,isValid:!n||!e.mandatory,errors:[]}},vf=function(t,e){var n=new ff(t);return Object.entries(e).forEach((function(e){var r=of(e,2),i=r[0],o=r[1];return n.setParam(i,n.isValidContext?function(t,e,n){var r,i,o=mf(t[e],n);if(o.isSet)try{for(var a=function(t){var e="function"==typeof Symbol&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&"number"==typeof t.length)return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}(Object.values(n.validators)),s=a.next();!s.done;s=a.next()){var u=hf(o,s.value,t);if(!u.isValid&&void 0!==n.defaultValue)return{value:n.defaultValue,isSet:!0,isValid:!0,errors:[]};Object.assign(o,u)}}catch(l){r={error:l}}finally{try{s&&!s.done&&(i=a.return)&&i.call(a)}finally{if(r)throw r.error}}else{var c=n.validators.find((function(t){return t.type===Jp.oneOfMust}));if(c)return hf(o,c,t)}return o}(t,i,o):mf(void 0,o))})),n},gf=pf.OBJECT,yf=pf.FUNC_WITH_X_AND_MORE_ARGUMENTS,bf=function(t){return t.get="get",t.settings="settings",t.devSettings="devSettings",t}({}),wf=((Rp={})[bf.get]={validators:[yf(2)],mandatory:!0},Rp[bf.settings]={validators:[gf]},Rp[bf.devSettings]={validators:[gf]},Rp),xf=pf.NUMBER,_f=pf.INTEGER,Cf=pf.INTEGER_UNLIMITED,Sf=pf.MORE_OR_EQUAL,If=pf.BOOLEAN,kf=function(t){return t.adapter="adapter",t.startIndex="startIndex",t.minIndex="minIndex",t.maxIndex="maxIndex",t.itemSize="itemSize",t.bufferSize="bufferSize",t.padding="padding",t.infinite="infinite",t.horizontal="horizontal",t.windowViewport="windowViewport",t.inverse="inverse",t}({}),Tf=function(t){return t.debug="debug",t.immediateLog="immediateLog",t.logProcessRun="logProcessRun",t.logTime="logTime",t.throttle="throttle",t.initDelay="initDelay",t.initWindowDelay="initWindowDelay",t.changeOverflow="changeOverflow",t}({}),Ef=((Np={})[kf.itemSize]=1,Np[kf.bufferSize]=1,Np[kf.padding]=.01,Np[Tf.throttle]=0,Np[Tf.initDelay]=0,Np[Tf.initWindowDelay]=0,Np),Af=((Vp={})[kf.adapter]={validators:[If],defaultValue:!1},Vp[kf.startIndex]={validators:[_f],defaultValue:1},Vp[kf.minIndex]={validators:[Cf],defaultValue:-1/0},Vp[kf.maxIndex]={validators:[Cf],defaultValue:1/0},Vp[kf.itemSize]={validators:[_f,Sf(Ef[kf.itemSize],!0)],defaultValue:NaN},Vp[kf.bufferSize]={validators:[_f,Sf(Ef[kf.bufferSize],!0)],defaultValue:5},Vp[kf.padding]={validators:[xf,Sf(Ef[kf.padding],!0)],defaultValue:.5},Vp[kf.infinite]={validators:[If],defaultValue:!1},Vp[kf.horizontal]={validators:[If],defaultValue:!1},Vp[kf.windowViewport]={validators:[If],defaultValue:!1},Vp[kf.inverse]={validators:[If],defaultValue:!1},Vp),Of=((jp={})[Tf.debug]={validators:[If],defaultValue:!1},jp[Tf.immediateLog]={validators:[If],defaultValue:!0},jp[Tf.logProcessRun]={validators:[If],defaultValue:!1},jp[Tf.logTime]={validators:[If],defaultValue:!1},jp[Tf.throttle]={validators:[_f,Sf(Ef[Tf.throttle],!0)],defaultValue:40},jp[Tf.initDelay]={validators:[_f,Sf(Ef[Tf.initDelay],!0)],defaultValue:1},jp[Tf.initWindowDelay]={validators:[_f,Sf(Ef[Tf.initWindowDelay],!0)],defaultValue:40},jp[Tf.changeOverflow]={validators:[If],defaultValue:!1},jp),Pf=pf.INTEGER,Df=pf.INTEGER_UNLIMITED,Mf=pf.BOOLEAN,Rf=pf.OBJECT,Nf=pf.ITEM_LIST,Vf=pf.FUNC_WITH_X_ARGUMENTS,jf=pf.ONE_OF_MUST,zf=pf.ONE_OF_CAN,Lf=pf.OR,Ff=((zp={})[bf.get]={validators:[(0,pf.FUNC_WITH_X_AND_MORE_ARGUMENTS)(2)]},zp[bf.settings]={validators:[Rf]},zp[bf.devSettings]={validators:[Rf]},zp),Uf=function(t){return t.reloadIndex="reloadIndex",t}({}),Hf=((Lp={})[Uf.reloadIndex]={validators:[Pf]},Lp),Bf=function(t){return t.items="items",t.bof="bof",t.eof="eof",t}({}),$f=((Fp={})[Bf.items]={validators:[Nf],mandatory:!0},Fp[Bf.bof]={validators:[Mf,zf([Bf.eof])]},Fp[Bf.eof]={validators:[Mf,zf([Bf.bof])]},Fp),qf=((Up={})[function(t){return t.predicate="predicate",t}({}).predicate]={validators:[Vf(1)],mandatory:!0},Up),Wf=function(t){return t.backwardOnly="backwardOnly",t.forwardOnly="forwardOnly",t}({}),Gf=((Hp={})[Wf.backwardOnly]={validators:[Mf,zf([Wf.forwardOnly])],defaultValue:!1},Hp[Wf.forwardOnly]={validators:[Mf,zf([Wf.backwardOnly])],defaultValue:!1},Hp),Zf=function(t){return t.items="items",t.before="before",t.after="after",t.decrease="decrease",t}({}),Xf=((Bp={})[Zf.items]={validators:[Nf],mandatory:!0},Bp[Zf.before]={validators:[Vf(1),jf([Zf.after])]},Bp[Zf.after]={validators:[Vf(1),jf([Zf.before])]},Bp[Zf.decrease]={validators:[Mf]},Bp),Qf=function(t){return t.scrollPosition="scrollPosition",t.minIndex="minIndex",t.maxIndex="maxIndex",t.updater="updater",t.scrollToItem="scrollToItem",t.scrollToItemOpt="scrollToItemOpt",t}({}),Jf={Reset:Zf,Reload:Uf,Clip:Wf,Insert:Zf,Fix:Qf},Kf={RESET:Ff,RELOAD:Hf,APPEND:$f,REMOVE:qf,CLIP:Gf,INSERT:Xf,FIX:(($p={})[Qf.scrollPosition]={validators:[Df]},$p[Qf.minIndex]={validators:[Df]},$p[Qf.maxIndex]={validators:[Df]},$p[Qf.updater]={validators:[Vf(1)]},$p[Qf.scrollToItem]={validators:[Vf(1)]},$p[Qf.scrollToItemOpt]={validators:[Lf([Mf,Rf])]},$p)},Yf=function(){function t(t,e,n){this.parseInput(t,Af),this.parseInput(e,Of),this.instanceIndex=n,this.initializeDelay=this.getInitializeDelay()}return t.prototype.parseInput=function(t,e){var n=this,r=vf(t,e);if(!r.isValid)throw new Error("Invalid settings");Object.entries(r.params).forEach((function(t){var e,r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(t,2);return Object.assign(n,((e={})[r[0]]=r[1].value,e))}))},t.prototype.getInitializeDelay=function(){var t=0;return this.windowViewport&&this.initWindowDelay&&!("scrollRestoration"in history)&&(t=this.initWindowDelay),this.initDelay>0&&(t=Math.max(t,this.initDelay)),t},t}(),th=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},eh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(th(arguments[e]));return t},nh=function(){function t(t,e){var n=this;this.logs=[],this.logAdapterMethod=function(t,e,r){if(n.debug){var i=eh(e?[e]:[],r?[r]:[]).map((function(t){return"function"==typeof t?"func":"object"==typeof t&&t?Array.isArray(t)?"[of "+t.length+"]":"{ "+Object.keys(t).join(", ")+" }":t})).join(", ");n.log("adapter: "+t+"("+(i||"")+")")}};var r=t.settings;this.debug=r.debug,this.immediateLog=r.immediateLog,this.logTime=r.logTime,this.getTime=function(){return t.state&&" // time: "+t.state.time},this.getStat=function(){var e=t.buffer,n=t.viewport,r=e.getFirstVisibleItem(),i=e.getLastVisibleItem();return"pos: "+n.scrollPosition+", size: "+n.getScrollableSize()+", bwd_p: "+n.paddings.backward.size+", fwd_p: "+n.paddings.forward.size+", aver: "+(e.hasItemSize?e.averageSize:"no")+", items: "+e.getVisibleItemsCount()+", range: "+(r&&i?"["+r.$index+".."+i.$index+"]":"no")},this.getFetchRange=function(){var e=t.state.fetch,n=e.firstIndex,r=e.lastIndex;return null===n||null===r||Number.isNaN(n)||Number.isNaN(r)?"no":"["+n+".."+r+"]"},this.getLoop=function(){return t.state.loop},this.getLoopNext=function(){return t.state.loopNext},this.getWorkflowCycleData=function(){return r.instanceIndex+"-"+t.state.workflowCycleCount},this.getScrollPosition=function(e){return t.routines.getScrollPosition(e)},this.log((function(){return"uiScroll Workflow has been started (v"+e+", instance "+r.instanceIndex+")"}))}return t.prototype.object=function(t,e,n){this.log((function(){return[t,n?JSON.stringify(e,(function(t,e){return Number.isNaN(e)?"NaN":e===1/0?"Infinity":e===-1/0?"-Infinity":e})).replace(/"/g,"").replace(/(\{|\:|\,)/g,"$1 ").replace(/(\})/g," $1"):e]}))},t.prototype.stat=function(t){var e=this;if(this.debug){var n=["color: #888; border: dashed #888 0; border-bottom-width: 0px","color: #000; border-width: 0"];this.log((function(){return eh(["%cstat"+(t?" "+t:"")+",%c "+e.getStat()],n)}))}},t.prototype.fetch=function(t){var e=this;if(this.debug){var n="fetch interval"+(t?" "+t:""),r=["color: #888","color: #000"];this.log((function(){return eh(["%c"+n+": %c"+e.getFetchRange()],r)}))}},t.prototype.prepareForLog=function(t){return t instanceof Event?this.getScrollPosition(t.target):t},t.prototype.logProcess=function(t){if(this.debug){var e=t.process,n=t.status,r=t.payload,i=[];if(e===Xp.init&&n===Qp.next)i.push("%c---=== loop "+this.getLoopNext()+" start");else if(e===Xp.end){i.push("%c---=== loop "+this.getLoop()+" done");var o=r&&r.process;n===Qp.next&&o!==Xp.reset&&o!==Xp.reload&&(i[0]+=", loop "+this.getLoopNext()+" start")}i.length&&this.log((function(){return eh(i,["color: #006600;"])}))}},t.prototype.logCycle=function(t){void 0===t&&(t=!0);var e=this.getWorkflowCycleData(),n="color: #0000aa; border: solid #555 1px; border-width: "+(t?"1px 0 0 1px":"0 0 1px 1px")+"; margin-left: -2px";this.log((function(){return["%c   ~~~ WF Cycle "+e+" "+(t?"STARTED":"FINALIZED")+" ~~~  ",n]}))},t.prototype.logError=function(t){var e=this;if(this.debug){var n=["color: #a00;","color: #000"];this.log((function(){return eh(["error:%c"+(t?" "+t:"")+"%c (loop "+e.getLoopNext()+")"],n)}))}},t.prototype.log=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(this.debug){if("function"==typeof e[0]&&(e=e[0](),Array.isArray(e)||(e=[e])),e.every((function(t){return void 0===t})))return;this.logTime&&(e=eh(e,[this.getTime()])),e=e.map((function(e){return t.prepareForLog(e)})),this.immediateLog?console.log.apply(this,e):this.logs.push(e)}},t.prototype.logForce=function(){for(var t=this,e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];this.debug&&(!this.immediateLog&&this.logs.length&&(this.logs.forEach((function(e){return console.log.apply(t,e)})),this.logs=[]),e.length&&console.log.apply(this,e))},t}(),rh=function(){function t(t){this.horizontal=t.horizontal,this.window=t.windowViewport}return t.prototype.checkElement=function(t){if(!t)throw new Error("HTML element is not defined")},t.prototype.getScrollPosition=function(t){return this.checkElement(t),t[this.horizontal?"scrollLeft":"scrollTop"]},t.prototype.setScrollPosition=function(t,e){this.checkElement(t),e=Math.max(0,e),t[this.horizontal?"scrollLeft":"scrollTop"]=e},t.prototype.getParams=function(t){return this.checkElement(t),this.window?{height:t.clientHeight,width:t.clientWidth,top:t.clientTop,bottom:t.clientTop+t.clientHeight,left:t.clientLeft,right:t.clientLeft+t.clientWidth}:t.getBoundingClientRect()},t.prototype.getSize=function(t){return this.getParams(t)[this.horizontal?"width":"height"]},t.prototype.getSizeStyle=function(t){return this.checkElement(t),parseInt(t.style[this.horizontal?"width":"height"],10)||0},t.prototype.setSizeStyle=function(t,e){this.checkElement(t),e=Math.max(0,e),t.style[this.horizontal?"width":"height"]=e+"px"},t.prototype.getRectEdge=function(t,e,n){return t[e===(n?Zp.backward:Zp.forward)?this.horizontal?"right":"bottom":this.horizontal?"left":"top"]},t.prototype.getEdge=function(t,e,n){var r=this.getParams(t);return this.getRectEdge(r,e,n)},t.prototype.getEdge2=function(t,e,n,r){return t.offsetTop-(n?n.scrollTop:0)+(e===(r?Zp.backward:Zp.forward)?this.getSize(t):0)},t.prototype.hideElement=function(t){this.checkElement(t),t.style.display="none"},t.prototype.getOffset=function(t){return this.checkElement(t),(this.horizontal?t.offsetLeft:t.offsetTop)||0},t.prototype.scrollTo=function(t,e){this.checkElement(t),t.scrollIntoView(e)},t.prototype.isAnchoringOff=function(t){this.checkElement(t);var e=getComputedStyle(t).overflowAnchor;return void 0===e||"none"===e},t}(),ih=function(){function t(t,e,n){this.element=t.querySelector("[data-padding-"+e+"]"),this.direction=e,this.routines=n}return t.prototype.reset=function(t){this.size=t||0},Object.defineProperty(t.prototype,"size",{get:function(){return this.routines.getSizeStyle(this.element)},set:function(t){this.routines.setSizeStyle(this.element,Math.round(t))},enumerable:!0,configurable:!0}),t}(),oh=function(){function t(t,e,n){this.settings=n,this.forward=new ih(t,Zp.forward,e),this.backward=new ih(t,Zp.backward,e)}return t.prototype.byDirection=function(t,e){return t===Zp.backward?e?this.forward:this.backward:e?this.backward:this.forward},t.prototype.reset=function(t,e,n){var r,i=this.getPositiveSize(e,t,n),o=this.getNegativeSize(e);this.settings.inverse?(this.forward.reset(o),this.backward.reset(i),(r=t-this.backward.size-n)>0&&(this.backward.size+=r,this.forward.size-=r)):(this.forward.reset(i),this.backward.reset(o),(r=t-this.forward.size-n)>0&&(this.backward.size-=r,this.forward.size+=r))},t.prototype.getPositiveSize=function(t,e,n){var r=this.settings,i=e;return isFinite(r.maxIndex)&&(i=(r.maxIndex-t+1)*r.itemSize),n&&(i=Math.max(i-n,0)),i},t.prototype.getNegativeSize=function(t){var e=this.settings,n=0;return isFinite(e.minIndex)&&(n=(t-e.minIndex)*e.itemSize),n},t}(),ah=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},sh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ah(arguments[e]));return t},uh=function(){function t(t,e,n,r,i){this.element=t,this.settings=e,this.routines=n,this.state=r,this.logger=i,this.disabled=!1,e.windowViewport?(this.scrollEventElement=this.element.ownerDocument,this.hostElement=this.scrollEventElement.scrollingElement):(this.scrollEventElement=this.element.parentElement,this.hostElement=this.scrollEventElement),this.paddings=new oh(this.element,this.routines,e),e.windowViewport&&"scrollRestoration"in history&&(history.scrollRestoration="manual")}return t.prototype.reset=function(t){this.setOffset();var e=0;this.paddings.reset(this.getSize(),this.state.startIndex,this.offset);var n=this.paddings.backward.size;if(n){e=n;var r=this.settings.itemSize;this.state.bwdAverageSizeItemsCount=r?n/r:0}this.scrollPosition=e,this.state.scrollState.reset(),this.startDelta=0,this.scrollAnchoring=!this.isAnchoringOff()},t.prototype.setPosition=function(t){var e=this.scrollPosition;if(e===t)return this.logger.log((function(){return["setting scroll position at",t,"[cancelled]"]})),t;this.previousPosition=e,this.routines.setScrollPosition(this.hostElement,t);var n=this.scrollPosition;return this.logger.log((function(){return sh(["setting scroll position at",n],n!==t?["("+t+")"]:[])})),n},t.prototype.setPositionSafe=function(t,e,n){var r=this,i=this.state.scrollState;i.syntheticPosition=e,this.logger.log((function(){return["setting scroll position at",t,"(meaning",e,"in next repaint)"]})),this.routines.setScrollPosition(this.hostElement,t),i.syntheticFulfill=!1,i.animationFrameId=requestAnimationFrame((function(){var o=t-r.scrollPosition;o>0&&(i.syntheticPosition=e-=o),i.syntheticFulfill=!0,r.logger.log((function(){return sh(["setting scroll position at",e],o>0?["("+(e+o)+" - "+o+")"]:[],["- synthetic fulfillment"])})),r.routines.setScrollPosition(r.hostElement,e),n()}))},Object.defineProperty(t.prototype,"scrollPosition",{get:function(){return this.routines.getScrollPosition(this.hostElement)},set:function(t){this.setPosition(t)},enumerable:!0,configurable:!0}),t.prototype.disableScrollForOneLoop=function(){var t=this;if(!this.disabled){var e=this.hostElement.style;if("hidden"!==e.overflowY){this.disabled=!0;var n=e.overflowY;setTimeout((function(){t.disabled=!1,e.overflowY=n})),e.overflowY="hidden"}}},t.prototype.getSize=function(){return this.routines.getSize(this.hostElement)},t.prototype.getScrollableSize=function(){return this.routines.getSize(this.element)},t.prototype.getBufferPadding=function(){return this.getSize()*this.settings.padding},t.prototype.getEdge=function(t,e){return this.routines.getEdge(this.hostElement,t,e)},t.prototype.getElementEdge=function(t,e,n){return this.routines.getEdge(t,e,n)},t.prototype.setOffset=function(){this.offset=this.routines.getOffset(this.element),this.settings.windowViewport||(this.offset-=this.routines.getOffset(this.hostElement))},t.prototype.isAnchoringOff=function(){return!(!this.settings.windowViewport||!this.routines.isAnchoringOff(this.element.ownerDocument.body))||this.routines.isAnchoringOff(this.hostElement)},t}(),ch=function(){function t(t){this.$index=t.$index,this.nodeId=t.nodeId,this.data=t.data,this.size=t.size}return t.prototype.changeIndex=function(t){this.$index=t,this.nodeId=String(t)},t}(),lh=function(){function t(){this.reset()}return t.prototype.reset=function(){this.newItems=[],this.oldItems=[]},t}(),dh=function(){function t(t,e){this.averageSizeFloat=t,this.averageSize=t,this.itemSize=t,this.items=new Map,this.recalculateAverage=new lh,this.reset(),this.logger=e}return t.prototype.reset=function(){this.minIndex=1/0,this.maxIndex=-1/0,this.items.clear(),this.averageSizeFloat=this.itemSize,this.averageSize=this.itemSize,this.recalculateAverage.reset()},t.prototype.recalculateAverageSize=function(){var t=this,e=this.recalculateAverage,n=e.oldItems.length,r=e.newItems.length;if(!n&&!r)return!1;if(n){var i=this.recalculateAverage.oldItems.reduce((function(t,e){return t+e.size}),0),o=this.recalculateAverage.oldItems.reduce((function(t,e){return t+e.newSize}),0);this.averageSizeFloat=(this.averageSizeFloat||0)-(i-o)/(this.items.size-r)}return r&&(o=this.recalculateAverage.newItems.reduce((function(t,e){return t+e.size}),0),this.averageSizeFloat=((this.items.size-r)*(this.averageSizeFloat||0)+o)/this.items.size),this.averageSize=Math.round(this.averageSizeFloat),this.recalculateAverage.reset(),this.logger.log((function(){return"average size has been updated: "+t.averageSize})),!0},t.prototype.add=function(t){var e=this.get(t.$index);return e?(e.data=t.data,e.size!==t.size&&(this.recalculateAverage.oldItems.push({$index:t.$index,size:e.size,newSize:t.size}),e.size=t.size)):(e=new ch(t),this.items.set(t.$index,e),this.averageSize!==e.size&&this.recalculateAverage.newItems.push({$index:t.$index,size:e.size})),t.$index<this.minIndex&&(this.minIndex=t.$index),t.$index>this.maxIndex&&(this.maxIndex=t.$index),e},t.prototype.getItemSize=function(t){var e=this.get(t);return e?e.size:0},t.prototype.get=function(t){return this.items.get(t)},Object.defineProperty(t.prototype,"size",{get:function(){return this.items.size},enumerable:!0,configurable:!0}),t.prototype.removeItem=function(t){var e=new Map,n=1/0,r=-1/0;this.items.delete(t),this.items.forEach((function(i){i.$index<t?e.set(i.$index,i):(i.changeIndex(i.$index-1),e.set(i.$index-1,i)),n=i.$index<n?i.$index:n,r=i.$index>r?i.$index:r})),this.items=e,this.minIndex=n,this.maxIndex=r},t.prototype.insertItems=function(t,e,n){var r=this,i=new Map;this.items.forEach((function(o){var a=o.$index;a<t?(n&&o.changeIndex(a-e),i.set(o.$index,o)):(n||o.changeIndex(a+e),i.set(o.$index,o)),o.$index<r.minIndex&&(r.minIndex=o.$index),o.$index>r.maxIndex&&(r.maxIndex=o.$index)})),this.items=i},t}(),ph=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},fh=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(ph(arguments[e]));return t},hh=function(){function t(t,e,n,r){this.$items=r||new Dp([]),this.bofSource=new P,this.eofSource=new P,this.cache=new dh(t.itemSize,n),this.minIndexUser=t.minIndex,this.maxIndexUser=t.maxIndex,this.reset(),this.startIndex=e,this.minBufferSize=t.bufferSize,this.logger=n}return t.prototype.dispose=function(t){this.bofSource.complete(),this.eofSource.complete(),t&&this.$items.complete()},t.prototype.reset=function(t,e){t&&this.items.forEach((function(t){return t.hide()})),this.pristine=!0,this.items=[],this.cache.reset(),this.absMinIndex=this.minIndexUser,this.absMaxIndex=this.maxIndexUser,void 0!==e&&(this.startIndex=e),this._bof=!1,this._eof=!1,this.pristine=!1},Object.defineProperty(t.prototype,"items",{get:function(){return this._items},set:function(t){this._items=t,this.$items.next(t),this.pristine||(this.checkBOF(),this.checkEOF())},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"absMinIndex",{get:function(){return this._absMinIndex},set:function(t){this._absMinIndex!==t&&(this._absMinIndex=t),this.pristine||this.checkBOF()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"absMaxIndex",{get:function(){return this._absMaxIndex},set:function(t){this._absMaxIndex!==t&&(this._absMaxIndex=t),this.pristine||this.checkEOF()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bof",{get:function(){return this._bof},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"eof",{get:function(){return this._eof},enumerable:!0,configurable:!0}),t.prototype.checkBOF=function(){var t=this.items.length?this.items[0].$index===this.absMinIndex:isFinite(this.absMinIndex);this._bof!==t&&(this._bof=t,this.bofSource.next(t))},t.prototype.checkEOF=function(){var t=this.items.length?this.items[this.items.length-1].$index===this.absMaxIndex:isFinite(this.absMaxIndex);this._eof!==t&&(this._eof=t,this.eofSource.next(t))},Object.defineProperty(t.prototype,"size",{get:function(){return this._items.length},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"averageSize",{get:function(){return this.cache.averageSize},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasItemSize",{get:function(){return this.averageSize>0},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"minIndex",{get:function(){return isFinite(this.cache.minIndex)?this.cache.minIndex:this.startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"maxIndex",{get:function(){return isFinite(this.cache.maxIndex)?this.cache.maxIndex:this.startIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstIndex",{get:function(){return this.items.length?this.items[0].$index:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"lastIndex",{get:function(){return this.items.length?this.items[this.items.length-1].$index:null},enumerable:!0,configurable:!0}),t.prototype.get=function(t){return this.items.find((function(e){return e.$index===t}))},t.prototype.setItems=function(t){if(this.items.length)if(this.items[0].$index>t[t.length-1].$index)this.items=fh(t,this.items);else{if(!(t[0].$index>this.items[this.items.length-1].$index))return!1;this.items=fh(this.items,t)}else this.items=fh(t);return!0},t.prototype.append=function(t){this.items=fh(this.items,t)},t.prototype.prepend=function(t){this.items=fh(t,this.items)},t.prototype.removeItem=function(t){var e=this.items.filter((function(e){return e.$index!==t.$index}));e.forEach((function(e){e.$index>t.$index&&(e.$index--,e.nodeId=String(e.$index))})),this.absMaxIndex--,this.items=e,this.cache.removeItem(t.$index)},t.prototype.insertItems=function(t,e,n,r){var i=t.length,o=this.items.indexOf(e)+n,a=this.items.slice(0,o),s=this.items.slice(o);r?a.forEach((function(t){return t.updateIndex(t.$index-i)})):s.forEach((function(t){return t.updateIndex(t.$index+i)}));var u=fh(a,t,s);r?this.absMinIndex-=i:this.absMaxIndex+=i,this.items=u,this.cache.insertItems(e.$index+n,i,r)},t.prototype.getFirstVisibleItemIndex=function(){for(var t=this.items.length,e=0;e<t;e++)if(!this.items[e].invisible)return e;return-1},t.prototype.getLastVisibleItemIndex=function(){for(var t=this.items.length-1;t>=0;t--)if(!this.items[t].invisible)return t;return-1},t.prototype.getFirstVisibleItem=function(){var t=this.getFirstVisibleItemIndex();if(t>=0)return this.items[t]},t.prototype.getLastVisibleItem=function(){var t=this.getLastVisibleItemIndex();if(t>=0)return this.items[t]},t.prototype.getEdgeVisibleItem=function(t,e){return t===(e?Zp.backward:Zp.forward)?this.getLastVisibleItem():this.getFirstVisibleItem()},t.prototype.getVisibleItemsCount=function(){return this.items.reduce((function(t,e){return t+(e.invisible?0:1)}),0)},t.prototype.getSizeByIndex=function(t){var e=this.cache.get(t);return e?e.size:this.averageSize},t.prototype.checkAverageSize=function(){return this.cache.recalculateAverageSize()},t.prototype.getIndexToAppend=function(t){return(t?this.absMaxIndex:this.size?this.items[this.size-1].$index:this.maxIndex)+(this.size?1:0)},t.prototype.getIndexToPrepend=function(t){return(t?this.absMinIndex:this.size?this.items[0].$index:this.minIndex)-(this.size?1:0)},t.prototype.getIndexToAdd=function(t,e){return e?this.getIndexToPrepend(t):this.getIndexToAppend(t)},t}(),mh=function(){function t(){this.callCount=0,this.reset()}return t.prototype.reset=function(){this._newItemsData=null,this.items=[],this.positionBefore=null,this.firstIndex=this.firstIndexBuffer=null,this.lastIndex=this.lastIndexBuffer=null,this.hasAnotherPack=!1,this.negativeSize=0,this.hasAverageItemSizeChanged=!1,this.direction=null,this.simulate=!1,this.isPrepend=!1,this.isReplace=!1},Object.defineProperty(t.prototype,"newItemsData",{get:function(){return this._newItemsData},set:function(t){this._newItemsData=t,t&&t.length&&this.callCount++},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"shouldFetch",{get:function(){return!!this.count},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasNewItems",{get:function(){return!(!this._newItemsData||!this._newItemsData.length)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"index",{get:function(){return this.firstIndex},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"count",{get:function(){return null!==this.firstIndex&&null!==this.lastIndex?this.lastIndex-this.firstIndex+1:0},enumerable:!0,configurable:!0}),t.prototype.startSimulate=function(t){this.simulate=!0,this._newItemsData=t.map((function(t){return t.data})),this.items=t,this.hasAnotherPack=!1,this.negativeSize=0},t.prototype.stopSimulate=function(){this.simulate=!1,this.isPrepend=!1,this.isReplace=!1},t.prototype.append=function(t){this.startSimulate(t),this.lastIndex=t[t.length-1].$index,this.firstIndex=t[0].$index,this.direction=Zp.forward},t.prototype.prepend=function(t){this.startSimulate(t),this.lastIndex=t[0].$index,this.firstIndex=t[t.length-1].$index,this.direction=Zp.backward,this.isPrepend=!0},t.prototype.replace=function(t){this.startSimulate(t),this.lastIndex=t[0].$index,this.firstIndex=t[t.length-1].$index,this.isReplace=!0},t.prototype.insert=function(t){this.startSimulate(t),this.lastIndex=t[0].$index,this.firstIndex=t[t.length-1].$index},t}(),vh=function(){function t(){this.infinite=!1,this.noClip=this.infinite,this.callCount=0,this.reset()}return Object.defineProperty(t.prototype,"force",{get:function(){return this.forceForward||this.forceBackward},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.doClip=!1,this.forceReset()},t.prototype.forceReset=function(){this.simulate=!1,this.forceForward=!1,this.forceBackward=!1},t}(),gh=function(){function t(){this.reset()}return Object.defineProperty(t.prototype,"noSize",{get:function(){return this.sizeBefore===this.sizeAfter},enumerable:!0,configurable:!0}),t.prototype.reset=function(){this.sizeBefore=0,this.sizeAfter=0,this.fwdPaddingBefore=0},t}(),yh=function(){function t(){this.reset()}return t.prototype.reset=function(){this.positionBefore=0,this.bwdAverageSizeItemsCount=0},t}(),bh=function(){function t(){this.reset()}return t.prototype.reset=function(){this.previous=null,this.current=null,this.scrollTimer=null,this.syntheticPosition=null,this.syntheticFulfill=!1,this.animationFrameId=0},t}(),wh=function(){function t(t,e,n,r,i){this.settings=t,this.version=e,this.logger=n,this.initTime=Number(new Date),this.innerLoopCount=r||0,this.isInitialLoop=!1,this.workflowCycleCount=i||1,this.isInitialWorkflowCycle=!1,this.countDone=0,this.setCurrentStartIndex(t.startIndex),this.fetch=new mh,this.clip=new vh,this.render=new gh,this.adjust=new yh,this.bwdAverageSizeItemsCount=0,this.scrollState=new bh}return Object.defineProperty(t.prototype,"time",{get:function(){return Number(new Date)-this.initTime},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loop",{get:function(){return this.settings.instanceIndex+"-"+this.workflowCycleCount+"-"+this.innerLoopCount},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"loopNext",{get:function(){return this.settings.instanceIndex+"-"+this.workflowCycleCount+"-"+(this.innerLoopCount+1)},enumerable:!0,configurable:!0}),t.prototype.setCurrentStartIndex=function(t){var e=this.settings,n=e.startIndex,r=e.minIndex,i=e.maxIndex,o=Number(t);Number.isNaN(o)&&(this.logger.log((function(){return"fallback startIndex to settings.startIndex ("+n+")"})),o=n),o<r&&(this.logger.log((function(){return"setting startIndex to settings.minIndex ("+r+") because "+o+" < "+r})),o=r),o>i&&(this.logger.log((function(){return"setting startIndex to settings.maxIndex ("+i+") because "+o+" > "+i})),o=i),this.startIndex=o},t}(),xh=function(){function t(){return Error.call(this),this.message="argument out of range",this.name="ArgumentOutOfRangeError",this}return t.prototype=Object.create(Error.prototype),t}(),_h=new k((function(t){return t.complete()}));function Ch(t){return t?function(t){return new k((function(e){return t.schedule((function(){return e.complete()}))}))}(t):_h}function Sh(t){return function(e){return 0===t?Ch():e.lift(new Ih(t))}}var Ih=function(){function t(t){if(this.total=t,this.total<0)throw new xh}return t.prototype.call=function(t,e){return e.subscribe(new kh(t,this.total))},t}(),kh=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.total,n=++this.count;n<=e&&(this.destination.next(t),n===e&&(this.destination.complete(),this.unsubscribe()))},e}(w),Th=function(){return(Th=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Eh=Yp(ef),Ah=function(t,e,n){if("object"!=typeof e||!e.hasOwnProperty("items")){var r=Array.isArray(e)?e:[e];e=t?{items:r,eof:n}:{items:r,bof:n}}return e},Oh=function(){function t(t,e,n){var r=this;this.source={},this.box={},this.demand={},this.wanted={},this.getWorkflow=e,this.logger=n,this.relax$=new P;var i=t?Eh.map((function(e){return Th(Th({},e),{value:t[e.name]})})):Yp(ef);i.filter((function(t){return t.type===Gp.Scalar&&t.permanent})).forEach((function(t){var e=t.value;return Object.defineProperty(r,t.name,{get:function(){return e}})})),i.filter((function(t){return t.type===Gp.Observable})).forEach((function(t){var e=t.name;r.source[e]=t.value,Object.defineProperty(r,e,{get:function(){return function(t,e){var n=Eh.find((function(e){return e.wanted&&e.observable===t}));n&&(e[n.name]=!0)}(e,r.wanted),r.source[e]}})})),i.filter((function(t){return t.type===Gp.Scalar&&!!t.observable})).forEach((function(t){var e=t.name,n=t.value,i=t.observable,o=t.wanted;o&&(r.wanted[e]=!1),r.box[e]=n,Object.defineProperty(r,e,{set:function(t){t!==r.box[e]&&(r.box[e]=t,r.source[i].next(t))},get:function(){return o&&!r.wanted[e]&&(r.wanted[e]=!0),r.box[e]}})})),i.filter((function(t){return t.type===Gp.Scalar&&t.onDemand})).forEach((function(t){var e=t.name;r.demand[e]=t.value,Object.defineProperty(r,e,{get:function(){return r.demand[e]}})})),t&&i.forEach((function(e){var n=e.name,i=e.type,o=r[n];i===Gp.Function?o=o.bind(r):i===Gp.WorkflowRunner&&(o=r.getPromisifiedMethod(o)),Object.defineProperty(t,n,{get:function(){return i===Gp.Scalar?r[n]:o}})}))}return Object.defineProperty(t.prototype,"workflow",{get:function(){return this.getWorkflow()},enumerable:!0,configurable:!0}),t.prototype.getPromisifiedMethod=function(t){var e=this;return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];return new Promise((function(r){e.relax$.pipe(Ud((function(t){return!!t})),Sh(1)).subscribe((function(t){return r(t)})),t.apply(e,n)}))}},t.prototype.init=function(t,e,n,r){var i=this;Object.defineProperty(this.demand,"itemsCount",{get:function(){return t.getVisibleItemsCount()}}),this.bof=t.bof,t.bofSource.pipe(Mp(n)).subscribe((function(t){return i.bof=t})),this.eof=t.eof,t.eofSource.pipe(Mp(n)).subscribe((function(t){return i.eof=t})),this.logger=e,r&&r.subscribe((function(t){var e,n=t.status,r=t.payload;n===Qp.start&&(i.relax$.next(!1),e=i.isLoading$.pipe(Ud((function(t){return!t})),Sh(1)).subscribe((function(){return i.relax$.next({success:!0,immediate:!1})}))),n!==Qp.done&&n!==Qp.error||(e&&e.unsubscribe(),i.relax$.next(Th({success:n!==Qp.error,immediate:!0},n===Qp.error?{error:r?r.error:"true"}:{})))}))},t.prototype.dispose=function(){this.relax$.complete()},t.prototype.reset=function(t){this.logger.logAdapterMethod("reset",t),this.workflow.call({process:Xp.reset,status:Qp.start,payload:t})},t.prototype.reload=function(t){this.logger.logAdapterMethod("reload",t),this.workflow.call({process:Xp.reload,status:Qp.start,payload:t})},t.prototype.append=function(t,e){t=Ah(!0,t,e),this.logger.logAdapterMethod("append",t.items,t.eof),this.workflow.call({process:Xp.append,status:Qp.start,payload:t})},t.prototype.prepend=function(t,e){t=Ah(!1,t,e),this.logger.logAdapterMethod("prepend",t.items,t.bof),this.workflow.call({process:Xp.prepend,status:Qp.start,payload:t})},t.prototype.check=function(){this.logger.logAdapterMethod("check"),this.workflow.call({process:Xp.check,status:Qp.start})},t.prototype.remove=function(t){this.logger.logAdapterMethod("remove",t),this.workflow.call({process:Xp.remove,status:Qp.start,payload:t})},t.prototype.clip=function(t){this.logger.logAdapterMethod("clip",t),this.workflow.call({process:Xp.userClip,status:Qp.start,payload:t})},t.prototype.insert=function(t){this.logger.logAdapterMethod("insert",t),this.workflow.call({process:Xp.insert,status:Qp.start,payload:t})},t.prototype.fix=function(t){this.logger.logAdapterMethod("fix",t),this.workflow.call({process:Xp.fix,status:Qp.start,payload:t})},t.prototype.relax=function(t){var e=this;return this.isLoading?new Promise((function(n){return e.isLoading$.pipe(Ud((function(t){return!t})),Sh(1)).subscribe((function(){"function"==typeof t&&t(),n()}))})):("function"==typeof t&&t(),Promise.resolve())},t.prototype.showLog=function(){this.logger.logAdapterMethod("showLog"),this.logger.logForce()},t}(),Ph=0,Dh=function(){function t(t,e,n,r,i){var o,a,s,u=vf(e,wf).params.get;if(!u.isValid)throw new Error("Invalid datasource: "+u.errors[0]);this.workflow={call:r},this.innerLoopSubscriptions=[],i&&(o=i.buffer.$items,a=i.state.workflowCycleCount,s=i.state.innerLoopCount),this.settings=new Yf(e.settings,e.devSettings,++Ph),this.logger=new nh(this,n),this.routines=new rh(this.settings),this.state=new wh(this.settings,n,this.logger,s,a),this.buffer=new hh(this.settings,this.state.startIndex,this.logger,o),this.viewport=new uh(t,this.settings,this.routines,this.state,this.logger),this.logger.object("uiScroll settings object",this.settings,!0),this.initDatasource(e,i)}return t.prototype.initDatasource=function(t,e){var n=this;if(e)return this.datasource=t,void(this.adapter=e.adapter);var r=t instanceof rf,i=!r&&!this.settings.adapter;r?this.datasource=t:(this.datasource=new rf(t,i),this.settings.adapter&&(t.adapter=this.datasource.adapter)),this.adapter=new Oh(i?null:this.datasource.adapter,(function(){return n.workflow}),this.logger)},t.prototype.init=function(t,e){this.viewport.reset(0),this.logger.stat("initialization"),this.adapter.init(this.buffer,this.logger,t,e)},t.prototype.bindData=function(){return new k((function(t){setTimeout((function(){t.next(),t.complete()}))}))},t.prototype.purgeSubscriptions=function(){this.innerLoopSubscriptions.forEach((function(t){return t.unsubscribe()})),this.innerLoopSubscriptions=[]},t.prototype.purgeScrollTimers=function(){var t=this.state.scrollState;t.scrollTimer&&(clearTimeout(t.scrollTimer),t.scrollTimer=null),t.animationFrameId&&(cancelAnimationFrame(t.animationFrameId),t.animationFrameId=0)},t.prototype.dispose=function(t){this.adapter&&t&&this.adapter.dispose(),this.buffer.dispose(t),this.purgeSubscriptions(),this.purgeScrollTimers()},t.prototype.finalize=function(){},t}(),Mh=function(){function t(){}return t.run=function(t,e){var n=t.state,r=t.workflow,i=t.adapter,o=!e||e===Xp.reset||e===Xp.reload;t.logger.logCycle(!0),n.isInitialWorkflowCycle=o,n.isInitialLoop=o,i.isLoading=!0,r.call({process:Xp.init,status:Qp.next,payload:{process:e||Xp.init}})},t.process=Xp.init,t}(),Rh=function(){return(Rh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Nh=function(){function t(){}return t.run=function(e,n,r){var i=e.workflow,o=e.viewport.scrollPosition;t.onSynthetic(e,o)||t.onThrottle(e,o,(function(){return t.onScroll(e,i)}))},t.onSynthetic=function(t,e){var n=t.state.scrollState,r=n.syntheticPosition;if(null!==r){if(n.syntheticFulfill&&(n.syntheticPosition=null),!n.syntheticFulfill||r===e)return t.logger.log((function(){return["skipping scroll",e,"["+(n.syntheticFulfill?"":"pre-")+"synthetic]"]})),!0;t.logger.log((function(){return["synthetic scroll has been fulfilled:",e,e<r?"<":">",r]}))}return!1},t.onThrottle=function(e,n,r){var i=e.state.scrollState,o=e.settings.throttle,a=e.logger;i.current=t.getScrollEvent(e,n,i.previous);var s=i.current,u=s.direction,c=s.time,l=i.previous?c-i.previous.time:1/0,d=o-l,p=isFinite(d)&&d>0,f=!!i.scrollTimer;if(a.log((function(){return[u===Zp.backward?"\u2934":"\u2935",n,p?l+"ms":"0ms",p?f?"delayed":"/ "+d+"ms delay":""]})),!p)return i.scrollTimer&&(clearTimeout(i.scrollTimer),i.scrollTimer=null),void r();f||(i.scrollTimer=setTimeout((function(){a.log((function(){var r=t.getScrollEvent(e,e.viewport.scrollPosition,i.current);return[r.direction===Zp.backward?"\u2934":"\u2935",r.position,r.time-c+"ms","triggered by timer set on",n]})),i.scrollTimer=null,r()}),d))},t.getScrollEvent=function(t,e,n){var r=Number(new Date),i=Zp.forward;return n&&(e===n.position?i=n.direction:e<n.position&&(i=Zp.backward)),{position:e,direction:i,time:r}},t.onScroll=function(t,e){var n=t.state.scrollState,r=t.adapter;n.previous=Rh({},n.current),n.current=null,r.isLoading?t.logger.log((function(){return["skipping scroll",n.previous.position,"[pending]"]})):e.call({process:Xp.scroll,status:Qp.next})},t.process=Xp.scroll,t}(),Vh=function(){function t(){}return t.run=function(t,e){var n=t.datasource,r=t.buffer,i=t.viewport.paddings;if(e){var o=vf(e,Kf.RESET);if(!o.isValid)return t.logger.log((function(){return o.showErrors()})),void t.workflow.call({process:Xp.reset,status:Qp.error,payload:{error:'Wrong argument of the "Adapter.reset" method call'}});var a=e instanceof rf;Object.keys(Kf.RESET).forEach((function(t){var e=o.params[t];(e.isSet||a&&n.hasOwnProperty(t))&&(n[t]=e.value)}))}r.reset(!0),i.backward.reset(),i.forward.reset(),t.workflow.call({process:Xp.reset,status:Qp.next,payload:{finalize:t.adapter.isLoading,datasource:n}})},t.process=Xp.reset,t}(),jh=function(){function t(){}return t.run=function(t,e){var n=t.viewport.scrollPosition;t.state.setCurrentStartIndex(e),t.buffer.reset(!0,t.state.startIndex);var r={};t.adapter.isLoading&&(t.purgeScrollTimers(),r.finalize=!0),t.viewport.reset(n),t.workflow.call({process:Xp.reload,status:Qp.next,payload:r})},t.process=Xp.reload,t}(),zh=function(){function t(t,e,n){this.container={$index:t,data:e},this.nodeId=String(t),this.routines=n,this.invisible=!0}return Object.defineProperty(t.prototype,"$index",{get:function(){return this.container.$index},set:function(t){this.container.$index=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"data",{get:function(){return this.container.data},set:function(t){this.container.data=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"element",{get:function(){return this.container.element},set:function(t){this.container.element=t},enumerable:!0,configurable:!0}),t.prototype.setSize=function(){this.size=this.routines.getSize(this.element)},t.prototype.hide=function(){this.element&&this.routines.hideElement(this.element)},t.prototype.scrollTo=function(t){this.element&&this.routines.scrollTo(this.element,t)},t.prototype.updateIndex=function(t){this.$index=t,this.nodeId=String(t)},t.prototype.get=function(){return this.container},t}(),Lh=function(){function t(){}return t.run=function(e,n,r){var i=vf(r,Kf.APPEND);if(!i.isValid)return e.logger.log((function(){return i.showErrors()})),void e.workflow.call({process:n,status:Qp.error,payload:{error:'Wrong argument of the "'+n+'" method call'}});var o=i.params,a=o.items,s=n===Xp.prepend,u=!!(s?o.bof.value:o.eof.value);if(s&&u&&!e.buffer.bof||!s&&u&&!e.buffer.eof)return t.doVirtualize(e,a.value,s),void e.workflow.call({process:n,status:Qp.done});t.simulateFetch(e,a.value,u,s),e.workflow.call({process:n,status:Qp.next})},t.doVirtualize=function(t,e,n){var r=t.buffer,i=t.viewport.paddings,o=n?"absMinIndex":"absMaxIndex";if(isFinite(r[o])){var a=e.length*r.averageSize,s=n?i.backward:i.forward;r[o]+=(n?-1:1)*e.length,s.size+=a,n&&(t.viewport.scrollPosition+=a),t.logger.log((function(){return"buffer."+[o]+" value is set to "+r[o]})),t.logger.stat("after virtual "+(n?"prepend":"append"))}},t.simulateFetch=function(t,e,n,r){for(var i=t.buffer,o=t.state,a=t.state.fetch,s=r?"absMinIndex":"absMaxIndex",u=i.getIndexToAdd(n,r),c=i[s],l=[],d=0;d<e.length;d++){var p=new zh(u,e[d],t.routines);isFinite(c)&&(r&&u<c||!r&&u>c)&&(c+=r?-1:1),(r?Array.prototype.unshift:Array.prototype.push).apply(l,[p]),u+=r?-1:1}return c!==i[s]&&(i[s]=c,t.logger.log((function(){return"buffer."+s+" value is set to "+i[s]}))),(r?a.prepend:a.append).call(a,l),(r?i.prepend:i.append).call(i,l),a.firstIndexBuffer=null!==i.firstIndex?i.firstIndex:u,a.lastIndexBuffer=null!==i.lastIndex?i.lastIndex:u,o.clip.noClip=!0,!0},t.process=Xp.append,t}(),Fh=function(){function t(){}return t.run=function(t){var e=t.workflow,n=t.buffer,r=t.state.fetch,i=1/0,o=-1/0;n.items.forEach((function(t){var e=t.size;t.setSize(),t.size!==e&&(n.cache.add(t),i=Math.min(i,t.$index),o=Math.max(o,t.$index))})),Number.isFinite(i)&&(t.state.clip.noClip=!0,r.firstIndexBuffer=n.firstIndex,r.lastIndexBuffer=n.lastIndex,r.replace(n.items.filter((function(t){return t.$index>=i&&t.$index<=o})))),t.logger.stat("check"),e.call({process:Xp.check,status:Number.isFinite(i)?Qp.next:Qp.done})},t.process=Xp.check,t}(),Uh=function(){function t(){}return t.run=function(t,e){var n=vf({predicate:e},Kf.REMOVE);if(!n.isValid)return t.logger.log((function(){return n.showErrors()})),void t.workflow.call({process:Xp.remove,status:Qp.error,payload:{error:'Wrong argument of the "Adapter.remove" method call'}});t.buffer.items.forEach((function(n){e(n.get())&&(n.toRemove=!0,n.removeDirection=Zp.forward,t.state.clip.doClip=!0,t.state.clip.simulate=!0)})),t.workflow.call({process:Xp.remove,status:t.state.clip.doClip?Qp.next:Qp.done})},t.process=Xp.remove,t}(),Hh=function(){function t(){}return t.run=function(t,e){var n=vf(e,Kf.CLIP).params,r=n.forwardOnly;t.state.clip.forceForward=!n.backwardOnly.value,t.state.clip.forceBackward=!r.value,t.workflow.call({process:Xp.userClip,status:Qp.next})},t.process=Xp.userClip,t}(),Bh=function(){function t(){}return t.run=function(e,n){var r=vf(n,Kf.INSERT);if(!r.isValid)return e.logger.log((function(){return r.showErrors()})),void e.workflow.call({process:Xp.insert,status:Qp.error,payload:{error:'Wrong argument of the "Adapter.insert" method call'}});var i=t.doInsert(e,r);e.workflow.call({process:Xp.insert,status:i?Qp.next:Qp.done})},t.doInsert=function(e,n){var r=n.params,i=r.before,o=r.items,a=r.decrease,s=i.isSet?i.value:r.after.value,u=e.buffer.items.find((function(t){return s(t.get())}));return!!u&&t.simulateFetch(e,u,o.value,i.isSet,a.isSet&&a.value)},t.simulateFetch=function(t,e,n,r,i){var o=t.buffer,a=t.routines,s=t.state,u=s.fetch,c=s.clip,l=i?o.absMinIndex:o.absMaxIndex,d=r?0:1,p=n.length,f=n.map((function(t,n){return new zh(e.$index+n+d-(i?p:0),t,a)}));return o.insertItems(f,e,d,i),t.logger.log((function(){var t=i?o.absMinIndex:o.absMaxIndex;return"buffer."+(i?"absMinIndex":"absMaxIndex")+" value "+(l!==t?"has been changed from "+l+" to "+t:"has not been changed")})),u.insert(f),u.firstIndexBuffer=o.firstIndex,u.lastIndexBuffer=o.lastIndex,c.noClip=!0,!0},t.process=Xp.insert,t}(),$h=Jf.Fix,qh=function(){function t(){}return t.run=function(e,n){var r=e.workflow,i=vf(n,Kf.FIX);if(!i.isValid)return e.logger.log((function(){return i.showErrors()})),void e.workflow.call({process:Xp.fix,status:Qp.error,payload:{error:'Wrong argument of the "Adapter.fix" method call'}});Object.entries(i.params).forEach((function(n){var r=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}(n,2),o=r[1];o.isSet&&o.isValid&&t.runByType(e,r[0],o.value,i)})),r.call({process:Xp.fix,status:Qp.done})},t.runByType=function(e,n,r,i){switch(n){case $h.scrollPosition:return t.setScrollPosition(e,r);case $h.minIndex:return t.setMinIndex(e,r);case $h.maxIndex:return t.setMaxIndex(e,r);case $h.updater:return t.updateItems(e,r);case $h.scrollToItem:var o=i.params[$h.scrollToItemOpt];return t.scrollToItem(e,r,o?o.value:void 0);case $h.scrollToItemOpt:return}},t.setScrollPosition=function(t,e){var n=t.viewport,r=e;e===-1/0?r=0:e===1/0&&(r=n.getScrollableSize()),n.setPosition(r)},t.setMinIndex=function(t,e){var n=t.buffer;t.settings.minIndex=e,n.absMinIndex=e},t.setMaxIndex=function(t,e){var n=t.buffer;t.settings.maxIndex=e,n.absMaxIndex=e},t.updateItems=function(t,e){t.buffer.items.forEach((function(t){return e(t.get())}))},t.scrollToItem=function(t,e,n){var r=t.buffer.items.find((function(t){return e(t.get())}));r?r.scrollTo(n):t.logger.log((function(){return"scrollToItem cancelled, item not found"}))},t.process=Xp.fix,t}(),Wh=function(){function t(){}return t.run=function(t,e,n){var r=t.state,i=r.fetch,o=r.clip,a=r.render,s=r.adjust,u=n&&n.process||e;t.adapter.loopPending=!0,i.simulate||i.reset(),o.simulate||o.force||o.reset(),a.reset(),s.reset(),t.workflow.call({process:Xp.start,status:Qp.next,payload:{process:u}})},t.process=Xp.start,t}(),Gh=function(){return(Gh=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},Zh=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},Xh=function(){function t(){}return t.run=function(e,n){var r=e.workflow,i=e.buffer,o=e.state.fetch;o.positionBefore=e.viewport.scrollPosition,o.minIndex=i.minIndex,o.averageItemSize=i.averageSize||0,t.setStartDelta(e),t.setFetchIndexes(e),t.skipBufferedItems(e),e.settings.infinite&&t.checkBufferGaps(e),t.checkFetchPackSize(e),t.setFetchDirection(e),o.shouldFetch&&e.logger.log((function(){return"going to fetch "+o.count+" items started from index "+o.index})),r.call({process:Xp.preFetch,status:o.shouldFetch?Qp.next:Qp.done,payload:Gh({},n?{process:n}:{})})},t.setStartDelta=function(t){var e=t.buffer,n=t.viewport,r=t.viewport.offset;if(n.startDelta=0,r&&(n.startDelta+=r),e.hasItemSize){for(var i=isFinite(e.absMinIndex)?e.absMinIndex:e.minIndex;i<t.state.startIndex;i++){var o=e.cache.get(i);n.startDelta+=o?o.size:e.averageSize}t.logger.log((function(){return function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(Zh(arguments[e]));return t}(["start delta is "+n.startDelta],r?[" (+"+r+" offset)"]:[])}))}},t.setFetchIndexes=function(e){var n=e.state.fetch,r=e.viewport,i=r.getBufferPadding(),o=n.positionBefore-r.startDelta,a=o-i,s=o+r.getSize()+i,u=t.setFirstIndexBuffer(e,a);t.setLastIndexBuffer(e,u,s),e.logger.fetch()},t.setFirstIndexBuffer=function(t,e){var n=t.buffer,r=t.state.fetch,i=t.state.startIndex,o=0;if(t.state.isInitialLoop)t.logger.log("skipping fetch backward direction [initial loop]");else if(n.hasItemSize)for(var a=o,s=i;;){if(e>=0){var u=n.getSizeByIndex(s);if(a+u-e>0){i=s,o=a;break}if(a+=u,++s<n.absMinIndex)break}if(e<0){if(--s<n.absMinIndex)break;if(i=s,o=a-=n.getSizeByIndex(s),a-e<=0)break}}else t.logger.log("skipping fetch backward direction [no item size]");return r.firstIndex=r.firstIndexBuffer=Math.max(i,n.absMinIndex),o},t.setLastIndexBuffer=function(t,e,n){var r,i=t.state,o=t.buffer,a=t.settings,s=t.state.fetch;if(o.hasItemSize){var u=s.firstIndexBuffer,c=e;for(r=u;r=u,!((c+=o.getSizeByIndex(u))>=n||u++>o.absMaxIndex););}else r=i.startIndex+a.bufferSize-1,t.logger.log("forcing fetch forward direction [no item size]");s.lastIndex=s.lastIndexBuffer=Math.min(r,o.absMaxIndex)},t.skipBufferedItems=function(t){var e=t.buffer;if(e.size){for(var n=t.state.fetch,r=n.firstIndex,i=n.lastIndex,o=[[]],a=0,s=r;s<=i;s++)e.get(s)?o[a].length&&(o[++a]=[]):o[a].push(s);var u=o[0];o[0].length&&o[1]&&o[1].length&&(n.hasAnotherPack=!0,o[1].length>=o[0].length&&(u=o[1])),n.firstIndex=Math.max(u[0],e.absMinIndex),n.lastIndex=Math.min(u[u.length-1],e.absMaxIndex),n.firstIndex===r&&n.lastIndex===i||t.logger.fetch("after Buffer flushing")}},t.checkBufferGaps=function(t){var e=t.buffer,n=t.state.fetch;if(e.size){var r=n.firstIndex,i=e.lastIndex;r>i&&(n.firstIndex=n.firstIndexBuffer=i+1);var o=e.firstIndex,a=n.lastIndex;a<o&&(n.lastIndex=n.lastIndexBuffer=o-1),n.firstIndex===r&&n.lastIndex===a||t.logger.fetch("after Buffer filling (no clip case)")}},t.checkFetchPackSize=function(e){var n=e.buffer,r=e.state.fetch;if(r.shouldFetch){var i=r.firstIndex,o=r.lastIndex,a=e.settings.bufferSize-(o-i+1);if(!(a<=0)){if(!n.size||o>n.items[0].$index){var s=Math.min(o+a,n.absMaxIndex);s>o&&(r.lastIndex=r.lastIndexBuffer=s)}else{var u=Math.max(i-a,n.absMinIndex);u<i&&(r.firstIndex=r.firstIndexBuffer=u)}r.firstIndex===i&&r.lastIndex===o||(e.logger.fetch("after bufferSize adjustment"),t.skipBufferedItems(e))}}},t.setFetchDirection=function(t){var e=t.buffer,n=t.state.fetch;if(n.lastIndex){var r=Zp.forward;e.size&&(r=n.lastIndex<e.items[0].$index?Zp.backward:Zp.forward),n.direction=r,t.logger.log((function(){return'fetch direction is "'+r+'"'}))}},t.process=Xp.preFetch,t}(),Qh=function(){function t(){}return t.run=function(e){var n=e.workflow;function r(t){e.logger.log((function(){return"resolved "+t.length+" items (index = "+e.state.fetch.index+", count = "+e.state.fetch.count+")"})),e.state.fetch.newItemsData=t,n.call({process:Xp.fetch,status:Qp.next})}function i(t){n.call({process:Xp.fetch,status:Qp.error,payload:{error:t}})}var o=t.get(e);"function"!=typeof o.subscribe?o.isError?i(o.error):r(o.data):e.innerLoopSubscriptions.push(o.subscribe((function(t){return r(t)}),(function(t){return i(t)})))},t.get=function(t){var e,n,r,i=function(t){r?(r.next(t),r.complete()):e=t||null},o=function(t){r?r.error(t):n=t||null},a=!1,s=(0,t.datasource.get)(t.state.fetch.index,t.state.fetch.count,i,o);if(s&&"object"==typeof s)if("function"==typeof s.then)a=!0,s.then(i,o);else if("function"==typeof s.subscribe)return s;return a||Array.isArray(s)||(s=[]),void 0!==e||void 0!==n?{data:e,error:n,isError:void 0!==n}:new k((function(t){r=t}))},t.process=Xp.fetch,t}(),Jh=function(){function t(){}return t.run=function(e){var n=e.workflow;t.setItems(e)?(t.setBufferLimits(e),n.call({process:Xp.postFetch,status:e.state.fetch.hasNewItems?Qp.next:Qp.done})):n.call({process:Xp.postFetch,status:Qp.error,payload:{error:"Can't set buffer items"}})},t.setBufferLimits=function(t){var e=t.buffer,n=t.state,r=n.fetch,i=n.fetch.items,o=n.isInitialLoop,a=r.firstIndex,s=r.lastIndex;if(i.length){var u=i.length-1;a<i[0].$index&&(e.absMinIndex=i[0].$index),s>i[u].$index&&(e.absMaxIndex=i[u].$index)}else(s<e.minIndex||o)&&(e.absMinIndex=e.minIndex),(a>e.maxIndex||o)&&(e.absMaxIndex=e.maxIndex)},t.setItems=function(t){var e=t.buffer,n=t.state.fetch,r=n.newItemsData;if(!r||!r.length)return!0;var i=n.index;return r.length<n.count&&(t.state.isInitialLoop?i=t.state.startIndex:n.firstIndex<e.minIndex&&(i=e.minIndex-r.length)),n.items=r.map((function(e,n){return new zh(i+n,e,t.routines)})),n.isPrepend=!!e.items.length&&e.items[0].$index>n.items[n.items.length-1].$index,e.setItems(n.items)},t.process=Xp.postFetch,t}(),Kh=function(){function t(){}return t.run=function(e){var n=e.workflow,r=e.state,i=r.clip,o=r.render;e.logger.stat("before new items render"),e.innerLoopSubscriptions.push(e.bindData().subscribe((function(){t.processElements(e)?n.call({process:Xp.render,status:o.noSize?Qp.done:Qp.next,payload:{noClip:i.noClip}}):n.call({process:Xp.render,status:Qp.error,payload:{error:"Can't associate item with element"}})})))},t.processElements=function(e){var n=e.state,r=n.fetch,i=n.render,o=e.viewport,a=e.buffer,s=e.logger;return!(!r.isReplace&&(i.sizeBefore=o.getScrollableSize(),i.fwdPaddingBefore=o.paddings.forward.size,!r.items.reduce((function(n,r){return n&&t.processElement(e,r)}),!0))||(r.hasAverageItemSizeChanged=a.checkAverageSize(),i.sizeAfter=o.getScrollableSize(),s.stat("after new items render"),s.log((function(){return i.noSize?"viewport size has not been changed":void 0})),0))},t.processElement=function(t,e){var n=t.state.fetch,r=t.buffer,i=t.viewport.element.querySelector('[data-sid="'+e.nodeId+'"]');return!!i&&(e.element=i,e.element.style.left="",e.element.style.position="",e.invisible=!1,e.setSize(),r.cache.add(e),e.$index<n.minIndex&&(n.negativeSize+=e.size),!0)},t.process=Xp.render,t}(),Yh=function(){function t(){}return t.run=function(e){var n=e.workflow,r=e.state.adjust,i=e.viewport;if(r.positionBefore=i.scrollPosition,t.setPaddings(e)){t.fixScrollPosition(e);var o=i.scrollPosition,a=i.previousPosition;r.positionBefore===o||a===o?n.call({process:Xp.adjust,status:Qp.done}):i.setPositionSafe(a,o,(function(){return n.call({process:Xp.adjust,status:Qp.done})}))}else n.call({process:Xp.adjust,status:Qp.error,payload:{error:"Can't get visible item"}})},t.setPaddings=function(t){var e=t.viewport,n=t.buffer,r=t.state,i=r.adjust,o=r.fetch,a=t.settings.inverse,s=n.getFirstVisibleItem(),u=n.getLastVisibleItem();if(!s||!u)return!1;var c,l=e.paddings,d=l.forward,p=l.backward,f=s.$index,h=u.$index,m=isFinite(n.absMinIndex)?n.absMinIndex:n.minIndex,v=isFinite(n.absMaxIndex)?n.absMaxIndex:n.maxIndex,g=o.hasAverageItemSizeChanged,y=o.firstIndexBuffer,b=0,w=0,x=0;for(c=m;c<f;c++)b+=(_=n.cache.get(c))?_.size:n.cache.averageSize,g&&(x+=_?0:1);if(g)for(c=f;c<y;c++)x+=n.cache.get(c)?0:1;for(i.bwdAverageSizeItemsCount=x,c=h+1;c<=v;c++){var _;w+=(_=n.cache.get(c))?_.size:n.cache.averageSize}var C=e.getScrollableSize()-d.size-p.size,S=e.getSize()-(b+C+w);return S>0&&(a?b+=S:w+=S,t.logger.log((function(){return a?"backward":"forward padding will be increased by "+S+" to fill the viewport"}))),p.size=b,d.size=w,t.logger.stat("after paddings adjustments"),!0},t.fixScrollPosition=function(e){var n=e.viewport,r=e.buffer,i=e.state,o=i.adjust,a=i.fetch,s=i.render,u=o.bwdAverageSizeItemsCount,c=n.scrollPosition,l=o.positionBefore-c,d=a.negativeSize;n.scrollAnchoring&&l&&(t.setScroll(e,l),l=o.positionBefore-(c=n.scrollPosition),e.logger.stat("after scroll position adjustment (anchoring)"));var p=a.isReplace?0:i.bwdAverageSizeItemsCount-u;if(a.hasAverageItemSizeChanged&&(u>0||p>0)){var f=l+(u*r.averageSize-u*a.averageItemSize-p*a.averageItemSize);f&&(e.settings.changeOverflow&&n.disableScrollForOneLoop(),t.setScroll(e,f),e.logger.stat("after scroll position adjustment (average)")),i.bwdAverageSizeItemsCount=u}if(a.items.length&&!(a.items[0].$index>=a.minIndex)&&n.getScrollableSize()!==s.sizeBefore){if(!isFinite(r.absMinIndex)){var h=d-(Math.max(0,s.fwdPaddingBefore-n.offset)-n.paddings.forward.size);d=h<0?d:Math.min(d,h)}d>0?t.setScroll(e,d):d<0&&(n.paddings.forward.size-=d,n.scrollPosition-=d),e.logger.stat("after scroll position adjustment (negative)")}},t.setScroll=function(e,n){for(var r=e.viewport,i=e.settings.inverse,o=r.getSize(),a=r.paddings[Zp.forward],s=Math.round(r.scrollPosition+n),u=0;u<t.MAX_SCROLL_ADJUSTMENTS_COUNT;u++){r.scrollPosition=s;var c=Math.min(o-s,s-r.scrollPosition);if(i||!(c>0))break;a.size+=c}},t.process=Xp.adjust,t.MAX_SCROLL_ADJUSTMENTS_COUNT=10,t}(),tm=function(){function t(){}return t.run=function(e){t.prepareClip(e),e.workflow.call({process:Xp.preClip,status:Qp.next,payload:{doClip:e.state.clip.doClip}})},t.prepareClip=function(e){var n=e.state,r=n.fetch,i=n.fetch.direction;if(!t.shouldNotClip(e)){var o=r.firstIndexBuffer,a=r.lastIndexBuffer;e.logger.log((function(){return"looking for "+(i?"anti-"+i+" ":"")+"items that are out of ["+o+".."+a+"] range"})),t.isBackward(e,o)&&t.prepareClipByDirection(e,Zp.backward,o),t.isForward(e,a)&&t.prepareClipByDirection(e,Zp.forward,a),e.state.clip.doClip||e.logger.log("skipping clip [no items to clip]")}},t.shouldNotClip=function(t){return t.buffer.size?!!t.state.isInitialWorkflowCycle&&(t.logger.log("skipping clip [initial cycle]"),!0):(t.logger.log("skipping clip [empty buffer]"),!0)},t.isBackward=function(t,e){var n=t.state,r=n.clip;return r.force?r.forceBackward:n.fetch.direction!==Zp.backward&&e-1>=t.buffer.absMinIndex},t.isForward=function(t,e){var n=t.state,r=n.clip;return r.force?r.forceForward:n.fetch.direction!==Zp.forward&&e+1<=t.buffer.absMaxIndex},t.prepareClipByDirection=function(t,e,n){var r=e===Zp.forward;t.buffer.items.forEach((function(i){(!r&&i.$index<n||r&&i.$index>n)&&(i.toRemove=!0,i.removeDirection=e,t.state.clip.doClip=!0)}))},t.process=Xp.preClip,t}(),em=function(){return(em=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},nm=function(){function t(){}return t.run=function(e){var n=e.workflow,r=e.state.clip;r.doClip?t.doClip(e):e.logger.log((function(){return"no clip"})),n.call(em({process:Xp.clip,status:Qp.next},r.simulate?{payload:{process:Xp.end}}:{}))},t.doClip=function(t){var e=t.buffer,n=t.viewport.paddings,r=t.logger,i=t.state.clip,o=[],a={backward:0,forward:0};i.callCount++,r.stat("before clip ("+i.callCount+")"),e.items=e.items.filter((function(t){return!t.toRemove||(t.hide(),a[t.removeDirection]+=t.size,n.byDirection(t.removeDirection).size+=t.size,o.push(t.$index),i.simulate&&!i.force&&e.removeItem(t),!1)})),r.log((function(){return["clipped "+o.length+" items"+(a.backward?", +"+a.backward+" fwd px":"")+(a.forward?", +"+a.forward+" bwd px":"")+", range: ["+o[0]+".."+o[o.length-1]+"]"]})),r.stat("after clip")},t.process=Xp.clip,t}(),rm=function(){function t(){}return t.run=function(e,n,r){void 0===r&&(r={});var i=e.workflow,o=r.error;if(o||n===Xp.reset||n===Xp.reload||t.calculateParams(e),i.call.interrupted)i.call({process:n,status:Qp.done,payload:r});else{var a=t.getNext(e,n,o);t.endWorkflowLoop(e,a),i.call({process:Xp.end,status:a?Qp.next:Qp.done,payload:{process:n}})}},t.endWorkflowLoop=function(t,e){var n=t.state,r=t.state.clip,i=t.adapter;n.countDone++,n.isInitialLoop=!1,n.fetch.stopSimulate(),r.noClip=t.settings.infinite||e&&r.simulate,r.forceReset(),n.lastPosition=t.viewport.scrollPosition,t.purgeSubscriptions(),i.loopPending=!1,n.innerLoopCount++},t.calculateParams=function(t){var e=t.buffer.items,n=t.adapter;if(n.wanted.firstVisible){var r=t.viewport.getEdge(Zp.backward),i=e.find((function(e){return t.viewport.getElementEdge(e.element,Zp.forward)>r}));i&&i.element===n.firstVisible.element||(n.firstVisible=i?i.get():ef)}if(n.wanted.lastVisible){for(var o=t.viewport.getEdge(Zp.forward),a=null,s=e.length-1;s>=0;s--)if(t.viewport.getElementEdge(e[s].element,Zp.backward)<o){a=e[s];break}a&&a.element===n.lastVisible.element||(n.lastVisible=a?a.get():ef)}},t.getNext=function(t,e,n){var r=t.state,i=r.fetch,o=r.render;return!(n||e!==Xp.reset&&e!==Xp.reload&&!r.clip.simulate&&(!i.simulate||!i.isReplace)&&(!i.simulate||o.noSize)&&(i.simulate||!(i.hasNewItems&&!o.noSize||i.hasAnotherPack)))},t.process=Xp.end,t}(),im=function(){return(im=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++)for(var i in e=arguments[n])Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i]);return t}).apply(this,arguments)},om=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},am=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(om(arguments[e]));return t},sm=function(){function t(t,e,n,r){var i=this;this.isInitialized=!1,this.dispose$=new P,this.process$=new Dp({process:Xp.init,status:Qp.start}),this.propagateChanges=r,this.callWorkflow=this.callWorkflow.bind(this),this.scroller=new Dh(t,e,n,this.callWorkflow),this.cyclesDone=0,this.interruptionCount=0,this.errors=[],this.stateMachineMethods={run:this.runProcess(),interrupt:this.interrupt.bind(this),done:this.done.bind(this),onError:this.onError.bind(this)},this.scroller.settings.initializeDelay?setTimeout((function(){return i.init()}),this.scroller.settings.initializeDelay):this.init()}return t.prototype.init=function(){var t=this,e=this.process$.pipe(Mp(this.dispose$),Ud((function(t){return t.process.startsWith("adapter")})));this.scroller.init(this.dispose$,e),this.isInitialized=!0,this.scroller.buffer.$items.pipe(Mp(this.dispose$)).subscribe((function(e){return t.propagateChanges(e)})),this.process$.pipe(Mp(this.dispose$)).subscribe(this.process.bind(this));var n=this.scroller.viewport.scrollEventElement,r=function(e){return t.callWorkflow({process:Xp.scroll,status:Qp.start,payload:{event:e}})};n.addEventListener("scroll",r),this.dispose$.subscribe((function(){return n.removeEventListener("scroll",r)}))},t.prototype.callWorkflow=function(t){this.isInitialized&&this.process$.next(t)},t.prototype.process=function(t){var e=t.status,n=t.process,r=t.payload;this.scroller.settings.logProcessRun&&this.scroller.logger.log((function(){return am(["%cfire%c"],["color: #cc7777;","color: #000000;"],[n,'"'+e+'"'],void 0!==r?[r]:[])})),this.scroller.logger.logProcess(t),n===Xp.end&&this.scroller.finalize(),function(t){var e=t.input,n=e.process,r=e.status,i=e.payload,o=void 0===i?{}:i,a=t.methods,s=a.run,u=a.interrupt,c=a.done;if(r===Qp.error)return(0,a.onError)(n,o),void(n.startsWith("adapter")||s(rm)(n,o));switch(n){case Xp.init:r===Qp.start&&s(Mh)(),r===Qp.next&&s(Wh)(n,o);break;case Xp.scroll:r===Qp.start&&s(Nh)(n,o),r===Qp.next&&s(Mh)(n);break;case Xp.reset:case Xp.reload:r===Qp.start&&s(n===Xp.reset?Vh:jh)(o),r===Qp.next&&(u(im({process:n},o)),o.finalize?s(rm)(n):s(Mh)(n));break;case Xp.append:case Xp.prepend:r===Qp.start&&s(Lh)(n,o),r===Qp.next&&s(Mh)(n);break;case Xp.check:r===Qp.start&&s(Fh)(),r===Qp.next&&s(Mh)(n);break;case Xp.remove:r===Qp.start&&s(Uh)(o),r===Qp.next&&s(Mh)(n);break;case Xp.userClip:r===Qp.start&&s(Hh)(o),r===Qp.next&&s(Mh)(n);break;case Xp.insert:r===Qp.start&&s(Bh)(o),r===Qp.next&&s(Mh)(n);break;case Xp.fix:r===Qp.start&&s(qh)(o),r===Qp.next&&s(Mh)(n);break;case Xp.start:if(r===Qp.next)switch(o.process){case Xp.append:case Xp.prepend:case Xp.check:case Xp.insert:s(Kh)();break;case Xp.remove:s(nm)();break;case Xp.userClip:s(Xh)(o.process);break;default:s(Xh)()}break;case Xp.preFetch:switch(o.process){case Xp.userClip:s(tm)();break;default:r===Qp.next&&s(Qh)(),r===Qp.done&&s(rm)(n)}break;case Xp.fetch:r===Qp.next&&s(Jh)();break;case Xp.postFetch:r===Qp.next&&s(Kh)(),r===Qp.done&&s(rm)(n);break;case Xp.render:r===Qp.next&&(o.noClip?s(Yh)():s(tm)()),r===Qp.done&&s(rm)(n);break;case Xp.preClip:r===Qp.next&&(o.doClip?s(nm)():s(Yh)());break;case Xp.clip:r===Qp.next&&(o.process===Xp.end?s(rm)(n):s(Yh)());break;case Xp.adjust:r===Qp.done&&s(rm)(n);break;case Xp.end:if(r===Qp.next)switch(o.process){case Xp.reset:case Xp.reload:c(),s(Mh)(o.process);break;default:s(Wh)(n)}else r===Qp.done&&c()}}({input:t,methods:this.stateMachineMethods})},t.prototype.runProcess=function(){var t=this;return function(e){var n=e.run,r=e.process,i=e.name;return function(){for(var e=[],o=0;o<arguments.length;o++)e[o]=arguments[o];t.scroller.settings.logProcessRun&&t.scroller.logger.log((function(){return am(["run",r||i],e)})),n.apply(void 0,am([t.scroller],e))}}},t.prototype.onError=function(t,e){var n=e&&e.error||"";this.errors.push({process:t,message:n,time:this.scroller.state.time,loop:this.scroller.state.loopNext}),this.scroller.logger.logError(n)},t.prototype.interrupt=function(t){var e=this,n=t.process,r=t.datasource;if(t.finalize){var i=this.scroller,o=i.workflow,a=i.logger;o.call=function(t){return a.log("[skip wf call]")},o.call.interrupted=!0,this.scroller.workflow={call:this.callWorkflow},this.interruptionCount++,a.log((function(){return"workflow had been interrupted by the "+n+" process ("+e.interruptionCount+")"}))}r&&this.scroller.adapter.relax((function(){e.scroller.logger.log("new Scroller instantiation");var t=e.scroller,n=new Dh(t.viewport.element,r,t.state.version,t.workflow.call,e.scroller);e.scroller.dispose(),e.scroller=n,e.scroller.init(e.dispose$)}))},t.prototype.done=function(){var t=this.scroller,e=t.state,n=t.adapter;this.cyclesDone++,this.scroller.logger.logCycle(!1),e.workflowCycleCount=this.cyclesDone+1,e.isInitialWorkflowCycle=!1,n.isLoading=!1,this.finalize()},t.prototype.dispose=function(){this.dispose$.next(),this.dispose$.complete(),this.scroller.dispose(!0),this.isInitialized=!1},t.prototype.finalize=function(){},t}(),um=["ui-scroll",""];function cm(t,e){}var lm=function(t,e,n,r){return{$implicit:t,index:e,odd:n,even:r}};function dm(t,e){if(1&t&&(na(0,"div"),Xo(1,cm,0,0,"ng-template",3),ra()),2&t){var n=e.$implicit,r=da();Ia("position",n.invisible?"fixed":null)("left",n.invisible?"-99999px":null),Wo("data-sid",n.nodeId),Lr(1),ta("ngTemplateOutlet",r.template)("ngTemplateOutletContext",(i=7,o=lm,a=n.data,s=n.$index,u=n.$index%2,c=!(n.$index%2),function(t,e,n,r,i,o,a,s,u){var c=e+n;return function(t,e,n,r,i,o){var a=qo(t,e,n,r);return qo(t,e+2,i,o)||a}(t,c,i,o,a,s)?Bo(t,c+4,u?r.call(u,i,o,a,s):r(i,o,a,s)):eu(t,c+4)}(Ye(),cn(),i,o,a,s,u,c,l)))}var i,o,a,s,u,c,l}var pm=function(){function t(t,e){this.changeDetector=t,this.elementRef=e,this.items=[]}return t.prototype.ngOnInit=function(){var t=this;this.workflow=new sm(this.elementRef.nativeElement,this.datasource,this.version,(function(e){(e.length||t.items.length)&&(t.items=e,t.changeDetector.markForCheck())}))},t.prototype.ngOnDestroy=function(){this.workflow.dispose()},t.\u0275fac=function(e){return new(e||t)(Jo(mo),Jo(ds))},t.\u0275cmp=be({type:t,selectors:[["","ui-scroll",""]],attrs:um,decls:3,vars:1,consts:[["data-padding-backward",""],[3,"position","left",4,"ngFor","ngForOf"],["data-padding-forward",""],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,e){1&t&&(ia(0,"div",0),Xo(1,dm,2,12,"div",1),ia(2,"div",2)),2&t&&(Lr(1),ta("ngForOf",e.items))},directives:[qc,Jc],encapsulation:2,changeDetection:0}),t}(),fm=function(){function t(t,e,n){this.templateRef=t,this.viewContainer=e,this.resolver=n}return Object.defineProperty(t.prototype,"uiScrollOf",{set:function(t){this.datasource=t},enumerable:!0,configurable:!0}),t.prototype.ngOnInit=function(){var t=this.resolver.resolveComponentFactory(pm),e=this.viewContainer.createComponent(t,void 0,this.viewContainer.injector);e.instance.datasource=this.datasource,e.instance.template=this.templateRef,e.instance.version="1.7.0"},t.\u0275fac=function(e){return new(e||t)(Jo(Rs),Jo(Vs),Jo(ls))},t.\u0275dir=Ie({type:t,selectors:[["","uiScroll","","uiScrollOf",""]],inputs:{uiScrollOf:"uiScrollOf"}}),t}(),hm=function(){function t(){return Error.call(this),this.message="no elements in sequence",this.name="EmptyError",this}return t.prototype=Object.create(Error.prototype),t}(),mm={};function vm(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=null,r=null;return M(t[t.length-1])&&(r=t.pop()),"function"==typeof t[t.length-1]&&(n=t.pop()),1===t.length&&c(t[0])&&(t=t[0]),K(t,r).lift(new gm(n))}var gm=function(){function t(t){this.resultSelector=t}return t.prototype.call=function(t,e){return e.subscribe(new ym(t,this.resultSelector))},t}(),ym=function(t){function e(e,n){var r=t.call(this,e)||this;return r.resultSelector=n,r.active=0,r.values=[],r.observables=[],r}return i(e,t),e.prototype._next=function(t){this.values.push(mm),this.observables.push(t)},e.prototype._complete=function(){var t=this.observables,e=t.length;if(0===e)this.destination.complete();else{this.active=e,this.toRespond=e;for(var n=0;n<e;n++){var r=t[n];this.add(U(this,r,r,n))}}},e.prototype.notifyComplete=function(t){0==(this.active-=1)&&this.destination.complete()},e.prototype.notifyNext=function(t,e,n,r,i){var o=this.values,a=this.toRespond?o[n]===mm?--this.toRespond:this.toRespond:0;o[n]=e,0===a&&(this.resultSelector?this._tryResultSelector(o):this.destination.next(o.slice()))},e.prototype._tryResultSelector=function(t){var e;try{e=this.resultSelector.apply(this,t)}catch(n){return void this.destination.error(n)}this.destination.next(e)},e}(H);function bm(t){return new k((function(e){var n;try{n=t()}catch(r){return void e.error(r)}return(n?G(n):Ch()).subscribe(e)}))}function wm(){return J(1)}function xm(t){return function(e){return 0===t?Ch():e.lift(new _m(t))}}var _m=function(){function t(t){if(this.total=t,this.total<0)throw new xh}return t.prototype.call=function(t,e){return e.subscribe(new Cm(t,this.total))},t}(),Cm=function(t){function e(e,n){var r=t.call(this,e)||this;return r.total=n,r.ring=new Array,r.count=0,r}return i(e,t),e.prototype._next=function(t){var e=this.ring,n=this.total,r=this.count++;e.length<n?e.push(t):e[r%n]=t},e.prototype._complete=function(){var t=this.destination,e=this.count;if(e>0)for(var n=this.count>=this.total?this.total:this.count,r=this.ring,i=0;i<n;i++){var o=e++%n;t.next(r[o])}t.complete()},e}(w);function Sm(t){return void 0===t&&(t=Tm),function(e){return e.lift(new Im(t))}}var Im=function(){function t(t){this.errorFactory=t}return t.prototype.call=function(t,e){return e.subscribe(new km(t,this.errorFactory))},t}(),km=function(t){function e(e,n){var r=t.call(this,e)||this;return r.errorFactory=n,r.hasValue=!1,r}return i(e,t),e.prototype._next=function(t){this.hasValue=!0,this.destination.next(t)},e.prototype._complete=function(){if(this.hasValue)return this.destination.complete();var t=void 0;try{t=this.errorFactory()}catch(e){t=e}this.destination.error(t)},e}(w);function Tm(){return new hm}function Em(t){return void 0===t&&(t=null),function(e){return e.lift(new Am(t))}}var Am=function(){function t(t){this.defaultValue=t}return t.prototype.call=function(t,e){return e.subscribe(new Om(t,this.defaultValue))},t}(),Om=function(t){function e(e,n){var r=t.call(this,e)||this;return r.defaultValue=n,r.isEmpty=!0,r}return i(e,t),e.prototype._next=function(t){this.isEmpty=!1,this.destination.next(t)},e.prototype._complete=function(){this.isEmpty&&this.destination.next(this.defaultValue),this.destination.complete()},e}(w);function Pm(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ud((function(e,n){return t(e,n,r)})):C,xm(1),n?Em(e):Sm((function(){return new hm})))}}function Dm(t){return function(e){var n=new Mm(t),r=e.lift(n);return n.caught=r}}var Mm=function(){function t(t){this.selector=t}return t.prototype.call=function(t,e){return e.subscribe(new Rm(t,this.selector,this.caught))},t}(),Rm=function(t){function e(e,n,r){var i=t.call(this,e)||this;return i.selector=n,i.caught=r,i}return i(e,t),e.prototype.error=function(e){if(!this.isStopped){var n=void 0;try{n=this.selector(e,this.caught)}catch(o){return void t.prototype.error.call(this,o)}this._unsubscribeAndRecycle();var r=new R(this,void 0,void 0);this.add(r);var i=U(this,n,void 0,void 0,r);i!==r&&this.add(i)}},e}(H);function Nm(t,e){var n=arguments.length>=2;return function(r){return r.pipe(t?Ud((function(e,n){return t(e,n,r)})):C,Sh(1),n?Em(e):Sm((function(){return new hm})))}}var Vm=function(){function t(t,e,n){this.predicate=t,this.thisArg=e,this.source=n}return t.prototype.call=function(t,e){return e.subscribe(new jm(t,this.predicate,this.thisArg,this.source))},t}(),jm=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.predicate=n,o.thisArg=r,o.source=i,o.index=0,o.thisArg=r||o,o}return i(e,t),e.prototype.notifyComplete=function(t){this.destination.next(t),this.destination.complete()},e.prototype._next=function(t){var e=!1;try{e=this.predicate.call(this.thisArg,t,this.index++,this.source)}catch(n){return void this.destination.error(n)}e||this.notifyComplete(!1)},e.prototype._complete=function(){this.notifyComplete(!0)},e}(w);function zm(t,e){return"function"==typeof e?function(n){return n.pipe(zm((function(n,r){return G(t(n,r)).pipe(B((function(t,i){return e(n,t,r,i)})))})))}:function(e){return e.lift(new Lm(t))}}var Lm=function(){function t(t){this.project=t}return t.prototype.call=function(t,e){return e.subscribe(new Fm(t,this.project))},t}(),Fm=function(t){function e(e,n){var r=t.call(this,e)||this;return r.project=n,r.index=0,r}return i(e,t),e.prototype._next=function(t){var e,n=this.index++;try{e=this.project(t,n)}catch(r){return void this.destination.error(r)}this._innerSub(e,t,n)},e.prototype._innerSub=function(t,e,n){var r=this.innerSubscription;r&&r.unsubscribe();var i=new R(this,e,n),o=this.destination;o.add(i),this.innerSubscription=U(this,t,void 0,void 0,i),this.innerSubscription!==i&&o.add(this.innerSubscription)},e.prototype._complete=function(){var e=this.innerSubscription;e&&!e.closed||t.prototype._complete.call(this),this.unsubscribe()},e.prototype._unsubscribe=function(){this.innerSubscription=null},e.prototype.notifyComplete=function(e){this.destination.remove(e),this.innerSubscription=null,this.isStopped&&t.prototype._complete.call(this)},e.prototype.notifyNext=function(t,e,n,r,i){this.destination.next(e)},e}(H);function Um(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return wm()(Ld.apply(void 0,t))}function Hm(t,e){var n=!1;return arguments.length>=2&&(n=!0),function(r){return r.lift(new Bm(t,e,n))}}var Bm=function(){function t(t,e,n){void 0===n&&(n=!1),this.accumulator=t,this.seed=e,this.hasSeed=n}return t.prototype.call=function(t,e){return e.subscribe(new $m(t,this.accumulator,this.seed,this.hasSeed))},t}(),$m=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o.accumulator=n,o._seed=r,o.hasSeed=i,o.index=0,o}return i(e,t),Object.defineProperty(e.prototype,"seed",{get:function(){return this._seed},set:function(t){this.hasSeed=!0,this._seed=t},enumerable:!0,configurable:!0}),e.prototype._next=function(t){if(this.hasSeed)return this._tryNext(t);this.seed=t,this.destination.next(t)},e.prototype._tryNext=function(t){var e,n=this.index++;try{e=this.accumulator(this.seed,t,n)}catch(r){this.destination.error(r)}this.seed=e,this.destination.next(e)},e}(w);function qm(){}function Wm(t,e,n){return function(r){return r.lift(new Gm(t,e,n))}}var Gm=function(){function t(t,e,n){this.nextOrObserver=t,this.error=e,this.complete=n}return t.prototype.call=function(t,e){return e.subscribe(new Zm(t,this.nextOrObserver,this.error,this.complete))},t}(),Zm=function(t){function e(e,n,r,i){var o=t.call(this,e)||this;return o._tapNext=qm,o._tapError=qm,o._tapComplete=qm,o._tapError=r||qm,o._tapComplete=i||qm,d(n)?(o._context=o,o._tapNext=n):n&&(o._context=n,o._tapNext=n.next||qm,o._tapError=n.error||qm,o._tapComplete=n.complete||qm),o}return i(e,t),e.prototype._next=function(t){try{this._tapNext.call(this._context,t)}catch(e){return void this.destination.error(e)}this.destination.next(t)},e.prototype._error=function(t){try{this._tapError.call(this._context,t)}catch(t){return void this.destination.error(t)}this.destination.error(t)},e.prototype._complete=function(){try{this._tapComplete.call(this._context)}catch(t){return void this.destination.error(t)}return this.destination.complete()},e}(w),Xm=function(){function t(t){this.callback=t}return t.prototype.call=function(t,e){return e.subscribe(new Qm(t,this.callback))},t}(),Qm=function(t){function e(e,n){var r=t.call(this,e)||this;return r.add(new f(n)),r}return i(e,t),e}(w),Jm=function(){return function(t,e){this.id=t,this.url=e}}(),Km=function(t){function e(e,n,r,i){void 0===r&&(r="imperative"),void 0===i&&(i=null);var o=t.call(this,e,n)||this;return o.navigationTrigger=r,o.restoredState=i,o}return i(e,t),e.prototype.toString=function(){return"NavigationStart(id: "+this.id+", url: '"+this.url+"')"},e}(Jm),Ym=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.urlAfterRedirects=r,i}return i(e,t),e.prototype.toString=function(){return"NavigationEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"')"},e}(Jm),tv=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.reason=r,i}return i(e,t),e.prototype.toString=function(){return"NavigationCancel(id: "+this.id+", url: '"+this.url+"')"},e}(Jm),ev=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.error=r,i}return i(e,t),e.prototype.toString=function(){return"NavigationError(id: "+this.id+", url: '"+this.url+"', error: "+this.error+")"},e}(Jm),nv=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"RoutesRecognized(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Jm),rv=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"GuardsCheckStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Jm),iv=function(t){function e(e,n,r,i,o){var a=t.call(this,e,n)||this;return a.urlAfterRedirects=r,a.state=i,a.shouldActivate=o,a}return i(e,t),e.prototype.toString=function(){return"GuardsCheckEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+", shouldActivate: "+this.shouldActivate+")"},e}(Jm),ov=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"ResolveStart(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Jm),av=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.urlAfterRedirects=r,o.state=i,o}return i(e,t),e.prototype.toString=function(){return"ResolveEnd(id: "+this.id+", url: '"+this.url+"', urlAfterRedirects: '"+this.urlAfterRedirects+"', state: "+this.state+")"},e}(Jm),sv=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadStart(path: "+this.route.path+")"},t}(),uv=function(){function t(t){this.route=t}return t.prototype.toString=function(){return"RouteConfigLoadEnd(path: "+this.route.path+")"},t}(),cv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),lv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ChildActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),dv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationStart(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),pv=function(){function t(t){this.snapshot=t}return t.prototype.toString=function(){return"ActivationEnd(path: '"+(this.snapshot.routeConfig&&this.snapshot.routeConfig.path||"")+"')"},t}(),fv=function(){function t(t,e,n){this.routerEvent=t,this.position=e,this.anchor=n}return t.prototype.toString=function(){return"Scroll(anchor: '"+this.anchor+"', position: '"+(this.position?this.position[0]+", "+this.position[1]:null)+"')"},t}(),hv=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["ng-component"]],decls:1,vars:0,template:function(t,e){1&t&&ia(0,"router-outlet")},directives:function(){return[xy]},encapsulation:2}),t}(),mv=function(){function t(t){this.params=t||{}}return t.prototype.has=function(t){return this.params.hasOwnProperty(t)},t.prototype.get=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e[0]:e}return null},t.prototype.getAll=function(t){if(this.has(t)){var e=this.params[t];return Array.isArray(e)?e:[e]}return[]},Object.defineProperty(t.prototype,"keys",{get:function(){return Object.keys(this.params)},enumerable:!0,configurable:!0}),t}();function vv(t){return new mv(t)}function gv(t){var e=Error("NavigationCancelingError: "+t);return e.ngNavigationCancelingError=!0,e}function yv(t,e,n){var r=n.path.split("/");if(r.length>t.length)return null;if("full"===n.pathMatch&&(e.hasChildren()||r.length<t.length))return null;for(var i={},o=0;o<r.length;o++){var a=r[o],s=t[o];if(a.startsWith(":"))i[a.substring(1)]=s;else if(a!==s.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}var bv=function(){return function(t,e){this.routes=t,this.module=e}}();function wv(t,e){void 0===e&&(e="");for(var n=0;n<t.length;n++){var r=t[n];xv(r,_v(e,r))}}function xv(t,e){if(!t)throw new Error("\n      Invalid configuration of route '"+e+"': Encountered undefined route.\n      The reason might be an extra comma.\n\n      Example:\n      const routes: Routes = [\n        { path: '', redirectTo: '/dashboard', pathMatch: 'full' },\n        { path: 'dashboard',  component: DashboardComponent },, << two commas\n        { path: 'detail/:id', component: HeroDetailComponent }\n      ];\n    ");if(Array.isArray(t))throw new Error("Invalid configuration of route '"+e+"': Array cannot be specified");if(!t.component&&!t.children&&!t.loadChildren&&t.outlet&&"primary"!==t.outlet)throw new Error("Invalid configuration of route '"+e+"': a componentless route without children or loadChildren cannot have a named outlet set");if(t.redirectTo&&t.children)throw new Error("Invalid configuration of route '"+e+"': redirectTo and children cannot be used together");if(t.redirectTo&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': redirectTo and loadChildren cannot be used together");if(t.children&&t.loadChildren)throw new Error("Invalid configuration of route '"+e+"': children and loadChildren cannot be used together");if(t.redirectTo&&t.component)throw new Error("Invalid configuration of route '"+e+"': redirectTo and component cannot be used together");if(t.path&&t.matcher)throw new Error("Invalid configuration of route '"+e+"': path and matcher cannot be used together");if(void 0===t.redirectTo&&!t.component&&!t.children&&!t.loadChildren)throw new Error("Invalid configuration of route '"+e+"'. One of the following must be provided: component, redirectTo, children or loadChildren");if(void 0===t.path&&void 0===t.matcher)throw new Error("Invalid configuration of route '"+e+"': routes must have either a path or a matcher specified");if("string"==typeof t.path&&"/"===t.path.charAt(0))throw new Error("Invalid configuration of route '"+e+"': path cannot start with a slash");if(""===t.path&&void 0!==t.redirectTo&&void 0===t.pathMatch)throw new Error("Invalid configuration of route '{path: \""+e+'", redirectTo: "'+t.redirectTo+"\"}': please provide 'pathMatch'. The default value of 'pathMatch' is 'prefix', but often the intent is to use 'full'.");if(void 0!==t.pathMatch&&"full"!==t.pathMatch&&"prefix"!==t.pathMatch)throw new Error("Invalid configuration of route '"+e+"': pathMatch can only be set to 'prefix' or 'full'");t.children&&wv(t.children,e)}function _v(t,e){return e?t||e.path?t&&!e.path?t+"/":!t&&e.path?e.path:t+"/"+e.path:"":t}function Cv(t){var e=t.children&&t.children.map(Cv),n=e?o(o({},t),{children:e}):o({},t);return!n.component&&(e||n.loadChildren)&&n.outlet&&"primary"!==n.outlet&&(n.component=hv),n}function Sv(t,e){var n,r=Object.keys(t),i=Object.keys(e);if(!r||!i||r.length!=i.length)return!1;for(var o=0;o<r.length;o++)if(!Iv(t[n=r[o]],e[n]))return!1;return!0}function Iv(t,e){return Array.isArray(t)&&Array.isArray(e)?t.length==e.length&&t.every((function(t){return e.indexOf(t)>-1})):t===e}function kv(t){return Array.prototype.concat.apply([],t)}function Tv(t){return t.length>0?t[t.length-1]:null}function Ev(t,e){for(var n in t)t.hasOwnProperty(n)&&e(t[n],n)}function Av(t){return sa(t)?t:aa(t)?G(Promise.resolve(t)):Ld(t)}function Ov(t,e,n){return n?function(t,e){return Sv(t,e)}(t.queryParams,e.queryParams)&&function t(e,n){if(!Rv(e.segments,n.segments))return!1;if(e.numberOfChildren!==n.numberOfChildren)return!1;for(var r in n.children){if(!e.children[r])return!1;if(!t(e.children[r],n.children[r]))return!1}return!0}(t.root,e.root):function(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every((function(n){return Iv(t[n],e[n])}))}(t.queryParams,e.queryParams)&&function t(e,n){return function e(n,r,i){if(n.segments.length>i.length)return!!Rv(a=n.segments.slice(0,i.length),i)&&!r.hasChildren();if(n.segments.length===i.length){if(!Rv(n.segments,i))return!1;for(var o in r.children){if(!n.children[o])return!1;if(!t(n.children[o],r.children[o]))return!1}return!0}var a=i.slice(0,n.segments.length),s=i.slice(n.segments.length);return!!Rv(n.segments,a)&&!!n.children.primary&&e(n.children.primary,r,s)}(e,n,n.segments)}(t.root,e.root)}var Pv=function(){function t(t,e,n){this.root=t,this.queryParams=e,this.fragment=n}return Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=vv(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return zv.serialize(this)},t}(),Dv=function(){function t(t,e){var n=this;this.segments=t,this.children=e,this.parent=null,Ev(e,(function(t,e){return t.parent=n}))}return t.prototype.hasChildren=function(){return this.numberOfChildren>0},Object.defineProperty(t.prototype,"numberOfChildren",{get:function(){return Object.keys(this.children).length},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return Lv(this)},t}(),Mv=function(){function t(t,e){this.path=t,this.parameters=e}return Object.defineProperty(t.prototype,"parameterMap",{get:function(){return this._parameterMap||(this._parameterMap=vv(this.parameters)),this._parameterMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return qv(this)},t}();function Rv(t,e){return t.length===e.length&&t.every((function(t,n){return t.path===e[n].path}))}function Nv(t,e){var n=[];return Ev(t.children,(function(t,r){"primary"===r&&(n=n.concat(e(t,r)))})),Ev(t.children,(function(t,r){"primary"!==r&&(n=n.concat(e(t,r)))})),n}var Vv=function(){return function(){}}(),jv=function(){function t(){}return t.prototype.parse=function(t){var e=new Qv(t);return new Pv(e.parseRootSegment(),e.parseQueryParams(),e.parseFragment())},t.prototype.serialize=function(t){var e,n;return"/"+function t(e,n){if(!e.hasChildren())return Lv(e);if(n){var r=e.children.primary?t(e.children.primary,!1):"",i=[];return Ev(e.children,(function(e,n){"primary"!==n&&i.push(n+":"+t(e,!1))})),i.length>0?r+"("+i.join("//")+")":r}var o=Nv(e,(function(n,r){return"primary"===r?[t(e.children.primary,!1)]:[r+":"+t(n,!1)]}));return Lv(e)+"/("+o.join("//")+")"}(t.root,!0)+(e=t.queryParams,(n=Object.keys(e).map((function(t){var n=e[t];return Array.isArray(n)?n.map((function(e){return Uv(t)+"="+Uv(e)})).join("&"):Uv(t)+"="+Uv(n)}))).length?"?"+n.join("&"):"")+("string"==typeof t.fragment?"#"+encodeURI(t.fragment):"")},t}(),zv=new jv;function Lv(t){return t.segments.map((function(t){return qv(t)})).join("/")}function Fv(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Uv(t){return Fv(t).replace(/%3B/gi,";")}function Hv(t){return Fv(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Bv(t){return decodeURIComponent(t)}function $v(t){return Bv(t.replace(/\+/g,"%20"))}function qv(t){return""+Hv(t.path)+(e=t.parameters,Object.keys(e).map((function(t){return";"+Hv(t)+"="+Hv(e[t])})).join(""));var e}var Wv=/^[^\/()?;=#]+/;function Gv(t){var e=t.match(Wv);return e?e[0]:""}var Zv=/^[^=?&#]+/,Xv=/^[^?&#]+/,Qv=function(){function t(t){this.url=t,this.remaining=t}return t.prototype.parseRootSegment=function(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Dv([],{}):new Dv([],this.parseChildren())},t.prototype.parseQueryParams=function(){var t={};if(this.consumeOptional("?"))do{this.parseQueryParam(t)}while(this.consumeOptional("&"));return t},t.prototype.parseFragment=function(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null},t.prototype.parseChildren=function(){if(""===this.remaining)return{};this.consumeOptional("/");var t=[];for(this.peekStartsWith("(")||t.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),t.push(this.parseSegment());var e={};this.peekStartsWith("/(")&&(this.capture("/"),e=this.parseParens(!0));var n={};return this.peekStartsWith("(")&&(n=this.parseParens(!1)),(t.length>0||Object.keys(e).length>0)&&(n.primary=new Dv(t,e)),n},t.prototype.parseSegment=function(){var t=Gv(this.remaining);if(""===t&&this.peekStartsWith(";"))throw new Error("Empty path url segment cannot have parameters: '"+this.remaining+"'.");return this.capture(t),new Mv(Bv(t),this.parseMatrixParams())},t.prototype.parseMatrixParams=function(){for(var t={};this.consumeOptional(";");)this.parseParam(t);return t},t.prototype.parseParam=function(t){var e=Gv(this.remaining);if(e){this.capture(e);var n="";if(this.consumeOptional("=")){var r=Gv(this.remaining);r&&this.capture(n=r)}t[Bv(e)]=Bv(n)}},t.prototype.parseQueryParam=function(t){var e,n=(e=this.remaining.match(Zv))?e[0]:"";if(n){this.capture(n);var r="";if(this.consumeOptional("=")){var i=function(t){var e=t.match(Xv);return e?e[0]:""}(this.remaining);i&&this.capture(r=i)}var o=$v(n),a=$v(r);if(t.hasOwnProperty(o)){var s=t[o];Array.isArray(s)||(t[o]=s=[s]),s.push(a)}else t[o]=a}},t.prototype.parseParens=function(t){var e={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){var n=Gv(this.remaining),r=this.remaining[n.length];if("/"!==r&&")"!==r&&";"!==r)throw new Error("Cannot parse url '"+this.url+"'");var i=void 0;n.indexOf(":")>-1?(i=n.substr(0,n.indexOf(":")),this.capture(i),this.capture(":")):t&&(i="primary");var o=this.parseChildren();e[i]=1===Object.keys(o).length?o.primary:new Dv([],o),this.consumeOptional("//")}return e},t.prototype.peekStartsWith=function(t){return this.remaining.startsWith(t)},t.prototype.consumeOptional=function(t){return!!this.peekStartsWith(t)&&(this.remaining=this.remaining.substring(t.length),!0)},t.prototype.capture=function(t){if(!this.consumeOptional(t))throw new Error('Expected "'+t+'".')},t}(),Jv=function(){function t(t){this._root=t}return Object.defineProperty(t.prototype,"root",{get:function(){return this._root.value},enumerable:!0,configurable:!0}),t.prototype.parent=function(t){var e=this.pathFromRoot(t);return e.length>1?e[e.length-2]:null},t.prototype.children=function(t){var e=Kv(t,this._root);return e?e.children.map((function(t){return t.value})):[]},t.prototype.firstChild=function(t){var e=Kv(t,this._root);return e&&e.children.length>0?e.children[0].value:null},t.prototype.siblings=function(t){var e=Yv(t,this._root);return e.length<2?[]:e[e.length-2].children.map((function(t){return t.value})).filter((function(e){return e!==t}))},t.prototype.pathFromRoot=function(t){return Yv(t,this._root).map((function(t){return t.value}))},t}();function Kv(t,e){var n,r;if(t===e.value)return e;try{for(var i=a(e.children),o=i.next();!o.done;o=i.next()){var s=Kv(t,o.value);if(s)return s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return null}function Yv(t,e){var n,r;if(t===e.value)return[e];try{for(var i=a(e.children),o=i.next();!o.done;o=i.next()){var s=Yv(t,o.value);if(s.length)return s.unshift(e),s}}catch(u){n={error:u}}finally{try{o&&!o.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}return[]}var tg=function(){function t(t,e){this.value=t,this.children=e}return t.prototype.toString=function(){return"TreeNode("+this.value+")"},t}();function eg(t){var e={};return t&&t.children.forEach((function(t){return e[t.value.outlet]=t})),e}var ng=function(t){function e(e,n){var r=t.call(this,e)||this;return r.snapshot=n,ug(r,e),r}return i(e,t),e.prototype.toString=function(){return this.snapshot.toString()},e}(Jv);function rg(t,e){var n=function(t,e){var n=new ag([],{},{},"",{},"primary",e,null,t.root,-1,{});return new sg("",new tg(n,[]))}(t,e),r=new Dp([new Mv("",{})]),i=new Dp({}),o=new Dp({}),a=new Dp({}),s=new Dp(""),u=new ig(r,i,a,s,o,"primary",e,n.root);return u.snapshot=n.root,new ng(new tg(u,[]),n)}var ig=function(){function t(t,e,n,r,i,o,a,s){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this._futureSnapshot=s}return Object.defineProperty(t.prototype,"routeConfig",{get:function(){return this._futureSnapshot.routeConfig},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=this.params.pipe(B((function(t){return vv(t)})))),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe(B((function(t){return vv(t)})))),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return this.snapshot?this.snapshot.toString():"Future("+this._futureSnapshot+")"},t}();function og(t,e){void 0===e&&(e="emptyOnly");var n=t.pathFromRoot,r=0;if("always"!==e)for(r=n.length-1;r>=1;){var i=n[r],a=n[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function(t){return t.reduce((function(t,e){return{params:o(o({},t.params),e.params),data:o(o({},t.data),e.data),resolve:o(o({},t.resolve),e._resolvedData)}}),{params:{},data:{},resolve:{}})}(n.slice(r))}var ag=function(){function t(t,e,n,r,i,o,a,s,u,c,l){this.url=t,this.params=e,this.queryParams=n,this.fragment=r,this.data=i,this.outlet=o,this.component=a,this.routeConfig=s,this._urlSegment=u,this._lastPathIndex=c,this._resolve=l}return Object.defineProperty(t.prototype,"root",{get:function(){return this._routerState.root},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return this._routerState.parent(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"firstChild",{get:function(){return this._routerState.firstChild(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"children",{get:function(){return this._routerState.children(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"pathFromRoot",{get:function(){return this._routerState.pathFromRoot(this)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"paramMap",{get:function(){return this._paramMap||(this._paramMap=vv(this.params)),this._paramMap},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"queryParamMap",{get:function(){return this._queryParamMap||(this._queryParamMap=vv(this.queryParams)),this._queryParamMap},enumerable:!0,configurable:!0}),t.prototype.toString=function(){return"Route(url:'"+this.url.map((function(t){return t.toString()})).join("/")+"', path:'"+(this.routeConfig?this.routeConfig.path:"")+"')"},t}(),sg=function(t){function e(e,n){var r=t.call(this,n)||this;return r.url=e,ug(r,n),r}return i(e,t),e.prototype.toString=function(){return cg(this._root)},e}(Jv);function ug(t,e){e.value._routerState=t,e.children.forEach((function(e){return ug(t,e)}))}function cg(t){var e=t.children.length>0?" { "+t.children.map(cg).join(", ")+" } ":"";return""+t.value+e}function lg(t){if(t.snapshot){var e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,Sv(e.queryParams,n.queryParams)||t.queryParams.next(n.queryParams),e.fragment!==n.fragment&&t.fragment.next(n.fragment),Sv(e.params,n.params)||t.params.next(n.params),function(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;++n)if(!Sv(t[n],e[n]))return!1;return!0}(e.url,n.url)||t.url.next(n.url),Sv(e.data,n.data)||t.data.next(n.data)}else t.snapshot=t._futureSnapshot,t.data.next(t._futureSnapshot.data)}function dg(t,e){var n,r;return Sv(t.params,e.params)&&Rv(n=t.url,r=e.url)&&n.every((function(t,e){return Sv(t.parameters,r[e].parameters)}))&&!(!t.parent!=!e.parent)&&(!t.parent||dg(t.parent,e.parent))}function pg(t){return"object"==typeof t&&null!=t&&!t.outlets&&!t.segmentPath}function fg(t,e,n,r,i){var o={};return r&&Ev(r,(function(t,e){o[e]=Array.isArray(t)?t.map((function(t){return""+t})):""+t})),new Pv(n.root===t?e:function t(e,n,r){var i={};return Ev(e.children,(function(e,o){i[o]=e===n?r:t(e,n,r)})),new Dv(e.segments,i)}(n.root,t,e),o,i)}var hg=function(){function t(t,e,n){if(this.isAbsolute=t,this.numberOfDoubleDots=e,this.commands=n,t&&n.length>0&&pg(n[0]))throw new Error("Root segment cannot have matrix parameters");var r=n.find((function(t){return"object"==typeof t&&null!=t&&t.outlets}));if(r&&r!==Tv(n))throw new Error("{outlets:{}} has to be the last command")}return t.prototype.toRoot=function(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]},t}(),mg=function(){return function(t,e,n){this.segmentGroup=t,this.processChildren=e,this.index=n}}();function vg(t){return"object"==typeof t&&null!=t&&t.outlets?t.outlets.primary:""+t}function gg(t,e,n){if(t||(t=new Dv([],{})),0===t.segments.length&&t.hasChildren())return yg(t,e,n);var r=function(t,e,n){for(var r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};i<t.segments.length;){if(r>=n.length)return o;var a=t.segments[i],s=vg(n[r]),u=r<n.length-1?n[r+1]:null;if(i>0&&void 0===s)break;if(s&&u&&"object"==typeof u&&void 0===u.outlets){if(!_g(s,u,a))return o;r+=2}else{if(!_g(s,{},a))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){var o=new Dv(t.segments.slice(0,r.pathIndex),{});return o.children.primary=new Dv(t.segments.slice(r.pathIndex),t.children),yg(o,0,i)}return r.match&&0===i.length?new Dv(t.segments,{}):r.match&&!t.hasChildren()?bg(t,e,n):r.match?yg(t,0,i):bg(t,e,n)}function yg(t,e,n){if(0===n.length)return new Dv(t.segments,{});var r=function(t){var e,n;return"object"!=typeof t[0]?((e={}).primary=t,e):void 0===t[0].outlets?((n={}).primary=t,n):t[0].outlets}(n),i={};return Ev(r,(function(n,r){null!==n&&(i[r]=gg(t.children[r],e,n))})),Ev(t.children,(function(t,e){void 0===r[e]&&(i[e]=t)})),new Dv(t.segments,i)}function bg(t,e,n){for(var r=t.segments.slice(0,e),i=0;i<n.length;){if("object"==typeof n[i]&&void 0!==n[i].outlets){var o=wg(n[i].outlets);return new Dv(r,o)}if(0===i&&pg(n[0]))r.push(new Mv(t.segments[e].path,n[0])),i++;else{var a=vg(n[i]),s=i<n.length-1?n[i+1]:null;a&&s&&pg(s)?(r.push(new Mv(a,xg(s))),i+=2):(r.push(new Mv(a,{})),i++)}}return new Dv(r,{})}function wg(t){var e={};return Ev(t,(function(t,n){null!==t&&(e[n]=bg(new Dv([],{}),0,t))})),e}function xg(t){var e={};return Ev(t,(function(t,n){return e[n]=""+t})),e}function _g(t,e,n){return t==n.path&&Sv(e,n.parameters)}var Cg=function(){function t(t,e,n,r){this.routeReuseStrategy=t,this.futureState=e,this.currState=n,this.forwardEvent=r}return t.prototype.activate=function(t){var e=this.futureState._root,n=this.currState?this.currState._root:null;this.deactivateChildRoutes(e,n,t),lg(this.futureState.root),this.activateChildRoutes(e,n,t)},t.prototype.deactivateChildRoutes=function(t,e,n){var r=this,i=eg(e);t.children.forEach((function(t){var e=t.value.outlet;r.deactivateRoutes(t,i[e],n),delete i[e]})),Ev(i,(function(t,e){r.deactivateRouteAndItsChildren(t,n)}))},t.prototype.deactivateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(r===i)if(r.component){var o=n.getContext(r.outlet);o&&this.deactivateChildRoutes(t,e,o.children)}else this.deactivateChildRoutes(t,e,n);else i&&this.deactivateRouteAndItsChildren(e,n)},t.prototype.deactivateRouteAndItsChildren=function(t,e){this.routeReuseStrategy.shouldDetach(t.value.snapshot)?this.detachAndStoreRouteSubtree(t,e):this.deactivateRouteAndOutlet(t,e)},t.prototype.detachAndStoreRouteSubtree=function(t,e){var n=e.getContext(t.value.outlet);if(n&&n.outlet){var r=n.outlet.detach(),i=n.children.onOutletDeactivated();this.routeReuseStrategy.store(t.value.snapshot,{componentRef:r,route:t,contexts:i})}},t.prototype.deactivateRouteAndOutlet=function(t,e){var n=this,r=e.getContext(t.value.outlet);if(r){var i=eg(t),o=t.value.component?r.children:e;Ev(i,(function(t,e){return n.deactivateRouteAndItsChildren(t,o)})),r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated())}},t.prototype.activateChildRoutes=function(t,e,n){var r=this,i=eg(e);t.children.forEach((function(t){r.activateRoutes(t,i[t.value.outlet],n),r.forwardEvent(new pv(t.value.snapshot))})),t.children.length&&this.forwardEvent(new lv(t.value.snapshot))},t.prototype.activateRoutes=function(t,e,n){var r=t.value,i=e?e.value:null;if(lg(r),r===i)if(r.component){var o=n.getOrCreateContext(r.outlet);this.activateChildRoutes(t,e,o.children)}else this.activateChildRoutes(t,e,n);else if(r.component)if(o=n.getOrCreateContext(r.outlet),this.routeReuseStrategy.shouldAttach(r.snapshot)){var a=this.routeReuseStrategy.retrieve(r.snapshot);this.routeReuseStrategy.store(r.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),Sg(a.route)}else{var s=function(t){for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig;if(n&&n.component)return null}return null}(r.snapshot),u=s?s.module.componentFactoryResolver:null;o.attachRef=null,o.route=r,o.resolver=u,o.outlet&&o.outlet.activateWith(r,u),this.activateChildRoutes(t,null,o.children)}else this.activateChildRoutes(t,null,n)},t}();function Sg(t){lg(t.value),t.children.forEach(Sg)}function Ig(t){return"function"==typeof t}function kg(t){return t instanceof Pv}var Tg=function(){return function(t){this.segmentGroup=t||null}}(),Eg=function(){return function(t){this.urlTree=t}}();function Ag(t){return new k((function(e){return e.error(new Tg(t))}))}function Og(t){return new k((function(e){return e.error(new Eg(t))}))}function Pg(t){return new k((function(e){return e.error(new Error("Only absolute redirects can have named outlets. redirectTo: '"+t+"'"))}))}var Dg=function(){function t(t,e,n,r,i){this.configLoader=e,this.urlSerializer=n,this.urlTree=r,this.config=i,this.allowRedirects=!0,this.ngModule=t.get(oe)}return t.prototype.apply=function(){var t=this;return this.expandSegmentGroup(this.ngModule,this.config,this.urlTree.root,"primary").pipe(B((function(e){return t.createUrlTree(e,t.urlTree.queryParams,t.urlTree.fragment)}))).pipe(Dm((function(e){if(e instanceof Eg)return t.allowRedirects=!1,t.match(e.urlTree);if(e instanceof Tg)throw t.noMatchError(e);throw e})))},t.prototype.match=function(t){var e=this;return this.expandSegmentGroup(this.ngModule,this.config,t.root,"primary").pipe(B((function(n){return e.createUrlTree(n,t.queryParams,t.fragment)}))).pipe(Dm((function(t){if(t instanceof Tg)throw e.noMatchError(t);throw t})))},t.prototype.noMatchError=function(t){return new Error("Cannot match any routes. URL Segment: '"+t.segmentGroup+"'")},t.prototype.createUrlTree=function(t,e,n){var r,i=t.segments.length>0?new Dv([],((r={}).primary=t,r)):t;return new Pv(i,e,n)},t.prototype.expandSegmentGroup=function(t,e,n,r){return 0===n.segments.length&&n.hasChildren()?this.expandChildren(t,e,n).pipe(B((function(t){return new Dv([],t)}))):this.expandSegment(t,n,e,n.segments,r,!0)},t.prototype.expandChildren=function(t,e,n){var r=this;return function(n,i){if(0===Object.keys(n).length)return Ld({});var o=[],a=[],s={};return Ev(n,(function(n,i){var u,c,l=(u=i,c=n,r.expandSegmentGroup(t,e,c,u)).pipe(B((function(t){return s[i]=t})));"primary"===i?o.push(l):a.push(l)})),Ld.apply(null,o.concat(a)).pipe(wm(),Pm(),B((function(){return s})))}(n.children)},t.prototype.expandSegment=function(t,e,n,r,i,o){var a=this;return Ld.apply(void 0,u(n)).pipe(B((function(s){return a.expandSegmentAgainstRoute(t,e,n,s,r,i,o).pipe(Dm((function(t){if(t instanceof Tg)return Ld(null);throw t})))})),wm(),Nm((function(t){return!!t})),Dm((function(t,n){if(t instanceof hm||"EmptyError"===t.name){if(a.noLeftoversInUrl(e,r,i))return Ld(new Dv([],{}));throw new Tg(e)}throw t})))},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.expandSegmentAgainstRoute=function(t,e,n,r,i,o,a){return Vg(r)!==o?Ag(e):void 0===r.redirectTo?this.matchSegmentAgainstRoute(t,e,r,i):a&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o):Ag(e)},t.prototype.expandSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){return"**"===r.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(t,n,r,o):this.expandRegularSegmentAgainstRouteUsingRedirect(t,e,n,r,i,o)},t.prototype.expandWildCardWithParamsAgainstRouteUsingRedirect=function(t,e,n,r){var i=this,o=this.applyRedirectCommands([],n.redirectTo,{});return n.redirectTo.startsWith("/")?Og(o):this.lineralizeSegments(n,o).pipe(Z((function(n){var o=new Dv(n,{});return i.expandSegment(t,o,e,n,r,!1)})))},t.prototype.expandRegularSegmentAgainstRouteUsingRedirect=function(t,e,n,r,i,o){var a=this,s=Mg(e,r,i),u=s.consumedSegments,c=s.lastChild,l=s.positionalParamSegments;if(!s.matched)return Ag(e);var d=this.applyRedirectCommands(u,r.redirectTo,l);return r.redirectTo.startsWith("/")?Og(d):this.lineralizeSegments(r,d).pipe(Z((function(r){return a.expandSegment(t,e,n,r.concat(i.slice(c)),o,!1)})))},t.prototype.matchSegmentAgainstRoute=function(t,e,n,r){var i=this;if("**"===n.path)return n.loadChildren?this.configLoader.load(t.injector,n).pipe(B((function(t){return n._loadedConfig=t,new Dv(r,{})}))):Ld(new Dv(r,{}));var s=Mg(e,n,r),u=s.consumedSegments,c=s.lastChild;if(!s.matched)return Ag(e);var l=r.slice(c);return this.getChildConfig(t,n,r).pipe(Z((function(t){var n=t.module,r=t.routes,s=function(t,e,n,r){return n.length>0&&function(t,e,n){return n.some((function(n){return Ng(t,e,n)&&"primary"!==Vg(n)}))}(t,n,r)?{segmentGroup:Rg(new Dv(e,function(t,e){var n,r,i={};i.primary=e;try{for(var o=a(t),s=o.next();!s.done;s=o.next()){var u=s.value;""===u.path&&"primary"!==Vg(u)&&(i[Vg(u)]=new Dv([],{}))}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return i}(r,new Dv(n,t.children)))),slicedSegments:[]}:0===n.length&&function(t,e,n){return n.some((function(n){return Ng(t,e,n)}))}(t,n,r)?{segmentGroup:Rg(new Dv(t.segments,function(t,e,n,r){var i,s,u={};try{for(var c=a(n),l=c.next();!l.done;l=c.next()){var d=l.value;Ng(t,e,d)&&!r[Vg(d)]&&(u[Vg(d)]=new Dv([],{}))}}catch(p){i={error:p}}finally{try{l&&!l.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}return o(o({},r),u)}(t,n,r,t.children))),slicedSegments:n}:{segmentGroup:t,slicedSegments:n}}(e,u,l,r),c=s.segmentGroup,d=s.slicedSegments;return 0===d.length&&c.hasChildren()?i.expandChildren(n,r,c).pipe(B((function(t){return new Dv(u,t)}))):0===r.length&&0===d.length?Ld(new Dv(u,{})):i.expandSegment(n,c,r,d,"primary",!0).pipe(B((function(t){return new Dv(u.concat(t.segments),t.children)})))})))},t.prototype.getChildConfig=function(t,e,n){var r=this;return e.children?Ld(new bv(e.children,t)):e.loadChildren?void 0!==e._loadedConfig?Ld(e._loadedConfig):function(t,e,n){var r,i=e.canLoad;return i&&0!==i.length?G(i).pipe(B((function(r){var i,o=t.get(r);if(function(t){return t&&Ig(t.canLoad)}(o))i=o.canLoad(e,n);else{if(!Ig(o))throw new Error("Invalid CanLoad guard");i=o(e,n)}return Av(i)}))).pipe(wm(),(r=function(t){return!0===t},function(t){return t.lift(new Vm(r,void 0,t))})):Ld(!0)}(t.injector,e,n).pipe(Z((function(n){return n?r.configLoader.load(t.injector,e).pipe(B((function(t){return e._loadedConfig=t,t}))):function(t){return new k((function(e){return e.error(gv("Cannot load children because the guard of the route \"path: '"+t.path+"'\" returned false"))}))}(e)}))):Ld(new bv([],t))},t.prototype.lineralizeSegments=function(t,e){for(var n=[],r=e.root;;){if(n=n.concat(r.segments),0===r.numberOfChildren)return Ld(n);if(r.numberOfChildren>1||!r.children.primary)return Pg(t.redirectTo);r=r.children.primary}},t.prototype.applyRedirectCommands=function(t,e,n){return this.applyRedirectCreatreUrlTree(e,this.urlSerializer.parse(e),t,n)},t.prototype.applyRedirectCreatreUrlTree=function(t,e,n,r){var i=this.createSegmentGroup(t,e.root,n,r);return new Pv(i,this.createQueryParams(e.queryParams,this.urlTree.queryParams),e.fragment)},t.prototype.createQueryParams=function(t,e){var n={};return Ev(t,(function(t,r){if("string"==typeof t&&t.startsWith(":")){var i=t.substring(1);n[r]=e[i]}else n[r]=t})),n},t.prototype.createSegmentGroup=function(t,e,n,r){var i=this,o=this.createSegments(t,e.segments,n,r),a={};return Ev(e.children,(function(e,o){a[o]=i.createSegmentGroup(t,e,n,r)})),new Dv(o,a)},t.prototype.createSegments=function(t,e,n,r){var i=this;return e.map((function(e){return e.path.startsWith(":")?i.findPosParam(t,e,r):i.findOrReturn(e,n)}))},t.prototype.findPosParam=function(t,e,n){var r=n[e.path.substring(1)];if(!r)throw new Error("Cannot redirect to '"+t+"'. Cannot find '"+e.path+"'.");return r},t.prototype.findOrReturn=function(t,e){var n,r,i=0;try{for(var o=a(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.path===t.path)return e.splice(i),u;i++}}catch(c){n={error:c}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return t},t}();function Mg(t,e,n){if(""===e.path)return"full"===e.pathMatch&&(t.hasChildren()||n.length>0)?{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}:{matched:!0,consumedSegments:[],lastChild:0,positionalParamSegments:{}};var r=(e.matcher||yv)(n,t,e);return r?{matched:!0,consumedSegments:r.consumed,lastChild:r.consumed.length,positionalParamSegments:r.posParams}:{matched:!1,consumedSegments:[],lastChild:0,positionalParamSegments:{}}}function Rg(t){if(1===t.numberOfChildren&&t.children.primary){var e=t.children.primary;return new Dv(t.segments.concat(e.segments),e.children)}return t}function Ng(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0!==n.redirectTo}function Vg(t){return t.outlet||"primary"}var jg=function(){return function(t){this.path=t,this.route=this.path[this.path.length-1]}}(),zg=function(){return function(t,e){this.component=t,this.route=e}}();function Lg(t,e,n){var r=function(t){if(!t)return null;for(var e=t.parent;e;e=e.parent){var n=e.routeConfig;if(n&&n._loadedConfig)return n._loadedConfig}return null}(e);return(r?r.module.injector:n).get(t)}function Fg(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=eg(e);return t.children.forEach((function(t){!function(t,e,n,r,i){void 0===i&&(i={canDeactivateChecks:[],canActivateChecks:[]});var o=t.value,a=e?e.value:null,s=n?n.getContext(t.value.outlet):null;if(a&&o.routeConfig===a.routeConfig){var u=function(t,e,n){if("function"==typeof n)return n(t,e);switch(n){case"pathParamsChange":return!Rv(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Rv(t.url,e.url)||!Sv(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!dg(t,e)||!Sv(t.queryParams,e.queryParams);case"paramsChange":default:return!dg(t,e)}}(a,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new jg(r)):(o.data=a.data,o._resolvedData=a._resolvedData),Fg(t,e,o.component?s?s.children:null:n,r,i),u&&i.canDeactivateChecks.push(new zg(s&&s.outlet&&s.outlet.component||null,a))}else a&&Ug(e,s,i),i.canActivateChecks.push(new jg(r)),Fg(t,null,o.component?s?s.children:null:n,r,i)}(t,o[t.value.outlet],n,r.concat([t.value]),i),delete o[t.value.outlet]})),Ev(o,(function(t,e){return Ug(t,n.getContext(e),i)})),i}function Ug(t,e,n){var r=eg(t),i=t.value;Ev(r,(function(t,r){Ug(t,i.component?e?e.children.getContext(r):null:e,n)})),n.canDeactivateChecks.push(new zg(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}var Hg=Symbol("INITIAL_VALUE");function Bg(){return zm((function(t){return vm.apply(void 0,u(t.map((function(t){return t.pipe(Sh(1),function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=t[t.length-1];return M(n)?(t.pop(),function(e){return Um(t,e,n)}):function(e){return Um(t,e)}}(Hg))})))).pipe(Hm((function(t,e){var n=!1;return e.reduce((function(t,r,i){if(t!==Hg)return t;if(r===Hg&&(n=!0),!n){if(!1===r)return r;if(i===e.length-1||kg(r))return r}return t}),t)}),Hg),Ud((function(t){return t!==Hg})),B((function(t){return kg(t)?t:!0===t})),Sh(1))}))}function $g(t,e){return null!==t&&e&&e(new dv(t)),Ld(!0)}function qg(t,e){return null!==t&&e&&e(new cv(t)),Ld(!0)}function Wg(t,e,n){var r=e.routeConfig?e.routeConfig.canActivate:null;return r&&0!==r.length?Ld(r.map((function(r){return bm((function(){var i,o=Lg(r,e,n);if(function(t){return t&&Ig(t.canActivate)}(o))i=Av(o.canActivate(e,t));else{if(!Ig(o))throw new Error("Invalid CanActivate guard");i=Av(o(e,t))}return i.pipe(Nm())}))}))).pipe(Bg()):Ld(!0)}function Gg(t,e,n){var r=e[e.length-1],i=e.slice(0,e.length-1).reverse().map((function(t){return function(t){var e=t.routeConfig?t.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:t,guards:e}:null}(t)})).filter((function(t){return null!==t})).map((function(e){return bm((function(){return Ld(e.guards.map((function(i){var o,a=Lg(i,e.node,n);if(function(t){return t&&Ig(t.canActivateChild)}(a))o=Av(a.canActivateChild(r,t));else{if(!Ig(a))throw new Error("Invalid CanActivateChild guard");o=Av(a(r,t))}return o.pipe(Nm())}))).pipe(Bg())}))}));return Ld(i).pipe(Bg())}var Zg=function(){return function(){}}(),Xg=function(){function t(t,e,n,r,i,o){this.rootComponentType=t,this.config=e,this.urlTree=n,this.url=r,this.paramsInheritanceStrategy=i,this.relativeLinkResolution=o}return t.prototype.recognize=function(){try{var t=Kg(this.urlTree.root,[],[],this.config,this.relativeLinkResolution).segmentGroup,e=this.processSegmentGroup(this.config,t,"primary"),n=new ag([],Object.freeze({}),Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,{},"primary",this.rootComponentType,null,this.urlTree.root,-1,{}),r=new tg(n,e),i=new sg(this.url,r);return this.inheritParamsAndData(i._root),Ld(i)}catch(a){return new k((function(t){return t.error(a)}))}},t.prototype.inheritParamsAndData=function(t){var e=this,n=t.value,r=og(n,this.paramsInheritanceStrategy);n.params=Object.freeze(r.params),n.data=Object.freeze(r.data),t.children.forEach((function(t){return e.inheritParamsAndData(t)}))},t.prototype.processSegmentGroup=function(t,e,n){return 0===e.segments.length&&e.hasChildren()?this.processChildren(t,e):this.processSegment(t,e,e.segments,n)},t.prototype.processChildren=function(t,e){var n,r=this,i=Nv(e,(function(e,n){return r.processSegmentGroup(t,e,n)}));return n={},i.forEach((function(t){var e=n[t.value.outlet];if(e){var r=e.url.map((function(t){return t.toString()})).join("/"),i=t.value.url.map((function(t){return t.toString()})).join("/");throw new Error("Two segments cannot have the same outlet name: '"+r+"' and '"+i+"'.")}n[t.value.outlet]=t.value})),function(t){t.sort((function(t,e){return"primary"===t.value.outlet?-1:"primary"===e.value.outlet?1:t.value.outlet.localeCompare(e.value.outlet)}))}(i),i},t.prototype.processSegment=function(t,e,n,r){var i,o;try{for(var s=a(t),u=s.next();!u.done;u=s.next()){var c=u.value;try{return this.processSegmentAgainstRoute(c,e,n,r)}catch(l){if(!(l instanceof Zg))throw l}}}catch(d){i={error:d}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}if(this.noLeftoversInUrl(e,n,r))return[];throw new Zg},t.prototype.noLeftoversInUrl=function(t,e,n){return 0===e.length&&!t.children[n]},t.prototype.processSegmentAgainstRoute=function(t,e,n,r){if(t.redirectTo)throw new Zg;if((t.outlet||"primary")!==r)throw new Zg;var i,a=[],s=[];if("**"===t.path){var u=n.length>0?Tv(n).parameters:{};i=new ag(n,u,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,ey(t),r,t.component,t,Qg(e),Jg(e)+n.length,ny(t))}else{var c=function(t,e,n){if(""===e.path){if("full"===e.pathMatch&&(t.hasChildren()||n.length>0))throw new Zg;return{consumedSegments:[],lastChild:0,parameters:{}}}var r=(e.matcher||yv)(n,t,e);if(!r)throw new Zg;var i={};Ev(r.posParams,(function(t,e){i[e]=t.path}));var a=r.consumed.length>0?o(o({},i),r.consumed[r.consumed.length-1].parameters):i;return{consumedSegments:r.consumed,lastChild:r.consumed.length,parameters:a}}(e,t,n);a=c.consumedSegments,s=n.slice(c.lastChild),i=new ag(a,c.parameters,Object.freeze(o({},this.urlTree.queryParams)),this.urlTree.fragment,ey(t),r,t.component,t,Qg(e),Jg(e)+a.length,ny(t))}var l=function(t){return t.children?t.children:t.loadChildren?t._loadedConfig.routes:[]}(t),d=Kg(e,a,s,l,this.relativeLinkResolution),p=d.segmentGroup,f=d.slicedSegments;if(0===f.length&&p.hasChildren()){var h=this.processChildren(l,p);return[new tg(i,h)]}if(0===l.length&&0===f.length)return[new tg(i,[])];var m=this.processSegment(l,p,f,"primary");return[new tg(i,m)]},t}();function Qg(t){for(var e=t;e._sourceSegment;)e=e._sourceSegment;return e}function Jg(t){for(var e=t,n=e._segmentIndexShift?e._segmentIndexShift:0;e._sourceSegment;)n+=(e=e._sourceSegment)._segmentIndexShift?e._segmentIndexShift:0;return n-1}function Kg(t,e,n,r,i){if(n.length>0&&function(t,e,n){return n.some((function(n){return Yg(t,e,n)&&"primary"!==ty(n)}))}(t,n,r)){var s=new Dv(e,function(t,e,n,r){var i,o,s={};s.primary=r,r._sourceSegment=t,r._segmentIndexShift=e.length;try{for(var u=a(n),c=u.next();!c.done;c=u.next()){var l=c.value;if(""===l.path&&"primary"!==ty(l)){var d=new Dv([],{});d._sourceSegment=t,d._segmentIndexShift=e.length,s[ty(l)]=d}}}catch(p){i={error:p}}finally{try{c&&!c.done&&(o=u.return)&&o.call(u)}finally{if(i)throw i.error}}return s}(t,e,r,new Dv(n,t.children)));return s._sourceSegment=t,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:[]}}if(0===n.length&&function(t,e,n){return n.some((function(n){return Yg(t,e,n)}))}(t,n,r)){var u=new Dv(t.segments,function(t,e,n,r,i,s){var u,c,l={};try{for(var d=a(r),p=d.next();!p.done;p=d.next()){var f=p.value;if(Yg(t,n,f)&&!i[ty(f)]){var h=new Dv([],{});h._sourceSegment=t,h._segmentIndexShift="legacy"===s?t.segments.length:e.length,l[ty(f)]=h}}}catch(m){u={error:m}}finally{try{p&&!p.done&&(c=d.return)&&c.call(d)}finally{if(u)throw u.error}}return o(o({},i),l)}(t,e,n,r,t.children,i));return u._sourceSegment=t,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:n}}var c=new Dv(t.segments,t.children);return c._sourceSegment=t,c._segmentIndexShift=e.length,{segmentGroup:c,slicedSegments:n}}function Yg(t,e,n){return(!(t.hasChildren()||e.length>0)||"full"!==n.pathMatch)&&""===n.path&&void 0===n.redirectTo}function ty(t){return t.outlet||"primary"}function ey(t){return t.data||{}}function ny(t){return t.resolve||{}}function ry(t,e,n,r){var i=Lg(t,e,r);return Av(i.resolve?i.resolve(e,n):i(e,n))}function iy(t){return function(e){return e.pipe(zm((function(e){var n=t(e);return n?G(n).pipe(B((function(){return e}))):G([e])})))}}var oy=function(){return function(){}}(),ay=function(){function t(){}return t.prototype.shouldDetach=function(t){return!1},t.prototype.store=function(t,e){},t.prototype.shouldAttach=function(t){return!1},t.prototype.retrieve=function(t){return null},t.prototype.shouldReuseRoute=function(t,e){return t.routeConfig===e.routeConfig},t}(),sy=new Wt("ROUTES"),uy=function(){function t(t,e,n,r){this.loader=t,this.compiler=e,this.onLoadStartListener=n,this.onLoadEndListener=r}return t.prototype.load=function(t,e){var n=this;return this.onLoadStartListener&&this.onLoadStartListener(e),this.loadModuleFactory(e.loadChildren).pipe(B((function(r){n.onLoadEndListener&&n.onLoadEndListener(e);var i=r.create(t);return new bv(kv(i.injector.get(sy)).map(Cv),i)})))},t.prototype.loadModuleFactory=function(t){var e=this;return"string"==typeof t?G(this.loader.load(t)):Av(t()).pipe(Z((function(t){return t instanceof ae?Ld(t):G(e.compiler.compileModuleAsync(t))})))},t}(),cy=function(){return function(){}}(),ly=function(){function t(){}return t.prototype.shouldProcessUrl=function(t){return!0},t.prototype.extract=function(t){return t},t.prototype.merge=function(t,e){return t},t}();function dy(t){throw t}function py(t,e,n){return e.parse("/")}function fy(t,e){return Ld(null)}var hy=function(){function t(t,e,n,r,i,o,a,s){var u=this;this.rootComponentType=t,this.urlSerializer=e,this.rootContexts=n,this.location=r,this.config=s,this.lastSuccessfulNavigation=null,this.currentNavigation=null,this.navigationId=0,this.isNgZoneEnabled=!1,this.events=new P,this.errorHandler=dy,this.malformedUriErrorHandler=py,this.navigated=!1,this.lastSuccessfulId=-1,this.hooks={beforePreactivation:fy,afterPreactivation:fy},this.urlHandlingStrategy=new ly,this.routeReuseStrategy=new ay,this.onSameUrlNavigation="ignore",this.paramsInheritanceStrategy="emptyOnly",this.urlUpdateStrategy="deferred",this.relativeLinkResolution="legacy",this.ngModule=i.get(oe),this.console=i.get(Au);var c=i.get(Bu);this.isNgZoneEnabled=c instanceof Bu,this.resetConfig(s),this.currentUrlTree=new Pv(new Dv([],{}),{},null),this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.configLoader=new uy(o,a,(function(t){return u.triggerEvent(new sv(t))}),(function(t){return u.triggerEvent(new uv(t))})),this.routerState=rg(this.currentUrlTree,this.rootComponentType),this.transitions=new Dp({id:0,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,extractedUrl:this.urlHandlingStrategy.extract(this.currentUrlTree),urlAfterRedirects:this.urlHandlingStrategy.extract(this.currentUrlTree),rawUrl:this.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:"imperative",restoredState:null,currentSnapshot:this.routerState.snapshot,targetSnapshot:null,currentRouterState:this.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.navigations=this.setupNavigations(this.transitions),this.processNavigations()}return t.prototype.setupNavigations=function(t){var e=this,n=this.events;return t.pipe(Ud((function(t){return 0!==t.id})),B((function(t){return o(o({},t),{extractedUrl:e.urlHandlingStrategy.extract(t.rawUrl)})})),zm((function(t){var r,i,s,u,c=!1,l=!1;return Ld(t).pipe(Wm((function(t){e.currentNavigation={id:t.id,initialUrl:t.currentRawUrl,extractedUrl:t.extractedUrl,trigger:t.source,extras:t.extras,previousNavigation:e.lastSuccessfulNavigation?o(o({},e.lastSuccessfulNavigation),{previousNavigation:null}):null}})),zm((function(t){var r,i,a,s,u=!e.navigated||t.extractedUrl.toString()!==e.browserUrlTree.toString();if(("reload"===e.onSameUrlNavigation||u)&&e.urlHandlingStrategy.shouldProcessUrl(t.rawUrl))return Ld(t).pipe(zm((function(t){var r=e.transitions.getValue();return n.next(new Km(t.id,e.serializeUrl(t.extractedUrl),t.source,t.restoredState)),r!==e.transitions.getValue()?_h:[t]})),zm((function(t){return Promise.resolve(t)})),(r=e.ngModule.injector,i=e.configLoader,a=e.urlSerializer,s=e.config,function(t){return t.pipe(zm((function(t){return function(t,e,n,r,i){return new Dg(t,e,n,r,i).apply()}(r,i,a,t.extractedUrl,s).pipe(B((function(e){return o(o({},t),{urlAfterRedirects:e})})))})))}),Wm((function(t){e.currentNavigation=o(o({},e.currentNavigation),{finalUrl:t.urlAfterRedirects})})),function(t,n,r,i,a){return function(r){return r.pipe(Z((function(r){return function(t,e,n,r,i,o){return void 0===i&&(i="emptyOnly"),void 0===o&&(o="legacy"),new Xg(t,e,n,r,i,o).recognize()}(t,n,r.urlAfterRedirects,(s=r.urlAfterRedirects,e.serializeUrl(s)),i,a).pipe(B((function(t){return o(o({},r),{targetSnapshot:t})})));var s})))}}(e.rootComponentType,e.config,0,e.paramsInheritanceStrategy,e.relativeLinkResolution),Wm((function(t){"eager"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(t.urlAfterRedirects,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),Wm((function(t){var r=new nv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);n.next(r)})));if(u&&e.rawUrlTree&&e.urlHandlingStrategy.shouldProcessUrl(e.rawUrlTree)){var c=t.extractedUrl,l=t.source,d=t.restoredState,p=t.extras,f=new Km(t.id,e.serializeUrl(c),l,d);n.next(f);var h=rg(c,e.rootComponentType).snapshot;return Ld(o(o({},t),{targetSnapshot:h,urlAfterRedirects:c,extras:o(o({},p),{skipLocationChange:!1,replaceUrl:!1})}))}return e.rawUrlTree=t.rawUrl,e.browserUrlTree=t.urlAfterRedirects,t.resolve(null),_h})),iy((function(t){var n=t.extras;return e.hooks.beforePreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),Wm((function(t){var n=new rv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),B((function(t){return o(o({},t),{guards:(n=t.targetSnapshot,r=t.currentSnapshot,i=e.rootContexts,a=n._root,Fg(a,r?r._root:null,i,[a.value]))});var n,r,i,a})),function(t,e){return function(n){return n.pipe(Z((function(n){var r=n.targetSnapshot,i=n.currentSnapshot,a=n.guards,s=a.canActivateChecks,u=a.canDeactivateChecks;return 0===u.length&&0===s.length?Ld(o(o({},n),{guardsResult:!0})):function(t,e,n,r){return G(t).pipe(Z((function(t){return function(t,e,n,r,i){var o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?Ld(o.map((function(o){var a,s=Lg(o,e,i);if(function(t){return t&&Ig(t.canDeactivate)}(s))a=Av(s.canDeactivate(t,e,n,r));else{if(!Ig(s))throw new Error("Invalid CanDeactivate guard");a=Av(s(t,e,n,r))}return a.pipe(Nm())}))).pipe(Bg()):Ld(!0)}(t.component,t.route,n,e,r)})),Nm((function(t){return!0!==t}),!0))}(u,r,i,t).pipe(Z((function(n){return n&&"boolean"==typeof n?function(t,e,n,r){return G(e).pipe(Fd((function(e){return G([qg(e.route.parent,r),$g(e.route,r),Gg(t,e.path,n),Wg(t,e.route,n)]).pipe(wm(),Nm((function(t){return!0!==t}),!0))})),Nm((function(t){return!0!==t}),!0))}(r,s,t,e):Ld(n)})),B((function(t){return o(o({},n),{guardsResult:t})})))})))}}(e.ngModule.injector,(function(t){return e.triggerEvent(t)})),Wm((function(t){if(kg(t.guardsResult)){var n=gv('Redirecting to "'+e.serializeUrl(t.guardsResult)+'"');throw n.url=t.guardsResult,n}})),Wm((function(t){var n=new iv(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot,!!t.guardsResult);e.triggerEvent(n)})),Ud((function(t){if(!t.guardsResult){e.resetUrlToCurrentUrlTree();var r=new tv(t.id,e.serializeUrl(t.extractedUrl),"");return n.next(r),t.resolve(!1),!1}return!0})),iy((function(t){if(t.guards.canActivateChecks.length)return Ld(t).pipe(Wm((function(t){var n=new ov(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})),(n=e.paramsInheritanceStrategy,r=e.ngModule.injector,function(t){return t.pipe(Z((function(t){var e=t.targetSnapshot,i=t.guards.canActivateChecks;return i.length?G(i).pipe(Fd((function(t){return function(t,e,n,r){return function(t,e,n,r){var i=Object.keys(t);if(0===i.length)return Ld({});if(1===i.length){var o=i[0];return ry(t[o],e,n,r).pipe(B((function(t){var e;return(e={})[o]=t,e})))}var a={};return G(i).pipe(Z((function(i){return ry(t[i],e,n,r).pipe(B((function(t){return a[i]=t,t})))}))).pipe(Pm(),B((function(){return a})))}(t._resolve,t,e,r).pipe(B((function(e){return t._resolvedData=e,t.data=o(o({},t.data),og(t,n).resolve),null})))}(t.route,e,n,r)})),function(t,e){return arguments.length>=2?function(n){return S(Hm(t,e),xm(1),Em(e))(n)}:function(e){return S(Hm((function(e,n,r){return t(e,n,r+1)})),xm(1))(e)}}((function(t,e){return t})),B((function(e){return t}))):Ld(t)})))}),Wm((function(t){var n=new av(t.id,e.serializeUrl(t.extractedUrl),e.serializeUrl(t.urlAfterRedirects),t.targetSnapshot);e.triggerEvent(n)})));var n,r})),iy((function(t){var n=t.extras;return e.hooks.afterPreactivation(t.targetSnapshot,{navigationId:t.id,appliedUrlTree:t.extractedUrl,rawUrlTree:t.rawUrl,skipLocationChange:!!n.skipLocationChange,replaceUrl:!!n.replaceUrl})})),B((function(t){var n,r,i,s=(i=function t(e,n,r){if(r&&e.shouldReuseRoute(n.value,r.value.snapshot)){(c=r.value)._futureSnapshot=n.value;var i=function(e,n,r){return n.children.map((function(n){var i,o;try{for(var s=a(r.children),u=s.next();!u.done;u=s.next()){var c=u.value;if(e.shouldReuseRoute(c.value.snapshot,n.value))return t(e,n,c)}}catch(l){i={error:l}}finally{try{u&&!u.done&&(o=s.return)&&o.call(s)}finally{if(i)throw i.error}}return t(e,n)}))}(e,n,r);return new tg(c,i)}var o=e.retrieve(n.value);if(o){var s=o.route;return function t(e,n){if(e.value.routeConfig!==n.value.routeConfig)throw new Error("Cannot reattach ActivatedRouteSnapshot created from a different route");if(e.children.length!==n.children.length)throw new Error("Cannot reattach ActivatedRouteSnapshot with a different number of children");n.value._futureSnapshot=e.value;for(var r=0;r<e.children.length;++r)t(e.children[r],n.children[r])}(n,s),s}var u,c=new ig(new Dp((u=n.value).url),new Dp(u.params),new Dp(u.queryParams),new Dp(u.fragment),new Dp(u.data),u.outlet,u.component,u);return i=n.children.map((function(n){return t(e,n)})),new tg(c,i)}(e.routeReuseStrategy,(n=t.targetSnapshot)._root,(r=t.currentRouterState)?r._root:void 0),new ng(i,n));return o(o({},t),{targetRouterState:s})})),Wm((function(t){e.currentUrlTree=t.urlAfterRedirects,e.rawUrlTree=e.urlHandlingStrategy.merge(e.currentUrlTree,t.rawUrl),e.routerState=t.targetRouterState,"deferred"===e.urlUpdateStrategy&&(t.extras.skipLocationChange||e.setBrowserUrl(e.rawUrlTree,!!t.extras.replaceUrl,t.id,t.extras.state),e.browserUrlTree=t.urlAfterRedirects)})),(i=e.rootContexts,s=e.routeReuseStrategy,u=function(t){return e.triggerEvent(t)},B((function(t){return new Cg(s,t.targetRouterState,t.currentRouterState,u).activate(i),t}))),Wm({next:function(){c=!0},complete:function(){c=!0}}),(r=function(){if(!c&&!l){e.resetUrlToCurrentUrlTree();var r=new tv(t.id,e.serializeUrl(t.extractedUrl),"Navigation ID "+t.id+" is not equal to the current navigation id "+e.navigationId);n.next(r),t.resolve(!1)}e.currentNavigation=null},function(t){return t.lift(new Xm(r))}),Dm((function(r){if(l=!0,(s=r)&&s.ngNavigationCancelingError){var i=kg(r.url);i||(e.navigated=!0,e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl));var o=new tv(t.id,e.serializeUrl(t.extractedUrl),r.message);n.next(o),i?setTimeout((function(){var n=e.urlHandlingStrategy.merge(r.url,e.rawUrlTree);return e.scheduleNavigation(n,"imperative",null,{skipLocationChange:t.extras.skipLocationChange,replaceUrl:"eager"===e.urlUpdateStrategy},{resolve:t.resolve,reject:t.reject,promise:t.promise})}),0):t.resolve(!1)}else{e.resetStateAndUrl(t.currentRouterState,t.currentUrlTree,t.rawUrl);var a=new ev(t.id,e.serializeUrl(t.extractedUrl),r);n.next(a);try{t.resolve(e.errorHandler(r))}catch(u){t.reject(u)}}var s;return _h})))})))},t.prototype.resetRootComponentType=function(t){this.rootComponentType=t,this.routerState.root.component=this.rootComponentType},t.prototype.getTransition=function(){var t=this.transitions.value;return t.urlAfterRedirects=this.browserUrlTree,t},t.prototype.setTransition=function(t){this.transitions.next(o(o({},this.getTransition()),t))},t.prototype.initialNavigation=function(){this.setUpLocationChangeListener(),0===this.navigationId&&this.navigateByUrl(this.location.path(!0),{replaceUrl:!0})},t.prototype.setUpLocationChangeListener=function(){var t=this;this.locationSubscription||(this.locationSubscription=this.location.subscribe((function(e){var n=t.parseUrl(e.url),r="popstate"===e.type?"popstate":"hashchange",i=e.state&&e.state.navigationId?e.state:null;setTimeout((function(){t.scheduleNavigation(n,r,i,{replaceUrl:!0})}),0)})))},Object.defineProperty(t.prototype,"url",{get:function(){return this.serializeUrl(this.currentUrlTree)},enumerable:!0,configurable:!0}),t.prototype.getCurrentNavigation=function(){return this.currentNavigation},t.prototype.triggerEvent=function(t){this.events.next(t)},t.prototype.resetConfig=function(t){wv(t),this.config=t.map(Cv),this.navigated=!1,this.lastSuccessfulId=-1},t.prototype.ngOnDestroy=function(){this.dispose()},t.prototype.dispose=function(){this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=null)},t.prototype.createUrlTree=function(t,e){void 0===e&&(e={});var n=e.relativeTo,r=e.queryParams,i=e.fragment,a=e.preserveQueryParams,s=e.queryParamsHandling,c=e.preserveFragment;yr()&&a&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead.");var l=n||this.routerState.root,d=c?this.currentUrlTree.fragment:i,p=null;if(s)switch(s){case"merge":p=o(o({},this.currentUrlTree.queryParams),r);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=r||null}else p=a?this.currentUrlTree.queryParams:r||null;return null!==p&&(p=this.removeEmptyProps(p)),function(t,e,n,r,i){if(0===n.length)return fg(e.root,e.root,e,r,i);var o=function(t){if("string"==typeof t[0]&&1===t.length&&"/"===t[0])return new hg(!0,0,t);var e=0,n=!1,r=t.reduce((function(t,r,i){if("object"==typeof r&&null!=r){if(r.outlets){var o={};return Ev(r.outlets,(function(t,e){o[e]="string"==typeof t?t.split("/"):t})),u(t,[{outlets:o}])}if(r.segmentPath)return u(t,[r.segmentPath])}return"string"!=typeof r?u(t,[r]):0===i?(r.split("/").forEach((function(r,i){0==i&&"."===r||(0==i&&""===r?n=!0:".."===r?e++:""!=r&&t.push(r))})),t):u(t,[r])}),[]);return new hg(n,e,r)}(n);if(o.toRoot())return fg(e.root,new Dv([],{}),e,r,i);var a=function(t,e,n){if(t.isAbsolute)return new mg(e.root,!0,0);if(-1===n.snapshot._lastPathIndex)return new mg(n.snapshot._urlSegment,!0,0);var r=pg(t.commands[0])?0:1;return function(t,e,n){for(var r=t,i=e,o=n;o>i;){if(o-=i,!(r=r.parent))throw new Error("Invalid number of '../'");i=r.segments.length}return new mg(r,!1,i-o)}(n.snapshot._urlSegment,n.snapshot._lastPathIndex+r,t.numberOfDoubleDots)}(o,e,t),s=a.processChildren?yg(a.segmentGroup,a.index,o.commands):gg(a.segmentGroup,a.index,o.commands);return fg(a.segmentGroup,s,e,r,i)}(l,this.currentUrlTree,t,p,d)},t.prototype.navigateByUrl=function(t,e){void 0===e&&(e={skipLocationChange:!1}),yr()&&this.isNgZoneEnabled&&!Bu.isInAngularZone()&&this.console.warn("Navigation triggered outside Angular zone, did you forget to call 'ngZone.run()'?");var n=kg(t)?t:this.parseUrl(t),r=this.urlHandlingStrategy.merge(n,this.rawUrlTree);return this.scheduleNavigation(r,"imperative",null,e)},t.prototype.navigate=function(t,e){return void 0===e&&(e={skipLocationChange:!1}),function(t){for(var e=0;e<t.length;e++){var n=t[e];if(null==n)throw new Error("The requested path contains "+n+" segment at index "+e)}}(t),this.navigateByUrl(this.createUrlTree(t,e),e)},t.prototype.serializeUrl=function(t){return this.urlSerializer.serialize(t)},t.prototype.parseUrl=function(t){var e;try{e=this.urlSerializer.parse(t)}catch(n){e=this.malformedUriErrorHandler(n,this.urlSerializer,t)}return e},t.prototype.isActive=function(t,e){if(kg(t))return Ov(this.currentUrlTree,t,e);var n=this.parseUrl(t);return Ov(this.currentUrlTree,n,e)},t.prototype.removeEmptyProps=function(t){return Object.keys(t).reduce((function(e,n){var r=t[n];return null!=r&&(e[n]=r),e}),{})},t.prototype.processNavigations=function(){var t=this;this.navigations.subscribe((function(e){t.navigated=!0,t.lastSuccessfulId=e.id,t.events.next(new Ym(e.id,t.serializeUrl(e.extractedUrl),t.serializeUrl(t.currentUrlTree))),t.lastSuccessfulNavigation=t.currentNavigation,t.currentNavigation=null,e.resolve(!0)}),(function(e){t.console.warn("Unhandled Navigation Error: ")}))},t.prototype.scheduleNavigation=function(t,e,n,r,i){var o,a,s,u=this.getTransition();if(u&&"imperative"!==e&&"imperative"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"hashchange"==e&&"popstate"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);if(u&&"popstate"==e&&"hashchange"===u.source&&u.rawUrl.toString()===t.toString())return Promise.resolve(!0);i?(o=i.resolve,a=i.reject,s=i.promise):s=new Promise((function(t,e){o=t,a=e}));var c=++this.navigationId;return this.setTransition({id:c,source:e,restoredState:n,currentUrlTree:this.currentUrlTree,currentRawUrl:this.rawUrlTree,rawUrl:t,extras:r,resolve:o,reject:a,promise:s,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),s.catch((function(t){return Promise.reject(t)}))},t.prototype.setBrowserUrl=function(t,e,n,r){var i=this.urlSerializer.serialize(t);r=r||{},this.location.isCurrentPathEqualTo(i)||e?this.location.replaceState(i,"",o(o({},r),{navigationId:n})):this.location.go(i,"",o(o({},r),{navigationId:n}))},t.prototype.resetStateAndUrl=function(t,e,n){this.routerState=t,this.currentUrlTree=e,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n),this.resetUrlToCurrentUrlTree()},t.prototype.resetUrlToCurrentUrlTree=function(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",{navigationId:this.lastSuccessfulId})},t.\u0275fac=function(t){Yo()},t.\u0275dir=Ie({type:t}),t}(),my=function(){function t(t,e,n,r,i){this.router=t,this.route=e,this.commands=[],null==n&&r.setAttribute(i.nativeElement,"tabindex","0")}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){yr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated!, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.onClick=function(){var t={skipLocationChange:gy(this.skipLocationChange),replaceUrl:gy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,t),!0},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:gy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:gy(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(Jo(hy),Jo(ig),Ko("tabindex"),Jo(ms),Jo(ds))},t.\u0275dir=Ie({type:t,selectors:[["","routerLink","",5,"a",5,"area"]],hostBindings:function(t,e){1&t&&ua("click",(function(){return e.onClick()}))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"}}),t}(),vy=function(){function t(t,e,n){var r=this;this.router=t,this.route=e,this.locationStrategy=n,this.commands=[],this.subscription=t.events.subscribe((function(t){t instanceof Ym&&r.updateTargetUrlAndHref()}))}return Object.defineProperty(t.prototype,"routerLink",{set:function(t){this.commands=null!=t?Array.isArray(t)?t:[t]:[]},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"preserveQueryParams",{set:function(t){yr()&&console&&console.warn&&console.warn("preserveQueryParams is deprecated, use queryParamsHandling instead."),this.preserve=t},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.updateTargetUrlAndHref()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.onClick=function(t,e,n,r){if(0!==t||e||n||r)return!0;if("string"==typeof this.target&&"_self"!=this.target)return!0;var i={skipLocationChange:gy(this.skipLocationChange),replaceUrl:gy(this.replaceUrl),state:this.state};return this.router.navigateByUrl(this.urlTree,i),!1},t.prototype.updateTargetUrlAndHref=function(){this.href=this.locationStrategy.prepareExternalUrl(this.router.serializeUrl(this.urlTree))},Object.defineProperty(t.prototype,"urlTree",{get:function(){return this.router.createUrlTree(this.commands,{relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,preserveQueryParams:gy(this.preserve),queryParamsHandling:this.queryParamsHandling,preserveFragment:gy(this.preserveFragment)})},enumerable:!0,configurable:!0}),t.\u0275fac=function(e){return new(e||t)(Jo(hy),Jo(ig),Jo(Pc))},t.\u0275dir=Ie({type:t,selectors:[["a","routerLink",""],["area","routerLink",""]],hostVars:2,hostBindings:function(t,e){1&t&&ua("click",(function(t){return e.onClick(t.button,t.ctrlKey,t.metaKey,t.shiftKey)})),2&t&&(Ha("href",e.href,_r),Wo("target",e.target))},inputs:{routerLink:"routerLink",preserveQueryParams:"preserveQueryParams",target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",state:"state"},features:[Qa]}),t}();function gy(t){return""===t||!!t}var yy=function(){function t(t,e,n,r,i){var o=this;this.router=t,this.element=e,this.renderer=n,this.link=r,this.linkWithHref=i,this.classes=[],this.isActive=!1,this.routerLinkActiveOptions={exact:!1},this.subscription=t.events.subscribe((function(t){t instanceof Ym&&o.update()}))}return t.prototype.ngAfterContentInit=function(){var t=this;this.links.changes.subscribe((function(e){return t.update()})),this.linksWithHrefs.changes.subscribe((function(e){return t.update()})),this.update()},Object.defineProperty(t.prototype,"routerLinkActive",{set:function(t){var e=Array.isArray(t)?t:t.split(" ");this.classes=e.filter((function(t){return!!t}))},enumerable:!0,configurable:!0}),t.prototype.ngOnChanges=function(t){this.update()},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.update=function(){var t=this;this.links&&this.linksWithHrefs&&this.router.navigated&&Promise.resolve().then((function(){var e=t.hasActiveLinks();t.isActive!==e&&(t.isActive=e,t.classes.forEach((function(n){e?t.renderer.addClass(t.element.nativeElement,n):t.renderer.removeClass(t.element.nativeElement,n)})))}))},t.prototype.isLinkActive=function(t){var e=this;return function(n){return t.isActive(n.urlTree,e.routerLinkActiveOptions.exact)}},t.prototype.hasActiveLinks=function(){var t=this.isLinkActive(this.router);return this.link&&t(this.link)||this.linkWithHref&&t(this.linkWithHref)||this.links.some(t)||this.linksWithHrefs.some(t)},t.\u0275fac=function(e){return new(e||t)(Jo(hy),Jo(ds),Jo(ms),Jo(my,8),Jo(vy,8))},t.\u0275dir=Ie({type:t,selectors:[["","routerLinkActive",""]],contentQueries:function(t,e,n){var r;1&t&&(gu(n,my,!0),gu(n,vy,!0)),2&t&&(vu(r=yu())&&(e.links=r),vu(r=yu())&&(e.linksWithHrefs=r))},inputs:{routerLinkActiveOptions:"routerLinkActiveOptions",routerLinkActive:"routerLinkActive"},exportAs:["routerLinkActive"],features:[Qa]}),t}(),by=function(){return function(){this.outlet=null,this.route=null,this.resolver=null,this.children=new wy,this.attachRef=null}}(),wy=function(){function t(){this.contexts=new Map}return t.prototype.onChildOutletCreated=function(t,e){var n=this.getOrCreateContext(t);n.outlet=e,this.contexts.set(t,n)},t.prototype.onChildOutletDestroyed=function(t){var e=this.getContext(t);e&&(e.outlet=null)},t.prototype.onOutletDeactivated=function(){var t=this.contexts;return this.contexts=new Map,t},t.prototype.onOutletReAttached=function(t){this.contexts=t},t.prototype.getOrCreateContext=function(t){var e=this.getContext(t);return e||(e=new by,this.contexts.set(t,e)),e},t.prototype.getContext=function(t){return this.contexts.get(t)||null},t}(),xy=function(){function t(t,e,n,r,i){this.parentContexts=t,this.location=e,this.resolver=n,this.changeDetector=i,this.activated=null,this._activatedRoute=null,this.activateEvents=new ou,this.deactivateEvents=new ou,this.name=r||"primary",t.onChildOutletCreated(this.name,this)}return t.prototype.ngOnDestroy=function(){this.parentContexts.onChildOutletDestroyed(this.name)},t.prototype.ngOnInit=function(){if(!this.activated){var t=this.parentContexts.getContext(this.name);t&&t.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.resolver||null))}},Object.defineProperty(t.prototype,"isActivated",{get:function(){return!!this.activated},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"component",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this.activated.instance},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRoute",{get:function(){if(!this.activated)throw new Error("Outlet is not activated");return this._activatedRoute},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"activatedRouteData",{get:function(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}},enumerable:!0,configurable:!0}),t.prototype.detach=function(){if(!this.activated)throw new Error("Outlet is not activated");this.location.detach();var t=this.activated;return this.activated=null,this._activatedRoute=null,t},t.prototype.attach=function(t,e){this.activated=t,this._activatedRoute=e,this.location.insert(t.hostView)},t.prototype.deactivate=function(){if(this.activated){var t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}},t.prototype.activateWith=function(t,e){if(this.isActivated)throw new Error("Cannot activate an already activated outlet");this._activatedRoute=t;var n=(e=e||this.resolver).resolveComponentFactory(t._futureSnapshot.routeConfig.component),r=this.parentContexts.getOrCreateContext(this.name).children,i=new _y(t,r,this.location.injector);this.activated=this.location.createComponent(n,this.location.length,i),this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)},t.\u0275fac=function(e){return new(e||t)(Jo(wy),Jo(Vs),Jo(ls),Ko("name"),Jo(mo))},t.\u0275dir=Ie({type:t,selectors:[["router-outlet"]],outputs:{activateEvents:"activate",deactivateEvents:"deactivate"},exportAs:["outlet"]}),t}(),_y=function(){function t(t,e,n){this.route=t,this.childContexts=e,this.parent=n}return t.prototype.get=function(t,e){return t===ig?this.route:t===wy?this.childContexts:this.parent.get(t,e)},t}(),Cy=function(){return function(){}}(),Sy=function(){function t(){}return t.prototype.preload=function(t,e){return e().pipe(Dm((function(){return Ld(null)})))},t}(),Iy=function(){function t(){}return t.prototype.preload=function(t,e){return Ld(null)},t}(),ky=function(){function t(t,e,n,r,i){this.router=t,this.injector=r,this.preloadingStrategy=i,this.loader=new uy(e,n,(function(e){return t.triggerEvent(new sv(e))}),(function(e){return t.triggerEvent(new uv(e))}))}return t.prototype.setUpPreloading=function(){var t=this;this.subscription=this.router.events.pipe(Ud((function(t){return t instanceof Ym})),Fd((function(){return t.preload()}))).subscribe((function(){}))},t.prototype.preload=function(){var t=this.injector.get(oe);return this.processRoutes(t,this.router.config)},t.prototype.ngOnDestroy=function(){this.subscription.unsubscribe()},t.prototype.processRoutes=function(t,e){var n,r,i=[];try{for(var o=a(e),s=o.next();!s.done;s=o.next()){var u=s.value;if(u.loadChildren&&!u.canLoad&&u._loadedConfig){var c=u._loadedConfig;i.push(this.processRoutes(c.module,c.routes))}else u.loadChildren&&!u.canLoad?i.push(this.preloadConfig(t,u)):u.children&&i.push(this.processRoutes(t,u.children))}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=o.return)&&r.call(o)}finally{if(n)throw n.error}}return G(i).pipe(J(),B((function(t){})))},t.prototype.preloadConfig=function(t,e){var n=this;return this.preloadingStrategy.preload(e,(function(){return n.loader.load(t.injector,e).pipe(Z((function(t){return e._loadedConfig=t,n.processRoutes(t.module,t.routes)})))}))},t.\u0275fac=function(e){return new(e||t)(ee(hy),ee(lc),ee(Lu),ee(Po),ee(Cy))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}(),Ty=function(){function t(t,e,n){void 0===n&&(n={}),this.router=t,this.viewportScroller=e,this.options=n,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},n.scrollPositionRestoration=n.scrollPositionRestoration||"disabled",n.anchorScrolling=n.anchorScrolling||"disabled"}return t.prototype.init=function(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()},t.prototype.createScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof Km?(t.store[t.lastId]=t.viewportScroller.getScrollPosition(),t.lastSource=e.navigationTrigger,t.restoredId=e.restoredState?e.restoredState.navigationId:0):e instanceof Ym&&(t.lastId=e.id,t.scheduleScrollEvent(e,t.router.parseUrl(e.urlAfterRedirects).fragment))}))},t.prototype.consumeScrollEvents=function(){var t=this;return this.router.events.subscribe((function(e){e instanceof fv&&(e.position?"top"===t.options.scrollPositionRestoration?t.viewportScroller.scrollToPosition([0,0]):"enabled"===t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition(e.position):e.anchor&&"enabled"===t.options.anchorScrolling?t.viewportScroller.scrollToAnchor(e.anchor):"disabled"!==t.options.scrollPositionRestoration&&t.viewportScroller.scrollToPosition([0,0]))}))},t.prototype.scheduleScrollEvent=function(t,e){this.router.triggerEvent(new fv(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,e))},t.prototype.ngOnDestroy=function(){this.routerEventsSubscription&&this.routerEventsSubscription.unsubscribe(),this.scrollEventsSubscription&&this.scrollEventsSubscription.unsubscribe()},t.\u0275fac=function(t){Yo()},t.\u0275dir=Ie({type:t}),t}(),Ey=new Wt("ROUTER_CONFIGURATION"),Ay=new Wt("ROUTER_FORROOT_GUARD"),Oy=[Vc,{provide:Vv,useClass:jv},{provide:hy,useFactory:function(t,e,n,r,i,o,a,s,u,c){void 0===s&&(s={});var l=new hy(null,t,e,n,r,i,o,kv(a));if(u&&(l.urlHandlingStrategy=u),c&&(l.routeReuseStrategy=c),s.errorHandler&&(l.errorHandler=s.errorHandler),s.malformedUriErrorHandler&&(l.malformedUriErrorHandler=s.malformedUriErrorHandler),s.enableTracing){var d=bc();l.events.subscribe((function(t){d.logGroup("Router Event: "+t.constructor.name),d.log(t.toString()),d.log(t),d.logGroupEnd()}))}return s.onSameUrlNavigation&&(l.onSameUrlNavigation=s.onSameUrlNavigation),s.paramsInheritanceStrategy&&(l.paramsInheritanceStrategy=s.paramsInheritanceStrategy),s.urlUpdateStrategy&&(l.urlUpdateStrategy=s.urlUpdateStrategy),s.relativeLinkResolution&&(l.relativeLinkResolution=s.relativeLinkResolution),l},deps:[Vv,wy,Vc,Po,lc,Lu,sy,Ey,[cy,new dt],[oy,new dt]]},wy,{provide:ig,useFactory:function(t){return t.routerState.root},deps:[hy]},{provide:lc,useClass:fc},ky,Iy,Sy,{provide:Ey,useValue:{enableTracing:!1}}];function Py(){return new rc("Router",hy)}var Dy=function(){function t(t,e){}var e;return e=t,t.forRoot=function(t,n){return{ngModule:e,providers:[Oy,Vy(t),{provide:Ay,useFactory:Ny,deps:[[hy,new dt,new ft]]},{provide:Ey,useValue:n||{}},{provide:Pc,useFactory:Ry,deps:[_c,[new lt(Mc),new dt],Ey]},{provide:Ty,useFactory:My,deps:[hy,rl,Ey]},{provide:Cy,useExisting:n&&n.preloadingStrategy?n.preloadingStrategy:Iy},{provide:rc,multi:!0,useFactory:Py},[jy,{provide:xu,multi:!0,useFactory:zy,deps:[jy]},{provide:Fy,useFactory:Ly,deps:[jy]},{provide:Eu,multi:!0,useExisting:Fy}]]}},t.forChild=function(t){return{ngModule:e,providers:[Vy(t)]}},t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)(ee(Ay,8),ee(hy,8))}}),t}();function My(t,e,n){return n.scrollOffset&&e.setOffset(n.scrollOffset),new Ty(t,e,n)}function Ry(t,e,n){return void 0===n&&(n={}),n.useHash?new Nc(t,e):new Rc(t,e)}function Ny(t){if(t)throw new Error("RouterModule.forRoot() called twice. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function Vy(t){return[{provide:Do,multi:!0,useValue:t},{provide:sy,multi:!0,useValue:t}]}var jy=function(){function t(t){this.injector=t,this.initNavigation=!1,this.resultOfPreactivationDone=new P}return t.prototype.appInitializer=function(){var t=this;return this.injector.get(Sc,Promise.resolve(null)).then((function(){var e=null,n=new Promise((function(t){return e=t})),r=t.injector.get(hy),i=t.injector.get(Ey);if(t.isLegacyDisabled(i)||t.isLegacyEnabled(i))e(!0);else if("disabled"===i.initialNavigation)r.setUpLocationChangeListener(),e(!0);else{if("enabled"!==i.initialNavigation)throw new Error("Invalid initialNavigation options: '"+i.initialNavigation+"'");r.hooks.afterPreactivation=function(){return t.initNavigation?Ld(null):(t.initNavigation=!0,e(!0),t.resultOfPreactivationDone)},r.initialNavigation()}return n}))},t.prototype.bootstrapListener=function(t){var e=this.injector.get(Ey),n=this.injector.get(ky),r=this.injector.get(Ty),i=this.injector.get(hy),o=this.injector.get(uc);t===o.components[0]&&(this.isLegacyEnabled(e)?i.initialNavigation():this.isLegacyDisabled(e)&&i.setUpLocationChangeListener(),n.setUpPreloading(),r.init(),i.resetRootComponentType(o.componentTypes[0]),this.resultOfPreactivationDone.next(null),this.resultOfPreactivationDone.complete())},t.prototype.isLegacyEnabled=function(t){return"legacy_enabled"===t.initialNavigation||!0===t.initialNavigation||void 0===t.initialNavigation},t.prototype.isLegacyDisabled=function(t){return"legacy_disabled"===t.initialNavigation||!1===t.initialNavigation},t.\u0275fac=function(e){return new(e||t)(ee(Po))},t.\u0275prov=gt({token:t,factory:function(e){return t.\u0275fac(e)}}),t}();function zy(t){return t.appInitializer.bind(t)}function Ly(t){return t.bootstrapListener.bind(t)}var Fy=new Wt("Router Initializer"),Uy=function(){return{exact:!0}},Hy=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-nav"]],decls:28,vars:4,consts:[[1,"navbar","navbar-expand-lg","navbar-dark","bg-dark"],[1,"container"],["href","https://github.com/dhilt/ngx-ui-scroll","aria-label","View source on Github",1,"github-corner"],["width","80","height","80","viewBox","0 0 250 250","aria-hidden","true",2,"fill","#fff","color","#343a40","position","absolute","top","0","border","0","left","auto","right","0"],["d","M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"],["d","M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2","fill","currentColor",1,"octo-arm",2,"transform-origin","130px 106px"],["d","M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z","fill","currentColor",1,"octo-body"],[1,"main-menu"],["href","https://github.com/dhilt/ngx-ui-scroll",1,"navbar-brand"],["routerLink","/","routerLinkActive","active",1,"navbar-link",3,"routerLinkActiveOptions"],["routerLink","/datasource","routerLinkActive","active",1,"navbar-link"],["routerLink","/settings","routerLinkActive","active",1,"navbar-link",3,"routerLinkActiveOptions"],["routerLink","/adapter","routerLinkActive","active",1,"navbar-link"],["routerLink","/experimental","routerLinkActive","active",1,"navbar-link"],[1,"copyrights"],["href","https://github.com/dhilt"],["href","http://www.hill30.com/"]],template:function(t,e){1&t&&(na(0,"nav",0),na(1,"div",1),na(2,"a",2),Je.lFrame.currentNamespace="http://www.w3.org/2000/svg",na(3,"svg",3),ia(4,"path",4),ia(5,"path",5),ia(6,"path",6),ra(),ra(),Je.lFrame.currentNamespace=null,na(7,"div",7),na(8,"a",8),ja(9,"ngx-ui-scroll"),ra(),na(10,"a",9),ja(11,"Home"),ra(),na(12,"a",10),ja(13,"Datasource"),ra(),na(14,"a",11),ja(15,"Settings"),ra(),na(16,"a",12),ja(17,"Adapter"),ra(),na(18,"a",13),ja(19,"Experimental"),ra(),ra(),ia(20,"br"),na(21,"span",14),ja(22," 2020 \xa9 "),na(23,"a",15),ja(24,"dhilt"),ra(),ja(25,", "),na(26,"a",16),ja(27,"Hill30 Inc"),ra(),ra(),ra(),ra()),2&t&&(Lr(10),ta("routerLinkActiveOptions",Ys(2,Uy)),Lr(4),ta("routerLinkActiveOptions",Ys(3,Uy)))},directives:[vy,yy],styles:[".github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n      animation: octocat-wave 560ms ease-in-out\n    }\n\n    @keyframes octocat-wave {\n      0%, 100% {\n        transform: rotate(0)\n      }\n      20%, 60% {\n        transform: rotate(-25deg)\n      }\n      40%, 80% {\n        transform: rotate(10deg)\n      }\n    }\n\n    @media (max-width: 500px) {\n      .github-corner[_ngcontent-%COMP%]:hover   .octo-arm[_ngcontent-%COMP%] {\n        animation: none\n      }\n\n      .github-corner[_ngcontent-%COMP%]   .octo-arm[_ngcontent-%COMP%] {\n        animation: octocat-wave 560ms ease-in-out\n      }\n    }"]}),t}();function By(t,e){1&t&&(na(0,"div"),ia(1,"app-nav"),na(2,"div",2),ia(3,"router-outlet"),ra(),ra())}function $y(t,e){1&t&&(na(0,"div",3),ia(1,"router-outlet"),ra())}var qy=function(){function t(t,e){var n=this;this.route=t,this.router=e,this.hasLayout=!0,this.subscriptions=[],this.subscriptions.push(e.events.pipe(Ud((function(t){return t instanceof Km}))).subscribe((function(t){var e=t.url;n.hasLayout=!("/window"===e||"/test"===e),"/window"===e?document.body.classList.add("entire-window"):document.body.classList.remove("entire-window")}))),"scrollRestoration"in history&&(history.scrollRestoration="manual")}return t.prototype.ngAfterViewInit=function(){this.subscriptions.push(this.route.fragment.subscribe((function(t){t?setTimeout((function(){var e=document.getElementById(t);e&&e.scrollIntoView()})):window.scrollTo(0,0)})))},t.prototype.ngOnDestroy=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.\u0275fac=function(e){return new(e||t)(Jo(ig),Jo(hy))},t.\u0275cmp=be({type:t,selectors:[["app-root"]],decls:2,vars:2,consts:[[4,"ngIf"],["class","no-layout",4,"ngIf"],[1,"container","mb-5"],[1,"no-layout"]],template:function(t,e){1&t&&(Xo(0,By,4,0,"div",0),Xo(1,$y,2,0,"div",1)),2&t&&(ta("ngIf",e.hasLayout),Lr(1),ta("ngIf",!e.hasLayout))},directives:[Gc,Hy,xy],encapsulation:2}),t}(),Wy=function(t){return t.Component="Component",t.Template="Template",t.Styles="CSS",t.Datasource="Datasource",t.Server="Server",t}({}),Gy=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-title"]],inputs:{context:"context"},decls:4,vars:4,consts:[[3,"id"],[3,"href"]],template:function(t,e){1&t&&(na(0,"h3",0),ja(1),na(2,"a",1),ja(3,"#"),ra(),ra()),2&t&&(ma("id",e.context.titleId),Lr(1),La(" ",e.context.title," "),Lr(1),ga("href","#/",e.context.scope,"#",e.context.titleId,"",_r))},encapsulation:2}),t}();function Zy(t,e){if(1&t&&(na(0,"tab",5),na(1,"pre",6),ja(2),ra(),ra()),2&t){var n=e.index,r=da(3);ma("heading",r.sources[n].name),ta("active",r.sources[n].active),Lr(2),za(r.sources[n].text)}}function Xy(t,e){if(1&t&&(na(0,"tabset"),Xo(1,Zy,3,3,"tab",4),ra()),2&t){var n=da(2);Lr(1),ta("ngForOf",n.sources)}}function Qy(t,e){if(1&t&&(na(0,"pre",6),ja(1),ra()),2&t){var n=da(2);Lr(1),za(n.sources[0].text)}}function Jy(t,e){if(1&t&&(na(0,"div",1),Xo(1,Xy,2,1,"tabset",2),Xo(2,Qy,2,1,"pre",3),ra()),2&t){var n=da();Lr(1),ta("ngIf",n.sources.length>1),Lr(1),ta("ngIf",1===n.sources.length)}}var Ky=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-sources"]],inputs:{sources:"sources"},decls:1,vars:1,consts:[["class","sources",4,"ngIf"],[1,"sources"],[4,"ngIf"],["class","prettyprint",4,"ngIf"],[3,"heading","active",4,"ngFor","ngForOf"],[3,"heading","active"],[1,"prettyprint"]],template:function(t,e){1&t&&Xo(0,Jy,3,2,"div",0),2&t&&ta("ngIf",e.sources&&e.sources.length)},directives:[Gc,Ep,qc,Ap],encapsulation:2}),t}();function Yy(t,e){1&t&&ja(0),2&t&&za(e.item.text)}function tb(t,e){}var eb=function(t){return{item:t}};function nb(t,e){if(1&t&&(na(0,"div"),na(1,"div"),Xo(2,tb,0,0,"ng-template",13),ra(),ra()),2&t){var n=e.$implicit,r=da(2),i=Qo(1);Lr(1),Ua("item ",r.context.addClass||"",""),Ia("height",n.hasOwnProperty("height")?n.height+"px":null),Lr(1),ta("ngTemplateOutlet",r.itemTemplate||i)("ngTemplateOutletContext",tu(7,eb,n))}}function rb(t,e){var n,r,i,o;1&t&&(function(t,e,n){var r=Ye(),i=tn(),o=t+20,a=i.firstCreatePass?function(t,e,n,r,i){var o=e.consts,a=Ze(o,r),s=Qr(e,n[6],t,4,"ng-container",a);return null!==a&&Vo(s,a),ci(e,n,s,Ze(o,i)),null!==e.queries&&e.queries.elementStart(e,s),s}(t,i,r,e,n):i.data[o];rn(a,!0);var s=r[o]=r[11].createComment("");Ki(i,r,s,a),Cr(s,r),Me(a)&&(ni(i,r,a),ei(i,a,r)),null!=n&&ri(r,a)}(0,n,r),i=nn(),o=tn(),on()?an():rn(i=i.parent,!1),o.firstCreatePass&&(Tn(o,i),Pe(i)&&o.queries.elementEnd(i)))}function ib(t,e){if(1&t&&(na(0,"div"),ja(1," Viewport scrollable size: "),na(2,"span"),ja(3),ra(),ra(),na(4,"div"),ja(5," DOM elements count: "),na(6,"span"),ja(7),ra(),ra(),na(8,"div"),ja(9," Datasource.get log "),na(10,"div",18),na(11,"pre"),ja(12),ra(),ra(),ra()),2&t){var n=da(3);Ua("elements ",n.context.addClass||"",""),Lr(3),za(n.viewport(n.context.viewportId)),Lr(1),Ua("elements ",n.context.addClass||"",""),Lr(3),za(n.elements(n.context.viewportId)),Lr(1),Ua("datasource ",n.context.addClass||"",""),Lr(4),za(n.context.log)}}function ob(t,e){if(1&t&&(na(0,"div"),ja(1," Datasource.get log "),na(2,"div",18),na(3,"pre"),ja(4),ra(),ra(),ra()),2&t){var n=da(3);Ua("datasource ",n.context.addClass||"",""),Lr(4),za(n.context.log)}}function ab(t,e){if(1&t&&(na(0,"div",14),Xo(1,rb,1,0,"ng-container",15),Xo(2,ib,13,12,"ng-template",null,16,wu),Xo(4,ob,5,4,"ng-template",null,17,wu),ra()),2&t){var n=Qo(3),r=Qo(5),i=da(2);Lr(1),ta("ngIf",!i.context.logViewOnly)("ngIfThen",n)("ngIfElse",r)}}function sb(t,e){if(1&t&&(na(0,"div",7),na(1,"div",8),na(2,"div",9),Xo(3,nb,3,9,"div",10),ra(),ra(),Xo(4,ab,6,3,"div",11),ia(5,"div",12),ra()),2&t){var n=da();Lr(2),Ua("viewport ",n.context.addClass||"",""),ma("id",n.context.viewportId),Lr(1),ta("uiScrollOf",n.datasource),Lr(1),ta("ngIf",n.init&&!n.context.noInfo)}}var ub=[[["","actions",""]],[["","description",""]]],cb=["[actions]","[description]"],lb=function(){function t(){this.init=!1}return t.prototype.viewport=function(t){var e=document.getElementById(t);return e?e[this.datasource.settings&&this.datasource.settings.horizontal?"scrollWidth":"scrollHeight"].toString():""},t.prototype.elements=function(t){var e=document.getElementById(t);return e?((e.children[0].childElementCount||0)-2).toString(10):""},t.prototype.ngOnInit=function(){var t=this;setTimeout((function(){t.sources.every((function(t){return!t.active}))&&(t.sources[0].active=!0),t.init=!0}))},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo"]],inputs:{datasource:"datasource",context:"context",sources:"sources",itemTemplate:"itemTemplate"},ngContentSelectors:cb,decls:10,vars:3,consts:[["defaultItemTemplate",""],[1,"demo"],[3,"context"],[1,"actions"],["class","work",4,"ngIf"],[3,"sources"],[1,"description"],[1,"work"],[1,"viewport-wrapper"],[3,"id"],[4,"uiScroll","uiScrollOf"],["class","log",4,"ngIf"],[1,"clearfix","mb-3"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],[1,"log"],[4,"ngIf","ngIfThen","ngIfElse"],["allView",""],["logView",""],[1,"pre-wrapper"]],template:function(t,e){1&t&&(fa(ub),Xo(0,Yy,1,1,"ng-template",null,0,wu),na(2,"div",1),ia(3,"app-demo-title",2),na(4,"div",3),ha(5),ra(),Xo(6,sb,6,6,"div",4),ia(7,"app-demo-sources",5),na(8,"div",6),ha(9,1),ra(),ra()),2&t&&(Lr(3),ta("context",e.context),Lr(3),ta("ngIf",!e.context.noWorkView),Lr(1),ta("sources",e.sources))},directives:[Gy,Gc,Ky,fm,Jc],encapsulation:2}),t}(),db=function(){function t(t){this.http=t}return t.prototype.getData=function(t,e){return this.http.get("/api/data?index="+t+"&count="+e)},t.\u0275prov=gt({token:t,factory:t.\u0275fac=function(e){return new(e||t)(ee(ap))}}),t}(),pb=function(){function t(t){var e=this;this.remoteDataService=t,this.demoContext={scope:"datasource",title:"Remote datasource",titleId:"remote",logViewOnly:!0,log:"",count:0},this.datasource={get:function(t,n){return e.demoContext.log=++e.demoContext.count+") get items ["+t+".."+(t+n-1)+"]\n"+e.demoContext.log,e.remoteDataService.getData(t,n)}},this.sources=[{name:"Service/Component",text:"@Injectable()\nexport class RemoteDataService {\n\n  constructor(private http: HttpClient) {\n  }\n\n  getData(index: number, count: number): Observable<any> {\n    return this.http.get(\n      `/api/data?index=${index}&count=${count}`\n    );\n  }\n}\n\n@Component(...)\nexport class DemoRemoteDatasourceComponent {\n\n  datasource: IDatasource = {\n    get: (index, count) =>\n      this.remoteDataService.getData(index, count)\n  };\n\n  constructor(private remoteDataService: RemoteDataService) {\n  }\n}"},{name:Wy.Server,text:"const MIN = -99;\nconst MAX = 900;\n\napp.get('/api/data', (req, res) => {\n  const index = parseInt(req.query.index, 10);\n  const count = parseInt(req.query.count, 10);\n  if (isNaN(index) || isNaN(count)) {\n    return res.send([]);\n  }\n  const start = Math.max(MIN, index);\n  const end = Math.min(index + count - 1, MAX);\n  if (start > end) {\n    return res.send([]);\n  }\n  const result = [];\n  for (let i = start; i <= end; i++) {\n    result.push({ id: i, text: 'item #' + i });\n  }\n  res.send(result);\n});"}]}return t.\u0275fac=function(e){return new(e||t)(Jo(db))},t.\u0275cmp=be({type:t,selectors:[["app-remote-datasource"]],decls:10,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," In case the source of data is accessible via some remote API, the "),na(4,"em"),ja(5,"Datasource.get"),ra(),ja(6," could be implemented using Observable signature. In this demo handling "),na(7,"em"),ja(8,"/api/data"),ra(),ja(9,' GET requests is a part of node.js application ("Server" tab). Again and again, the only requirement is that our API handler must return an array of index-count items or empty array if we are out of range. '),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}();function fb(t,e){if(1&t&&(na(0,"div"),na(1,"div",55),ja(2),ra(),ra()),2&t){var n=e.$implicit,r=e.even;Lr(1),ka("even",r),Lr(1),La(" ",n.text," ")}}var hb=function(){function t(){var t=this;this.reloadIndex=999,this.delay=25,this.datasource=new rf({get:function(e,n,r){for(var i=[],o=e;o<=e+n-1;o++)i.push({id:o,text:"item #"+o});t.delay?setTimeout((function(){return r(i)}),t.delay):r(i)},settings:{padding:.5,bufferSize:15,itemSize:25,startIndex:1},devSettings:{debug:!1}}),this.sources=[{name:Wy.Component,text:"delay = 25;\nreloadIndex = 999;\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    if (this.delay) {\n      setTimeout(() => success(data), this.delay);\n    } else {\n      success(data);\n    }\n  }\n});\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource; let even = even">\n    <div class="item" [class.even]="even">\n      {{item.text}}\n    </div>\n  </div>\n</div>\n\n\x3c!-- adapter props and methods: --\x3e\n\nFirst visible:\n${{datasource.adapter.firstVisible.$index}}\n\nLast visible:\n${{(datasource.adapter.lastVisible$ | async)?.$index}}\n\nItems in DOM:\n{{datasource.adapter.itemsCount}}\n\nIs loading:\n{{datasource.adapter.isLoading}}\n\nDatasource delay (ms):\n<input [(ngModel)]="delay" type="number">\n\nIndex to reload:\n<input [(ngModel)]="reloadIndex" type="number">\n<button (click)="doReload()">Reload</button>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.item.even {\n  background-color: #f2f2f2;\n}"}]}return t.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-home"]],decls:169,vars:16,consts:[["href","https://github.com/angular-ui/ui-scroll"],["href","https://github.com/dhilt/ngx-ui-scroll"],[1,"demo"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"log"],[2,"line-height","25px","margin-bottom","2px"],[2,"display","flex","align-items","center","margin-bottom","2px"],["type","number",2,"width","84px",3,"ngModel","ngModelChange"],[2,"display","flex","align-items","center"],["type","number",2,"width","60px",3,"ngModel","ngModelChange"],[2,"width","60px",3,"click"],[1,"clearfix","mb-3"],[1,"sources"],[3,"heading"],[1,"prettyprint","lang-html"],[1,"prettyprint"],["href","#/datasource"],["href","#/settings"],["href","#/adapter"],[1,"demo-examples",2,"display","flex"],[2,"margin","0 20px 33px 0"],["href","#/datasource#datasource-get-signatures"],["href","#/datasource#unlimited-bidirectional"],["href","#/datasource#limited"],["href","#/datasource#positive-limited-indexes"],["href","#/datasource#remote"],["href","#/datasource#inverted-indexes"],["href","#/datasource#pages"],["href","#/settings#no-settings"],["href","#/settings#buffer-size"],["href","#/settings#padding"],["href","#/settings#item-size"],["href","#/settings#start-index"],["href","#/settings#min-max-indexes"],["href","#/settings#infinite-mode"],["href","#/settings#horizontal-mode"],["href","#/settings#different-item-heights"],["href","#/settings#window-viewport"],[2,"margin","0 0 33px 0"],["href","#/adapter#reload"],["href","#/adapter#reset"],["href","#/adapter#is-loading"],["href","#/adapter#is-loading-advanced"],["href","#/adapter#items-count"],["href","#/adapter#bof-eof"],["href","#/adapter#first-last-visible-items"],["href","#/adapter#append-prepend"],["href","#/adapter#append-prepend-sync"],["href","#/adapter#check-size"],["href","#/adapter#remove"],["href","#/adapter#clip"],["href","#/adapter#insert"],[1,"item"]],template:function(t,e){var n;1&t&&(na(0,"h1"),ja(1,"Angular UI Scroll Demo App"),ra(),na(2,"p"),na(3,"em"),ja(4,"ngx-ui-scroll"),ra(),ja(5," is the Angular library for large datasets virtualization. The idea, core principles and terminology are inherited from its AngularJS direct predecessor: "),na(6,"a",0),ja(7,"angular-ui-scroll"),ra(),ja(8,", a pioneer in the virtual scrolling developing, since 2013. More information regarding motivation, infrastructure, features, developing can be found on "),na(9,"a",1),ja(10,"GitHub"),ra(),ja(11,". This site is dedicated to practical examples of the "),na(12,"em"),ja(13,"uiScroll"),ra(),ja(14," usage.\n"),ra(),na(15,"div",2),na(16,"h3"),ja(17,"Common demo"),ra(),na(18,"div",3),na(19,"div",4),na(20,"div",5),Xo(21,fb,3,3,"div",6),ra(),ra(),na(22,"div",7),na(23,"div",8),ja(24),ia(25,"br"),ja(26),ia(27,"br"),ja(28),ru(29,"async"),ia(30,"br"),ja(31),ia(32,"br"),ja(33),ia(34,"br"),ra(),na(35,"div",9),ja(36," Datasource delay (ms):\xa0 "),na(37,"input",10),ua("ngModelChange",(function(t){return e.delay=t})),ra(),ra(),na(38,"div",11),ja(39," Index to reload:\xa0 "),na(40,"input",12),ua("ngModelChange",(function(t){return e.reloadIndex=t})),ra(),ja(41,"\xa0 "),na(42,"button",13),ua("click",(function(){return e.doReload()})),ja(43,"Reload"),ra(),ra(),ra(),ia(44,"div",14),ra(),na(45,"div",15),na(46,"tabset"),na(47,"tab",16),na(48,"pre",17),ja(49),ra(),ra(),na(50,"tab",16),na(51,"pre",18),ja(52),ra(),ra(),na(53,"tab",16),na(54,"pre",18),ja(55),ra(),ra(),ra(),ra(),ra(),na(56,"p"),ja(57," It's just a little demo including simplest template, simplest Datasource implementation with no any settings provided and some of Adapter properties and methods usage. Other samples with all necessary details and explanations can be found at "),na(58,"a",19),ja(59,"Datasource"),ra(),ja(60,", "),na(61,"a",20),ja(62,"Settings"),ra(),ja(63," and "),na(64,"a",21),ja(65,"Adapter"),ra(),ja(66," sections. Below is the list of all examples available per these sections.\n"),ra(),na(67,"h3"),ja(68," Example list\n"),ra(),na(69,"div",22),na(70,"div",23),na(71,"h5"),ja(72,"Datasource"),ra(),na(73,"a",24),ja(74,"Datasource get-method signatures"),ra(),ia(75,"br"),na(76,"a",25),ja(77,"Unlimited bidirectional datasource"),ra(),ia(78,"br"),na(79,"a",26),ja(80,"Limited datasource"),ra(),ia(81,"br"),na(82,"a",27),ja(83,"Positive limited datasource"),ra(),ia(84,"br"),na(85,"a",28),ja(86,"Remote datasource"),ra(),ia(87,"br"),na(88,"a",29),ja(89,"Inverted datasource"),ra(),ia(90,"br"),na(91,"a",30),ja(92,"Pages datasource"),ra(),ia(93,"br"),ra(),na(94,"div",23),na(95,"h5"),ja(96,"Settings"),ra(),na(97,"a",31),ja(98,"No settings"),ra(),ia(99,"br"),na(100,"a",32),ja(101,"BufferSize setting"),ra(),ia(102,"br"),na(103,"a",33),ja(104,"padding setting"),ra(),ia(105,"br"),na(106,"a",34),ja(107,"itemSize setting"),ra(),ia(108,"br"),na(109,"a",35),ja(110,"startIndex setting"),ra(),ia(111,"br"),na(112,"a",36),ja(113,"minIndex / maxIndex settings"),ra(),ia(114,"br"),na(115,"a",37),ja(116,"Infinite mode"),ra(),ia(117,"br"),na(118,"a",38),ja(119,"Horizontal mode"),ra(),ia(120,"br"),na(121,"a",39),ja(122,"Different item heights"),ra(),ia(123,"br"),na(124,"a",40),ja(125,"Entire window scrollable"),ra(),ia(126,"br"),ra(),na(127,"div",41),na(128,"h5"),ja(129,"Adapter"),ra(),na(130,"a",42),ja(131,"Reload"),ra(),ia(132,"br"),na(133,"a",43),ja(134,"Reset"),ra(),ia(135,"br"),na(136,"a",44),ja(137,"Is loading?"),ra(),ia(138,"br"),na(139,"a",45),ja(140,"Is loading, advanced"),ra(),ia(141,"br"),na(142,"a",46),ja(143,"Buffer items counter"),ra(),ia(144,"br"),na(145,"a",47),ja(146,"Begin / end of file"),ra(),ia(147,"br"),na(148,"a",48),ja(149,"First and last visible items"),ra(),ia(150,"br"),na(151,"a",49),ja(152,"Append / prepend"),ra(),ia(153,"br"),na(154,"a",50),ja(155,"Append / prepend sync"),ra(),ia(156,"br"),na(157,"a",51),ja(158,"Check size"),ra(),ia(159,"br"),na(160,"a",52),ja(161,"Remove"),ra(),ia(162,"br"),na(163,"a",53),ja(164,"Clip"),ra(),ia(165,"br"),na(166,"a",54),ja(167,"Insert"),ra(),ia(168,"br"),ra(),ra()),2&t&&(Lr(21),ta("uiScrollOf",e.datasource),Lr(3),La(" Version of ngx-ui-scroll: ",e.datasource.adapter.version," "),Lr(2),La(" First visible: #",e.datasource.adapter.firstVisible.$index," "),Lr(2),La(" Last visible: #",null==(n=iu(29,14,e.datasource.adapter.lastVisible$))?null:n.$index," "),Lr(3),La(" Items in DOM: ",e.datasource.adapter.itemsCount," "),Lr(2),La(" Is loading: ",e.datasource.adapter.isLoading," "),Lr(4),ta("ngModel",e.delay),Lr(3),ta("ngModel",e.reloadIndex),Lr(7),ma("heading",e.sources[1].name),Lr(2),za(e.sources[1].text),Lr(1),ma("heading",e.sources[0].name),Lr(2),za(e.sources[0].text),Lr(1),ma("heading",e.sources[2].name),Lr(2),za(e.sources[2].text))},directives:[fm,ed,zl,Bl,Vd,Ep,Ap],pipes:[el],encapsulation:2}),t}(),mb=function(t,e,n){isNaN(Number(n))?e(t):setTimeout((function(){return e(t)}),Number(n))},vb=function(t,e,n,r){return t.log=++t.count+") got "+r+" items ["+e+".."+(e+n-1)+"]\n"+t.log},gb=function(t,e){return function(n,r,i){return mb(function(t,e,n){for(var r=[],i=e;i<=e+n-1;i++)r.push({id:i,text:"item #"+i});return vb(t,e,n,r.length),r}(t,n,r),i,e)}},yb=function(){function t(){this.demoContext={scope:"settings",title:"No settings",titleId:"no-settings",viewportId:"no-settings-viewport",count:0,log:""},this.datasource={get:gb(this.demoContext)},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-basic"]],decls:25,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," Speaking of what impact could "),na(4,"em"),ja(5,"Settings"),ra(),ja(6," have on the scroller behavior, we are going to dig into it's behavior details before any settings applied. And this is the very basic example where settings are not defined. "),ra(),na(7,"p"),ja(8," Let's first investigate the sample's log. The visible part of the viewport contains 10 items in accordance with CSS: 10 items of 25px each are equal to 250px of the viewport height. "),na(9,"em"),ja(10,"Datasource.get"),ra(),ja(11," log shows us that there were 3 requests of 5, 10 and 5 items on the initial load (before any scrolling). So we have 20 DOM elements initially: 15 downward items with positive indexes and 5 upward negative items. 20 items give us 500px and this is the initial viewport scrollable size. "),ra(),na(12,"p"),ja(13," The viewport scrollable size value can increase only; as we scroll more and more, items are passed through the "),na(14,"em"),ja(15,"Datasource.get"),ra(),ja(16,". Our "),na(17,"em"),ja(18,"Datasource"),ra(),ja(19," is unlimited, it produces items with indexes from -Infinity to +Infinity. The number of DOM elements in the viewport is not constant, but it fluctuates around the initial value during scrolling (20-31). The core concept of the virtualization is to keep as small number of real items as needed while the scrollable size of the viewport can be very big. "),ra(),na(20,"p"),ja(21," Why do we have 3 requests initially, why the first one is about only 5 items, why at least 10 items are invisible? This is how the "),na(22,"em"),ja(23,"*uiScroll"),ra(),ja(24," works and further reading should shed more light on the details. And we need to know that the default behavior could be changed via Settings object. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),bb=function(){function t(){this.demoContext={scope:"settings",title:"bufferSize setting",titleId:"buffer-size",viewportId:"buffer-size-viewport",count:0,log:""},this.datasource={get:gb(this.demoContext),settings:{bufferSize:15}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 15\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-buffer-size"]],decls:47,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," Here we set "),na(4,"em"),ja(5,"bufferSize"),ra(),ja(6," property which defines minimal number of items that the "),na(7,"em"),ja(8,"uiScroll"),ra(),ja(9," may retrieve via "),na(10,"em"),ja(11,"Datasource.get"),ra(),ja(12," method in a single request. In this demo we see that the initial load consists of 2 requests of 15 items (from 1 to 15 and from -14 to 0). Initially the "),na(13,"em"),ja(14,"uiScroll"),ra(),ja(15," starts fill the viewport downward from zero scroll position. If the first fetch is enough, the second one will be in the backward direction. The size of these fetches is determined by the "),na(16,"em"),ja(17,"bufferSize"),ra(),ja(18," setting. The next fetches (during scrolling) could ask for more than "),na(19,"em"),ja(20,"bufferSize"),ra(),ja(21," items, but never less than "),na(22,"em"),ja(23,"bufferSize"),ra(),ja(24,". "),ra(),na(25,"p"),ja(26," The bigger the "),na(27,"em"),ja(28,"bufferSize"),ra(),ja(29," value is, the less requests generally are needed to fill out the viewport. For example, scrolling from 1 to 100 item when the "),na(30,"em"),ja(31,"bufferSize"),ra(),ja(32," is 1, we may see about 40 "),na(33,"em"),ja(34,"Datasource.get"),ra(),ja(35," calls (depends on the environment). But this demo (where "),na(36,"em"),ja(37,"bufferSize"),ra(),ja(38," is 15) shows that reaching 100 item would cost about 10 "),na(39,"em"),ja(40,"Datasource.get"),ra(),ja(41," calls. "),ra(),na(42,"p"),ja(43," The default value of "),na(44,"em"),ja(45,"bufferSize"),ra(),ja(46," property is 5. It has to be a positive integer. The minimum value is 1. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),wb=function(){function t(){this.demoContext={scope:"settings",title:"padding setting",titleId:"padding",viewportId:"padding-viewport",count:0,log:""},this.datasource={get:gb(this.demoContext),settings:{bufferSize:7,padding:1.46}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    bufferSize: 7,\n    padding: 1.46\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-padding"]],decls:51,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," Here the "),na(4,"em"),ja(5,"Datasource.get"),ra(),ja(6," method implementation is taken from previous samples, but the "),na(7,"em"),ja(8,"Settings"),ra(),ja(9," object is completed with "),na(10,"em"),ja(11,"padding"),ra(),ja(12," property. This setting defines an extra space added to the visible part of the viewport for the purpose of determining when the items should be created/destroyed. The value is relative to the visible size of the viewport. So "),na(13,"em"),ja(14,"1.46"),ra(),ja(15," means that the "),na(16,"em"),ja(17,"uiScroll"),ra(),ja(18," would request new items until the areas of 146% of the viewport size on both of forward and backward directions are filled with rendered items: 100% + 146% downward and 146% upward. In this demo we have 3 requests on the initial load, let's see what happened: "),ra(),na(19,"ol"),na(20,"li"),ja(21,"250px + 1.46 * 250px = 615px \u2014 total size of area that needs to be filled on downward (positive) direction, where 250px is the size of the visible viewport (per CSS) "),ra(),na(22,"li"),ja(23,"7 items * 25px = 175px \u2014 the result size of first downward fetch, where "),na(24,"em"),ja(25,"bufferSize"),ra(),ja(26," is 7 and 25px is the item's size (per CSS) "),ra(),na(27,"li"),ja(28,"615px - 175px = 440px \u2014 downward space which has to be filled during second downward fetch "),ra(),na(29,"li"),ja(30,"ceil(440px / 25px) = 18 \u2014 items number that is needed to feel remain 440px area during second downward fetch "),ra(),ra(),na(31,"p"),ja(32," So we have 2 "),na(33,"em"),ja(34,"Datasource.get"),ra(),ja(35," downward requests for 7 and 18 items. And this is an explanation of the last (initial backward) fetch: "),ra(),na(36,"ol"),na(37,"li"),ja(38,"1.46 * 250px = 360px \u2014 upward space which has to be filled on backward (negative) direction "),ra(),na(39,"li"),ja(40,"ceil(360px / 25px) = 15 \u2014 items number that is needed to feel 360px area on backward fetch "),ra(),ra(),na(41,"p"),ja(42," So we have satisfied to 40 DOM elements (7 + 18 + 15 = 40). The bigger "),na(43,"em"),ja(44,"padding"),ra(),ja(45," value is, the more DOM elements should be present in the viewport. "),ra(),na(46,"p"),ja(47," The default value of "),na(48,"em"),ja(49,"padding"),ra(),ja(50," property is 0.5. It is treated as floating point number. The minimum value is 0.01. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),xb=function(){function t(){this.demoContext={scope:"settings",title:"itemSize setting",titleId:"item-size",viewportId:"item-size-viewport",count:0,log:""},this.datasource={get:gb(this.demoContext),settings:{itemSize:25}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    itemSize: 25\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-item-size"]],decls:45,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," Another setting which has an impact on the viewport filling procedure is "),na(4,"em"),ja(5,"itemSize"),ra(),ja(6,". After the first fetch is done, the "),na(7,"em"),ja(8,"uiScroll"),ra(),ja(9," gets knowledge on average item's size and can make further requests precisely. Defining "),na(10,"em"),ja(11,"settings.itemSize"),ra(),ja(12," property we are telling the "),na(13,"em"),ja(14,"uiScroll"),ra(),ja(15," that the initial average item's size is determined and could be used right on the first cycle. That's why we have only 2 initial "),na(16,"em"),ja(17,"Datasource.get"),ra(),ja(18," calls in this demo: "),ra(),na(19,"ol"),na(20,"li"),ja(21,"250px + 0.5 * 250px = 375px \u2014 downward (positive) size"),ra(),na(22,"li"),ja(23,"ceil(375px / 25px) = 15 \u2014 items number to fill the area of 375px"),ra(),na(24,"li"),ja(25,"0.5 * 250px = 125px \u2014 upward (negative) size"),ra(),na(26,"li"),ja(27,"ceil(125px / 25px) = 5 \u2014 items number to fill the area of 125px"),ra(),ra(),na(28,"p"),na(29,"em"),ja(30,"itemSize"),ra(),ja(31," don't fix item's size on the template layer, it is just an expectation of average item's size. If we set it to, say, 10, then the first "),na(32,"em"),ja(33,"Datasource.get"),ra(),ja(34," call will give us ceil(375 / 10) = 38 items which will occupy 38 * 25 = 950px downward area. The second fetch will be the same as above, because the "),na(35,"em"),ja(36,"uiScroll"),ra(),ja(37," will recalculate average item's size after the first fetch is done. Setting "),na(38,"em"),ja(39,"itemSize"),ra(),ja(40," to, say, 9999 will give us good old 3 fetches: 5 (not 1, because 1 < bufferSize that is 5 by default) and 10 items on forward direction and 5 items on backward direction. "),ra(),na(41,"p"),na(42,"em"),ja(43,"itemSize"),ra(),ja(44," has no default value. If set, it has to be a positive integer. The minimum value is 1. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),_b=function(){function t(){this.demoContext={scope:"settings",title:"startIndex setting",titleId:"start-index",viewportId:"start-index-viewport",count:0,log:""},this.datasource={get:gb(this.demoContext),settings:{startIndex:137}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 137\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-start-index"]],decls:27,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," What if we want to start the "),na(4,"em"),ja(5,"uiScroll"),ra(),ja(6," from some specific position? It is possible via "),na(7,"em"),ja(8,"startIndex"),ra(),ja(9," setting which determines what item index the "),na(10,"em"),ja(11,"uiScroll"),ra(),ja(12," will use to start the load process. It will be the value of the "),na(13,"em"),ja(14,"index"),ra(),ja(15," argument during the first "),na(16,"em"),ja(17,"Datasource.get"),ra(),ja(18," method call. "),ra(),na(19,"p"),ja(20," The default "),na(21,"em"),ja(22,"startIndex"),ra(),ja(23," value is 1. It has to be an integer with no range limitations. But real datasource boundaries (in case the "),na(24,"em"),ja(25,"Datasource"),ra(),ja(26," is limited) should be taken into the account. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),Cb=function(){function t(){this.demoContext={scope:"settings",title:"minIndex / maxIndex settings",titleId:"min-max-indexes",viewportId:"min-max-indexes-viewport",count:0,log:""},this.datasource={get:gb(this.demoContext),settings:{minIndex:1,maxIndex:1e3}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    minIndex: 1,\n    maxIndex: 1000\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-min-max-indexes"]],decls:87,vars:3,consts:[[3,"datasource","context","sources"],["description",""],["href","/#/datasource#limited"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," If the boundaries of the dataset are known, we may virtualize all the data items right on the "),na(4,"em"),ja(5,"uiScroll"),ra(),ja(6," initialization, in other words the "),na(7,"em"),ja(8,"uiScroll"),ra(),ja(9," will maintain forward and backward padding elements of the viewport in assumption that the dataset consists of (maxIndex - minIndex) items. So it will be possible to jump to any position immediately. "),ra(),na(10,"p"),ja(11," In this demo we are telling the "),na(12,"em"),ja(13,"uiScroll"),ra(),ja(14," to work with indexes in-between [1..1000] range only. 1000 items per 25px give us 25000px, it is our viewport scrollable size and it will not be changed. Also, we may reach the bottom item in a single long scroll with just a couple of fetches: 3-10 "),na(15,"em"),ja(16,"Datasource.get"),ra(),ja(17," method calls against 70-200 ones in the previous demos. "),ra(),na(18,"p"),ja(19," An important note is that "),na(20,"em"),ja(21,"minIndex"),ra(),ja(22," and "),na(23,"em"),ja(24,"maxIndex"),ra(),ja(25," should stay within the real datasource boundaries. All the demos we discussed before have unlimited datasources, so "),na(26,"em"),ja(27,"minIndex"),ra(),ja(28," and "),na(29,"em"),ja(30,"maxIndex"),ra(),ja(31," could accept any values. But in case the datasource is limited, say, by [MIN..MAX] range, then "),na(32,"em"),ja(33,"minIndex"),ra(),ja(34," should be >= "),na(35,"em"),ja(36,"MIN"),ra(),ja(37," and "),na(38,"em"),ja(39,"maxIndex"),ra(),ja(40," should be <= "),na(41,"em"),ja(42,"MAX"),ra(),ja(43,". An example of limited "),na(44,"em"),ja(45,"Datasource.get"),ra(),ja(46," implementation can be found "),na(47,"a",2),ja(48,"here"),ra(),ja(49,". "),ra(),na(50,"p"),ja(51," The "),na(52,"em"),ja(53,"uiScroll"),ra(),ja(54," can accept only one of min/max indexes settings. For example, if we know that our datasource have no negative values, then we may define "),na(55,"em"),ja(56,"minIndex"),ra(),ja(57," as 1 (or 0) and not define "),na(58,"em"),ja(59,"maxIndex"),ra(),ja(60,". It also seems right idea to set "),na(61,"em"),ja(62,"startIndex"),ra(),ja(63," value to 0 in case "),na(64,"em"),ja(65,"minIndex"),ra(),ja(66," value had been set to 0. "),ra(),na(67,"p"),ja(68," Both of "),na(69,"em"),ja(70,"minIndex"),ra(),ja(71," and "),na(72,"em"),ja(73,"maxIndex"),ra(),ja(74," values should be integer. The default "),na(75,"em"),ja(76,"minIndex"),ra(),ja(77," value is "),na(78,"em"),ja(79,"-Infinity"),ra(),ja(80,". The default "),na(81,"em"),ja(82,"maxIndex"),ra(),ja(83," value is "),na(84,"em"),ja(85,"+Infinity"),ra(),ja(86,". "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),Sb=function(){function t(){this.demoContext={scope:"settings",title:"Infinite mode",titleId:"infinite-mode",viewportId:"infinite-viewport",count:0,log:""},this.datasource={get:gb(this.demoContext),settings:{infinite:!0}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-infinite"]],decls:19,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," The "),na(4,"em"),ja(5,"uiScroll"),ra(),ja(6,' might work in "infinite" mode, when items are never removed. This mode can be turned on via '),na(7,"em"),ja(8,"infinite"),ra(),ja(9," property of the "),na(10,"em"),ja(11,"settings"),ra(),ja(12," object. Setting "),na(13,"em"),ja(14,"infinite"),ra(),ja(15," to true, we ask the "),na(16,"em"),ja(17,"uiScroll"),ra(),ja(18," not to remove items that are getting out of the visible part of the viewport. That's why the DOM elements counter value increases per each edge-scroll event and never decreased. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),Ib=function(){function t(){this.demoContext={scope:"settings",title:"Horizontal mode",titleId:"horizontal-mode",viewportId:"horizontal-viewport",addClass:"horizontal",count:0,log:""},this.datasource={get:gb(this.demoContext),settings:{horizontal:!0}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    horizontal: true\n  }\n}"},{name:Wy.Template,text:'<div class="viewport horizontal">\n  <div *uiScroll="let item of datasource">\n    <div class="item horizontal">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport.horizontal {\n  width: 250px;\n  height: 100px;\n  overflow-x: scroll;\n  overflow-y: hidden;\n  white-space: nowrap;\n}\n.viewport.horizontal div {\n  display: inline-block;\n}\n.item.horizontal {\n  border: 1px solid #aaa;\n  height: 100px;\n  padding: 0 5px;\n  font-weight: bolder;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-horizontal"]],decls:10,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," Horizontal scrolling could be enabled via "),na(4,"em"),ja(5,"horizontal"),ra(),ja(6," setting. The styles also need to be fixed in accordance with horizontal scrolling. Currently we have some limitations at the template layer but "),na(7,"em"),ja(8,"display: inline-block;"),ra(),ja(9," rule applied to all nested containers makes the horizontal mode work. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),kb=function(){function t(){var t;this.demoContext={scope:"settings",title:"Different item heights",titleId:"different-item-heights",viewportId:"different-heights-viewport",count:0,log:""},this.datasource={get:(t=this.demoContext,-20,100,function(e,n,r){return mb(function(t,e,n,r,i){e=isNaN(Number(e))?-1/0:Number(e),n=isNaN(Number(n))?1/0:Number(n);var o=[],a=Math.max(e,r),s=Math.min(r+i-1,n);if(a<=s)for(var u=a;u<=s;u++)o.push({id:u,text:"item #"+u,height:20+u});return vb(t,r,i,o.length),o}(t,-20,100,e,n),r,void 0)})},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const MIN = -20, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n}"},{name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n     <div class="item" [style.height]="item.height + \'px\'">\n      {{item.text}}\n     </div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-different-heights"]],decls:7,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," The "),na(4,"em"),ja(5,"uiScroll"),ra(),ja(6," works fine with different item heights. To make this sample more strict and to demonstrate the scrollbar parameters' consistency the limited datasource is used. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),Tb=function(){function t(){this.demoContext={scope:"settings",title:"Entire window scrollable",titleId:"window-viewport",viewportId:"window-viewport-viewport",noWorkView:!0,count:0,log:""},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    windowViewport: true\n  }\n}"},{name:Wy.Template,text:'<div *uiScroll="let item of datasource">\n  <div class="item">{{item.text}}</div>\n</div>'},{name:Wy.Styles,text:".item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-window-viewport"]],decls:13,vars:2,consts:[[3,"context","sources"],["actions",""],["routerLink","/window"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," Follow "),na(4,"a",2),ja(5,"this link"),ra(),ja(6," to open the Entire Window scrollable demo. "),ra(),ra(),na(7,"div",3),na(8,"p"),ja(9," The entire window might work as a Viewport if "),na(10,"em"),ja(11,"windowViewport"),ra(),ja(12,' setting is set to true. Previous versions of the library (prior to 1.6.4) required the "overflow-anchor" css property to be disabled at the top level of the DOM tree (body or html tag). Today it is not necessary. '),ra(),ra(),ra()),2&t&&ta("context",e.demoContext)("sources",e.sources)},directives:[lb,vy],encapsulation:2}),t}(),Eb=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-samples-settings"]],decls:31,vars:0,template:function(t,e){1&t&&(na(0,"h1"),ja(1,"Angular UI Scroll Settings Demos"),ra(),na(2,"p"),na(3,"em"),ja(4,"Settings"),ra(),ja(5," object is\xa0a\xa0part of\xa0"),na(6,"em"),ja(7,"Datasource"),ra(),ja(8," implementation. It allows to configure the\xa0"),na(9,"em"),ja(10,"uiScroll"),ra(),ja(11," during it's initialization. Each sample deals with a\xa0single case/setting and include:\n"),ra(),na(12,"ul"),na(13,"li"),ja(14,"working viewport where we\xa0may scroll through the data items;"),ra(),na(15,"li"),ja(16,"log section where we\xa0may see current size of\xa0the viewport's scrollable area, how many real items (DOM elements) the viewport has at\xa0a\xa0moment and how many items have been retrieved via Datasource.get; "),ra(),na(17,"li"),ja(18,"code listing which contains Datasource typescript code, Template html code and CSS;"),ra(),na(19,"li"),ja(20,"description where we\xa0can find some notes and explanations."),ra(),ra(),ia(21,"app-demo-basic"),ia(22,"app-demo-buffer-size"),ia(23,"app-demo-padding"),ia(24,"app-demo-item-size"),ia(25,"app-demo-start-index"),ia(26,"app-demo-min-max-indexes"),ia(27,"app-demo-infinite"),ia(28,"app-demo-horizontal"),ia(29,"app-demo-different-heights"),ia(30,"app-demo-window-viewport"))},directives:[yb,bb,wb,xb,_b,Cb,Sb,Ib,kb,Tb],encapsulation:2}),t}(),Ab=function(){function t(){this.demoContext={scope:"adapter",title:"Return value",titleId:"return-value",noWorkView:!0},this.returnValueType="  Promise<{\n    success: boolean,\n    immediate: boolean,\n    error?: string\n  }>",this.returnValueSample="\n  const { immediate } = await adapter.remove(predicate);\n  if (immediate) {\n    console.log('No items were removed');\n  }"}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-adapter-return-value"]],decls:74,vars:3,consts:[[1,"demo"],[3,"context"],[1,"description"]],template:function(t,e){1&t&&(na(0,"div",0),ia(1,"app-demo-title",1),na(2,"div",2),na(3,"p"),ja(4," Each "),na(5,"em"),ja(6,"Adapter"),ra(),ja(7," method runs the "),na(8,"em"),ja(9,"uiScroll Workflow"),ra(),ja(10," that handles multiple internal processes, some of which may be asynchronous. In order to deal with such asynchronicity, the return value of the "),na(11,"em"),ja(12,"Adapter"),ra(),ja(13," method is a "),na(14,"em"),ja(15,"Promise"),ra(),ja(16," that is resolved when all internal processes triggered by the "),na(17,"em"),ja(18,"Adapter"),ra(),ja(19," are terminated. Return value has following type "),ra(),na(20,"pre"),ja(21),ra(),na(22,"p"),ja(23," - "),na(24,"em"),ja(25,"success"),ra(),ja(26,": specifies whether the "),na(27,"em"),ja(28,"Adapter"),ra(),ja(29," method completed successfully or not; for example, if some method is invoked with wrong arguments, no error will be thrown, but we'll get "),na(30,"em"),ja(31,"success:\xa0false"),ra(),ja(32," in the result; "),ia(33,"br"),ja(34," - "),na(35,"em"),ja(36,"error"),ra(),ja(37,": contains error message in case "),na(38,"em"),ja(39,"success"),ra(),ja(40," is "),na(41,"em"),ja(42,"false"),ra(),ja(43,"; "),ia(44,"br"),ja(45," - "),na(46,"em"),ja(47,"immediate"),ra(),ja(48,": specifies whether the "),na(49,"em"),ja(50,"Adapter"),ra(),ja(51," method completed immediately or not; for example, if "),na(52,"em"),ja(53,"Adapter.remove"),ra(),ja(54," won't remove any items, then it will be terminated immediately and we'll get "),na(55,"em"),ja(56,"immediate:\xa0true"),ra(),ja(57," in the result. "),ra(),na(58,"pre"),ja(59),ra(),na(60,"p"),ja(61," Note, "),na(62,"em"),ja(63,"immediate:\xa0false"),ra(),ja(64," does not necessarily mean that the "),na(65,"em"),ja(66,"Adapter"),ra(),ja(67," method worked asynchronously. But, in most cases we'll have async processes, so it is highly recommended to pay special attention to logic that is going to be run after the "),na(68,"em"),ja(69,"Adapter"),ra(),ja(70," method is invoked. Generally such logic needs to be postponed by waiting for the promisified result of the "),na(71,"em"),ja(72,"Adapter"),ra(),ja(73," method invocation. "),ra(),ra(),ra()),2&t&&(Lr(1),ta("context",e.demoContext),Lr(20),za(e.returnValueType),Lr(38),za(e.returnValueSample))},directives:[Gy],encapsulation:2}),t}(),Ob=function(){function t(){this.demoContext={scope:"adapter",title:"Reload",titleId:"reload",viewportId:"reload-viewport",count:0,log:""},this.datasource=new rf({get:gb(this.demoContext)}),this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nreloadIndex: number = 99;\n\ndoReload() {\n  this.datasource.adapter.reload(this.reloadIndex);\n}"},{active:!0,name:Wy.Template,text:'<button (click)="doReload()">Reload</button>\nby index <input [(ngModel)]="reloadIndex">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.reloadIndex=99}return t.prototype.onInputChanged=function(t){var e=parseInt(t.value,10);isNaN(e)&&(e=1),t.value=e.toString(),this.reloadIndex=e},t.prototype.doReload=function(){this.demoContext.count=0,this.demoContext.log="",this.datasource.adapter.reload(this.reloadIndex)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-reload"]],decls:47,vars:4,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""],["href","#/settings#start-index"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"button",2),ua("click",(function(){return e.doReload()})),ja(3,"Reload"),ra(),ja(4," \xa0 by index \xa0 "),na(5,"input",3),ua("change",(function(t){return e.onInputChanged(t.target)})),ra(),ra(),na(6,"div",4),na(7,"p"),ja(8," The first "),na(9,"em"),ja(10,"Adapter"),ra(),ja(11," API method is the "),na(12,"em"),ja(13,"reload"),ra(),ja(14," method. It allows to reload the "),na(15,"em"),ja(16,"uiScroll"),ra(),ja(17," which includes resetting the items "),na(18,"em"),ja(19,"Buffer"),ra(),ja(20," and the "),na(21,"em"),ja(22,"Viewport"),ra(),ja(23," params. The "),na(24,"em"),ja(25,"reload"),ra(),ja(26," method has 1 optional argument: "),na(27,"em"),ja(28,"index"),ra(),ja(29,". It specifies the index of the item to be first in the visible part of the viewport after reload. "),ra(),na(30,"p"),ja(31," If "),na(32,"em"),ja(33,"index"),ra(),ja(34," argument is not set, "),na(35,"em"),ja(36,"settings.startIndex"),ra(),ja(37," will be used as the first index. If neither "),na(38,"em"),ja(39,"index"),ra(),ja(40," argument not "),na(41,"em"),ja(42,"startIndex"),ra(),ja(43," setting is present, the default value 1 will be used. See also "),na(44,"a",5),ja(45,"startIndex setting description"),ra(),ja(46,". "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(5),ta("ngModel",e.reloadIndex))},directives:[lb,zl,Bl,Vd],encapsulation:2}),t}(),Pb=function(){function t(){this.demoContext={scope:"adapter",title:"Reset",titleId:"reset",viewportId:"reset-viewport",count:0,log:""},this.datasource=new rf({get:gb(this.demoContext)}),this.startIndex=100,this.bufferSize=20,this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nstartIndex = 100;\nbufferSize = 20;\n\ndoReset() {\n  const settings = {\n    startIndex: Number(this.startIndex),\n    bufferSize: Number(this.bufferSize)\n  };\n  this.datasource.adapter.reset({ settings });\n}"},{active:!0,name:Wy.Template,text:'<button (click)="doReset()">Reset</button>\n<input [(ngModel)]="startIndex" size="3"> - new start index\n<input [(ngModel)]="bufferSize" size="3"> - new buffer size\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'}],this.resetWithNewInstanceSample="  this.datasource.adapter.reset(new Datasource(...));"}return t.prototype.doReset=function(){this.demoContext.count=0,this.demoContext.log="";var t={startIndex:Number(this.startIndex),bufferSize:Number(this.bufferSize)};this.datasource.adapter.reset({settings:t})},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-reset"]],decls:76,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["size","3",3,"ngModel","ngModelChange"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"button",2),ua("click",(function(){return e.doReset()})),ja(3,"Reset"),ra(),ia(4,"br"),na(5,"input",3),ua("ngModelChange",(function(t){return e.startIndex=t})),ra(),ja(6," - new start index"),ia(7,"br"),na(8,"input",3),ua("ngModelChange",(function(t){return e.bufferSize=t})),ra(),ja(9," - new buffer size "),ra(),na(10,"div",4),na(11,"p"),na(12,"em"),ja(13,"Adapter.reset"),ra(),ja(14," method is designed to reset the internal state of the "),na(15,"em"),ja(16,"uiScroll"),ra(),ja(17,". It differs from "),na(18,"em"),ja(19,"Adapter.reload"),ra(),ja(20," because it re-instantiates all internal entities, which is equivalent to destroying the scroller and re-creating it again via "),na(21,"em"),ja(22,"ngIf"),ra(),ja(23,". "),ra(),na(24,"p"),ja(25," The method has 1 optional argument: "),na(26,"em"),ja(27,"datasource"),ra(),ja(28," object. By passing it, we tell the "),na(29,"em"),ja(30,"uiScroll"),ra(),ja(31," that we want to use a new datasource. If the argument is not passed, the old "),na(32,"em"),ja(33,"datasource"),ra(),ja(34," will be used. "),ra(),na(35,"p"),ja(36," All fields of the "),na(37,"em"),ja(38,"datasource"),ra(),ja(39," argument are optional. Missing parts of a new Datasource will be taken from the original one. For instance, in this demo only "),na(40,"em"),ja(41,"settings"),ra(),ja(42," field is passed: "),na(43,"em"),ja(44,"Adapter.reset({ settings })"),ra(),ja(45,". This sets new "),na(46,"em"),ja(47,"startIndex"),ra(),ja(48," and "),na(49,"em"),ja(50,"bufferSize"),ra(),ja(51," settings while "),na(52,"em"),ja(53,"Datasource.get"),ra(),ja(54," remains pristine. It affects the value of the DOM elements counter. "),ra(),na(55,"p"),na(56,"b"),ja(57,"Important note!"),ra(),ja(58," Do not re-assign the "),na(59,"em"),ja(60,"datasource"),ra(),ja(61," at the App component level, "),na(62,"em"),ja(63,"this.datasource"),ra(),ja(64," must keep the same reference before and after reset. So "),na(65,"em"),ja(66,"this.datasource\xa0=\xa0..."),ra(),ja(67," expressions are prohibited after reset, for it will make the Adapter subscriptions broken. The "),na(68,"em"),ja(69,"uiScroll"),ra(),ja(70," maintains Datasource params and provides the Adapter consistency across the reset. Even in case of passing new instance of "),na(71,"em"),ja(72,"Datasource"),ra(),ja(73,": "),ra(),na(74,"pre"),ja(75),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(5),ta("ngModel",e.startIndex),Lr(3),ta("ngModel",e.bufferSize),Lr(67),za(e.resetWithNewInstanceSample))},directives:[lb,zl,Bl,Vd],encapsulation:2}),t}(),Db=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Is loading?",titleId:"is-loading",viewportId:"is-loading-viewport",count:0,log:""},this.datasource=new rf({get:gb(this.demoContext,225)}),this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 225);\n  }\n});\n\nisLoadingCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(isLoading =>\n      this.isLoadingCounter += !isLoading ? 1 : 0\n    );\n}\n"},{active:!0,name:Wy.Template,text:'The uiScroll is\n{{datasource.adapter.isLoading ? \'loading\': \'relaxing\'}}.\n\n<br>\n\nThe value of isLoading counter has been changed\nfor {{isLoadingCounter}} times.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.isLoadingCounter=0,this.datasource.adapter.isLoading$.subscribe((function(e){return t.isLoadingCounter+=e?0:1}))}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-is-loading"]],decls:49,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),ja(2),ia(3,"br"),ja(4),ra(),na(5,"div",2),na(6,"p"),ja(7," The first "),na(8,"em"),ja(9,"Adapter"),ra(),ja(10," read-only property in the list is "),na(11,"em"),ja(12,"isLoading"),ra(),ja(13,". It is a boolean value indicating whether there are any pending processes running by the "),na(14,"em"),ja(15,"uiScroll"),ra(),ja(16,". So when "),na(17,"em"),ja(18,"datasource.adapter.isLoading"),ra(),ja(19," is "),na(20,"em"),ja(21,"true"),ra(),ja(22,", it means that the "),na(23,"em"),ja(24,"uiScroll"),ra(),ja(25," is working right now and the viewport might be updated soon. 225ms delay was added to the "),na(26,"em"),ja(27,"Datasource.get"),ra(),ja(28," implementation in this sample. "),ra(),na(29,"p"),ja(30," In addition to read-only scalar "),na(31,"em"),ja(32,"isLoading"),ra(),ja(33," property there is also "),na(34,"em"),ja(35,"isLoading$"),ra(),ja(36," property which is Observable. A Subject, to be exact. In this demo we have a subscription and "),na(37,"em"),ja(38,"isLoadingCounter"),ra(),ja(39," incrementing each time the "),na(40,"em"),ja(41,"isLoading"),ra(),ja(42," becomes "),na(43,"em"),ja(44,"false"),ra(),ja(45,". We see that the initial value of this counter on the UI (before any scrolling) is 1. So the "),na(46,"em"),ja(47,"uiScroll"),ra(),ja(48," does initialization and first 3 fetches in a single session. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(2),La(" The uiScroll is ",e.datasource.adapter.isLoading?"loading":"relaxing",". "),Lr(2),La(" The value of isLoading counter has been changed for ",e.isLoadingCounter," times. "))},directives:[lb],encapsulation:2}),t}(),Mb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Is loading, advanced",titleId:"is-loading-advanced",viewportId:"is-loading-advanced-viewport",count:0,log:""},this.datasource=new rf({get:gb(this.demoContext,125)}),this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    setTimeout(() => success(data), 125);\n  }\n});\n\nloadingCounter = 0;\ninnerLoopCounter = 0;\n\nconstructor() {\n  this.datasource.adapter.isLoading$\n    .subscribe(result =>\n      this.loadingCounter += !result ? 1 : 0\n    );\n  this.datasource.adapter.loopPending$\n    .subscribe(result =>\n      this.innerLoopCounter += !result ? 1 : 0\n    );\n}"},{active:!0,name:Wy.Template,text:"The uiScroll is\n{{datasource.adapter.isLoading ? 'loading': 'relaxing'}},\ncounter {{loadingCounter}}\n\n<br>\n\nInner loop is\n{{datasource.adapter.loopPending ? 'pending': 'stopped'}},\ncounter: {{innerLoopCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 175px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.loadingCounter=0,this.innerLoopCounter=0,this.datasource.adapter.isLoading$.subscribe((function(e){return t.loadingCounter+=e?0:1})),this.datasource.adapter.loopPending$.subscribe((function(e){return t.innerLoopCounter+=e?0:1}))}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-is-loading-advanced"]],decls:82,vars:7,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),ja(2),ia(3,"br"),ja(4),ra(),na(5,"div",2),na(6,"p"),ja(7," The "),na(8,"em"),ja(9,"uiScroll"),ra(),ja(10,' has internal process layer that might be called "inner loop", which is responsible for single fetch-clip-render chain. Inner loop can be empty and non-empty. Empty inner loop does nothing but check if the '),na(11,"em"),ja(12,"uiScroll"),ra(),ja(13," could relax. Non-empty inner loop corresponds to 1 "),na(14,"em"),ja(15,"Datasource.get"),ra(),ja(16,' call (which is "fetch" subprocess) and following viewport updates: clipping old items, inserting new ones and render. The '),na(17,"em"),ja(18,"Adapter.loopPending"),ra(),ja(19," read-only property and "),na(20,"em"),ja(21,"Adapter.loopPending$"),ra(),ja(22,' subscription allow us to know whether "inner loop" is working or not. '),ra(),na(23,"p"),ja(24," The "),na(25,"em"),ja(26,"isLoading"),ra(),ja(27," property we discussed before majorizes "),na(28,"em"),ja(29,"loopPending"),ra(),ja(30," property, and this demo shows how they correlate. Here we are counting loadings and inner loops within the "),na(31,"em"),ja(32,"Adapter.isLoading$"),ra(),ja(33," and "),na(34,"em"),ja(35,"Adapter.loopPending$"),ra(),ja(36," subscription handlers respectively. After the "),na(37,"em"),ja(38,"uiScroll"),ra(),ja(39," is initialized and started relaxing, we see that there are 4 inner loops done, while "),na(40,"em"),ja(41,"isLoading"),ra(),ja(42," counter is 1. Practically it means that we have 3 "),na(43,"em"),ja(44,"Datasource.get"),ra(),ja(45," calls and 1 more empty loop to ensure that the "),na(46,"em"),ja(47,"uiScroll"),ra(),ja(48,' could relax. And these 4 inner loops are being packed into 1 "isLoading" session. '),ra(),na(49,"p"),ja(50," So, there might be distinguished 3 levels of pending: "),ra(),na(51,"ul"),na(52,"li"),na(53,"em"),ja(54,"Datasource.get"),ra(),ja(55," pending, which is fully manual, because the implementation of the "),na(56,"em"),ja(57,"Datasource"),ra(),ja(58," is in our hands; "),ra(),na(59,"li"),na(60,"em"),ja(61,"inner loop"),ra(),ja(62," pending, which is "),na(63,"em"),ja(64,"loopPending"),ra(),ja(65," and which includes some internal "),na(66,"em"),ja(67,"uiScroll"),ra(),ja(68," subprocesses (fetch, clip, render) that can take some time in addition to "),na(69,"em"),ja(70,"Datasource.get"),ra(),ja(71,' work (which is a part of "fetch" subprocess); '),ra(),na(72,"li"),na(73,"em"),ja(74,"continuous work session"),ra(),ja(75," pending, which is "),na(76,"em"),ja(77,"isLoading"),ra(),ja(78," and which consists of 1 and more inner loops that contain a single session of the internal "),na(79,"em"),ja(80,"uiScroll"),ra(),ja(81," Workflow run. "),ra(),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(2),Fa(" The uiScroll is ",e.datasource.adapter.isLoading?"loading":"relaxing",", counter ",e.loadingCounter," "),Lr(2),Fa(" Inner loop is ",e.datasource.adapter.loopPending?"pending":"stopped",", counter: ",e.innerLoopCounter," "))},directives:[lb],encapsulation:2}),t}(),Rb=function(){function t(){this.demoContext={scope:"adapter",title:"Buffer items counter",titleId:"items-count",viewportId:"items-count-viewport",count:0,log:""},this.datasource=new rf({get:gb(this.demoContext)}),this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});"},{active:!0,name:Wy.Template,text:'The uiScroll buffer has\n{{datasource.adapter.itemsCount}} items.\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-items-count"]],decls:15,vars:4,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),ja(2),ra(),na(3,"div",2),na(4,"p"),ja(5," We may use "),na(6,"em"),ja(7,"Adapter.itemsCount"),ra(),ja(8," read-only property to see how many items exist in the "),na(9,"em"),ja(10,"uiScroll"),ra(),ja(11," buffer at the moment. The "),na(12,"em"),ja(13,"itemsCount"),ra(),ja(14," value is the same as the value of DOM elements counter. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(2),La(" The uiScroll buffer has ",e.datasource.adapter.itemsCount," items. "))},directives:[lb],encapsulation:2}),t}(),Nb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Begin / end of file",titleId:"bof-eof",viewportId:"bof-eof-viewport",count:0,log:""},this.datasource=new rf({get:function(e,n,r){var i=[],o=Math.max(1,e),a=Math.min(e+n-1,100);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});vb(t.demoContext,e,n,i.length),r(i)}}),this.edgeCounter=0,this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const MIN = 1, MAX = 100;\n    const data = [];\n    const start = Math.max(MIN, index);\n    const end = Math.min(index + count - 1, MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i, height: 20 + i });\n      }\n    }\n    success(data);\n  }\n});\n\nedgeCounter = 0;\n\nconstructor() {\n  const { eof$, bof$ } = this.datasource.adapter;\n  merge(bof$, eof$).subscribe(() => this.edgeCounter++);\n}\n"},{active:!0,name:Wy.Template,text:"Begin of file is {{datasource.adapter.bof ? '' : 'not'}} reached\n<br>\nEnd of file is {{datasource.adapter.eof ? '' : 'not'}} reached\n<br>\nBOF / EOF changes counter: {{edgeCounter}}\n\n<div class=\"viewport\">\n  <div *uiScroll=\"let item of datasource\">\n    <div class=\"item\">{{item.text}}</div>\n  </div>\n</div>"},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}];var e=this.datasource.adapter;Y(e.bof$,e.eof$).subscribe((function(){return t.edgeCounter++}))}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-bof-eof"]],decls:45,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),ja(2),ia(3,"br"),ja(4),ia(5,"br"),ja(6),ra(),na(7,"div",2),na(8,"p"),na(9,"em"),ja(10,"Adapter.bof"),ra(),ja(11," and "),na(12,"em"),ja(13,"Adapter.eof"),ra(),ja(14," are read-only boolean properties that indicate whether the dataset beginning (bof, begin of file) or the dataset ending (eof, end of file) is reached or not. "),ra(),na(15,"p"),ja(16," Along with scalar properties there are also two Observable ones: "),na(17,"em"),ja(18,"Adapter.bof$"),ra(),ja(19," and "),na(20,"em"),ja(21,"Adapter.eof$"),ra(),ja(22," which are Subjects and produce new values when scalar properties change. "),ra(),na(23,"p"),ja(24,' In this demo we have limited datasource consisting of 100 items starting from index 1. So initially we are at the left position of the available dataset, and that\'s why we see "Begin of file is reached" message. After some scrolling down '),na(25,"em"),ja(26,"bof"),ra(),ja(27," is turned to "),na(28,"em"),ja(29,"false"),ra(),ja(30,". The first item is destroyed and can be retrieved again. "),ra(),na(31,"p"),ja(32," The "),na(33,"em"),ja(34,"edgeCounter"),ra(),ja(35," is bof/eof changes counter. It is defined via "),na(36,"em"),ja(37,"merge(bof$, eof$)"),ra(),ja(38," subscription which is triggered each time "),na(39,"em"),ja(40,"bof$"),ra(),ja(41,"/"),na(42,"em"),ja(43,"eof$"),ra(),ja(44," emits a new value. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(2),La(" Begin of file is ",e.datasource.adapter.bof?"":"not"," reached "),Lr(2),La(" End of file is ",e.datasource.adapter.eof?"":"not"," reached "),Lr(2),La(" BOF / EOF changes counter: ",e.edgeCounter," "))},directives:[lb],encapsulation:2}),t}();function Vb(t,e){if(1&t&&(na(0,"div",3),ja(1),ia(2,"br"),ja(3),ru(4,"async"),ia(5,"br"),ja(6),ra()),2&t){var n,r=da();Lr(1),La(" First visible item's index: ",r.datasource.adapter.firstVisible.$index," "),Lr(2),La(" Last visible item's index: ",null==(n=iu(4,3,r.datasource.adapter.lastVisible$))?null:n.$index," "),Lr(3),La(" Visible items counter: ",r.visibleCount," ")}}var jb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"First and last visible items",titleId:"first-last-visible-items",viewportId:"first-last-visible-items-viewport",count:0,log:""},this.datasource=new rf({get:gb(this.demoContext)}),this.init=!1,this.visibleCount=0,this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\nconstructor() {\n  const { firstVisible$, lastVisible$ } = this.datasource.adapter;\n  combineLatest(firstVisible$, lastVisible$)\n    .subscribe(result => {\n      const first = Number(result[0].$index);\n      const last = Number(result[1].$index);\n      this.visibleCount =\n        isNaN(first) || isNaN(last) ? 0 : last - first + 1;\n    });\n}"},{active:!0,name:Wy.Template,text:'First visible item\'s index:\n{{datasource.adapter.firstVisible.$index}}\n<br>\nLast visible item\'s index:\n{{(datasource.adapter.lastVisible$ | async)?.$index}}\n<br>\nVisible items counter: {{visibleCount}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",setTimeout((function(){return t.init=!0}));var e=this.datasource.adapter;vm([e.firstVisible$,e.lastVisible$]).subscribe((function(e){var n=Number(e[0].$index),r=Number(e[1].$index);t.visibleCount=isNaN(n)||isNaN(r)?0:r-n+1}))}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-first-last-visible-items"]],decls:60,vars:5,consts:[[3,"datasource","context","sources"],["actions","",4,"ngIf"],["description",""],["actions",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),Xo(1,Vb,7,5,"div",1),na(2,"div",2),na(3,"p"),ja(4," The "),na(5,"em"),ja(6,"Adapter"),ra(),ja(7," has two read-only properties which allow to determine the first and the last visible items: "),na(8,"em"),ja(9,"firstVisible"),ra(),ja(10," and "),na(11,"em"),ja(12,"lastVisible"),ra(),ja(13,". These are the objects of special "),na(14,"em"),ja(15,"ItemAdapter"),ra(),ja(16," type "),ra(),na(17,"pre"),ja(18),ra(),na(19,"p"),na(20,"em"),ja(21,"$index"),ra(),ja(22," corresponds to "),na(23,"em"),ja(24,"Datasource"),ra(),ja(25," item index value; "),na(26,"em"),ja(27,"data"),ra(),ja(28," is what we were pushing to the "),na(29,"em"),ja(30,"uiScroll"),ra(),ja(31," on "),na(32,"em"),ja(33,"Datasource.get"),ra(),ja(34," (item's content); "),na(35,"em"),ja(36,"element"),ra(),ja(37," is the DOM element that is relevant to our item. "),ra(),na(38,"p"),ja(39," In addition to scalar "),na(40,"em"),ja(41,"firstVisible"),ra(),ja(42," and "),na(43,"em"),ja(44,"lastVisible"),ra(),ja(45," properties there are also Observable versions: "),na(46,"em"),ja(47,"firstVisible$"),ra(),ja(48," and "),na(49,"em"),ja(50,"lastVisible$"),ra(),ja(51,". Both versions could be used in the template as it is shown in this demo. Also, we may have appropriate subscriptions and here in this sample we are calculating a number of visible items with the help of "),na(52,"em"),ja(53,"combineLatest"),ra(),ja(54," RxJs method. "),ra(),na(55,"p"),ja(56," Recalculation of the first and the last items occurs per each non-empty "),na(57,"em"),ja(58,"Datasource.get"),ra(),ja(59," call after new items are retrieved and rendered and unnecessary items are clipped out. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(1),ta("ngIf",e.init),Lr(17),za(e.itemAdapterDescription))},directives:[lb,Gc],pipes:[el],encapsulation:2}),t}(),zb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Append / prepend",titleId:"append-prepend",viewportId:"append-prepend-viewport",count:0,log:""},this.inputValue=4,this.newIndex=0,this.datasource=new rf({get:function(e,n,r){for(var i=[],o=e;o<e+n;o++)i.push({id:o,text:"item #"+o});vb(t.demoContext,e,n,i.length),r(i)},settings:{startIndex:100}}),this.sources=[{name:Wy.Component,text:"data: any[];\ninputValue = 4;\nnewIndex = 0;\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: 100\n  }\n});\n\ngenerateItems(isPrepend: boolean) {\n    const items: any[] = [];\n    for (let i = 0; i < this.inputValue; i++) {\n      this.newIndex++;\n      const item = {\n        id: this.newIndex,\n        text: 'new item #' + this.newIndex + '*'\n      };\n      isPrepend ? items.unshift(item) : items.push(item);\n    }\n    return items;\n}\n\ndoPrepend() {\n  this.datasource.adapter.prepend({\n    items: this.generateItems(true)\n  });\n}\n\ndoAppend() {\n  this.datasource.adapter.append({\n    items: this.generateItems(false)\n  });\n}"},{active:!0,name:Wy.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.appendCallSample="Adapter.append({ items })",this.prependCallSample="Adapter.prepend({ items })"}return t.prototype.onInputChanged=function(t){var e=parseInt(t.value.trim(),10);t.value=e.toString(),this.inputValue=e},t.prototype.generateItems=function(t){for(var e=[],n=0;n<this.inputValue;n++){this.newIndex++;var r={id:this.newIndex,text:"new item #"+this.newIndex+"*"};t?e.unshift(r):e.push(r)}return e},t.prototype.doPrepend=function(){this.datasource.adapter.prepend({items:this.generateItems(!0)})},t.prototype.doAppend=function(){this.datasource.adapter.append({items:this.generateItems(!1)})},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-append-prepend"]],decls:51,vars:6,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","2",3,"ngModel","change"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"button",2),ua("click",(function(){return e.doAppend()})),ja(3,"Append"),ra(),ja(4," / "),na(5,"button",2),ua("click",(function(){return e.doPrepend()})),ja(6,"Prepend"),ra(),na(7,"input",3),ua("change",(function(t){return e.onInputChanged(t.target)})),ra(),ra(),na(8,"div",4),na(9,"p"),ja(10," Adding items at the end and at the beginning of the "),na(11,"em"),ja(12,"uiScroll"),ra(),ja(13," items buffer is possible with "),na(14,"em"),ja(15),ra(),ja(16," and "),na(17,"em"),ja(18),ra(),ja(19," methods respectively. The "),na(20,"em"),ja(21,"items"),ra(),ja(22," parameter is an array of items we want to add. Both methods act in the same way, so let's discuss "),na(23,"em"),ja(24,"prepend"),ra(),ja(25,". "),ra(),na(26,"p"),ja(27,' In this demo we have 20 items on start and 5 of them (95-99) are invisible on the backward direction. By pushing "Prepend" button we are going to add 4 (which is the input value) new items to the top of the list. After they are prepended, they become visible when scrolling up. The '),na(28,"em"),ja(29,"uiScroll"),ra(),ja(30," accurately injects prepended items into its internal buffer consisting of 95-114 rows initially, so 1-4 new items temporary take place of items with indexes 91-94. "),ra(),na(31,"p"),ja(32,' But if we scroll away and make \'90s items invisible and deleted from the viewport, and then scroll back, we will realise that nothing changes: "new" items are gone and the old 91-94 items returned to initial position. The point is that the '),na(33,"em"),ja(34,"Datasource"),ra(),ja(35," does not take into account our dataset changes. It is our responsibility to take care of data passing to the "),na(36,"em"),ja(37,"uiScroll"),ra(),ja(38," via "),na(39,"em"),ja(40,"Datasource"),ra(),ja(41,". Next sample provides one of the approach of consistent "),na(42,"em"),ja(43,"Datasource"),ra(),ja(44," implementation with "),na(45,"em"),ja(46,"Adapter.append"),ra(),ja(47," and "),na(48,"em"),ja(49,"Adapter.prepend"),ra(),ja(50," methods usage. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(7),ta("ngModel",e.inputValue),Lr(8),za(e.appendCallSample),Lr(3),za(e.prependCallSample))},directives:[lb,zl,Bl,Vd],encapsulation:2}),t}(),Lb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Append / prepend sync",titleId:"append-prepend-sync",viewportId:"append-prepend-sync-viewport",count:0,log:""},this.MIN=100,this.MAX=200,this.datasource=new rf({get:function(e,n,r){for(var i=[],o=function(e){var n=t.data.find((function(t){return t.id===e}));n&&i.push(n)},a=e;a<e+n;a++)o(a);vb(t.demoContext,e,n,i.length),r(i)},settings:{startIndex:this.MIN}}),this.sources=[{name:Wy.Component,text:"MIN = 100;\nMAX = 200;\ninputValue = 1;\ndata: any[];\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n\ndoAppend() {\n  const items = [];\n  for (let i = 0; i < this.inputValue; i++) {\n    this.MAX++;\n    const newItem = {\n      id: this.MAX,\n      text: 'item #' + this.MAX + '*'\n    };\n    this.data.push(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.append({ items, eof: true });\n}\n\ndoPrepend() {\n  const items = [];\n  for (let i = 0; i < this.inputValue; i++) {\n    this.MIN--;\n    const newItem = {\n      id: this.MIN,\n      text: 'item #' + this.MIN + '*'\n    };\n    this.data.unshift(newItem);\n    items.push(newItem);\n  }\n  this.datasource.adapter.prepend({ items, bof: true});\n}"},{active:!0,name:Wy.Template,text:'<button (click)="doAppend()">Append</button> /\n<button (click)="doPrepend()">Prepend</button>\n<input [(ngModel)]="inputValue" size="2">\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.prependCallSample="Adapter.prepend({ items, bof })",this.appendCallSample="Adapter.append({ items, eof })",this.inputValue=1,this.data=[];for(var e=this.MIN;e<=this.MAX;e++)this.data.push({id:e,text:"item #"+e})}return t.prototype.onInputChanged=function(t){var e=parseInt(t.value.trim(),10);t.value=e.toString(),this.inputValue=e},t.prototype.doAppend=function(){for(var t=[],e=0;e<this.inputValue;e++){this.MAX++;var n={id:this.MAX,text:"item #"+this.MAX+"*"};this.data.push(n),t.push(n)}this.datasource.adapter.append({items:t,eof:!0})},t.prototype.doPrepend=function(){for(var t=[],e=0;e<this.inputValue;e++){this.MIN--;var n={id:this.MIN,text:"item #"+this.MIN+"*"};this.data.unshift(n),t.push(n)}this.datasource.adapter.prepend({items:t,bof:!0})},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-append-prepend-sync"]],decls:83,vars:6,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["size","3",3,"ngModel","change"],["description",""],["href","#/adapter#bof-eof"],["href","#/adapter#remove"],["href","#/adapter#insert"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"button",2),ua("click",(function(){return e.doAppend()})),ja(3,"Append"),ra(),ja(4," / "),na(5,"button",2),ua("click",(function(){return e.doPrepend()})),ja(6,"Prepend"),ra(),na(7,"input",3),ua("change",(function(t){return e.onInputChanged(t.target)})),ra(),ra(),na(8,"div",4),na(9,"p"),ja(10," Along with the "),na(11,"em"),ja(12,"items"),ra(),ja(13," parameter both "),na(14,"em"),ja(15,"Adapter.append"),ra(),ja(16," and "),na(17,"em"),ja(18,"Adapter.prepend"),ra(),ja(19," methods have "),na(20,"em"),ja(21,"eof"),ra(),ja(22,"/"),na(23,"em"),ja(24,"bof"),ra(),ja(25," parameter which is optional and which allows to prevent rendering of new items in the Viewport when the end of the dataset (if we are speaking of "),na(26,"em"),ja(27,"append"),ra(),ja(28,") or beginning of the dataset ("),na(29,"em"),ja(30,"prepend"),ra(),ja(31," case) is not reached. See also "),na(32,"a",5),ja(33,"bof/eof demo"),ra(),ja(34,". "),ra(),na(35,"p"),ja(36," Let's discuss "),na(37,"em"),ja(38),ra(),ja(39," case. If "),na(40,"em"),ja(41,"bof"),ra(),ja(42," is set to "),na(43,"em"),ja(44,"true"),ra(),ja(45," and the beginning of the dataset is reached (and no more items can be fetched in backward direction), then new items will be injected immediately. Otherwise new items will not appear, they will be virtualized: viewport backward padding element size will be increased in accordance with the number of new items multiplied by the average item size. The same is true for "),na(46,"em"),ja(47),ra(),ja(48," adjusted for forward direction and forward padding element. "),ra(),na(49,"p"),ja(50," In this demo we want the datasource to be consistent with the dataset changes made during append/prepend. For this purpose a limited dataset is initialized on the constructor and "),na(51,"em"),ja(52,"Datasource.get"),ra(),ja(53," takes items by "),na(54,"em"),ja(55,"id"),ra(),ja(56,", not by index. We can't rely on index because we are going to update our dataset per each "),na(57,"em"),ja(58,"doAppend"),ra(),ja(59," / "),na(60,"em"),ja(61,"doPrepend"),ra(),ja(62," calls destructively by "),na(63,"em"),ja(64,"unshift"),ra(),ja(65," and "),na(66,"em"),ja(67,"push"),ra(),ja(68,". This will guarantee stable data flow from the App component to the "),na(69,"em"),ja(70,"uiScroll"),ra(),ja(71,". "),ra(),na(72,"p"),ja(73," Practical use of this feature could be versatile, but the main idea is to synchronize, say, remote dataset changes with the "),na(74,"em"),ja(75,"uiScroll"),ra(),ja(76," state visible to the end user. Another examples of such synchronization could be found in "),na(77,"a",6),ja(78,"remove"),ra(),ja(79," and "),na(80,"a",7),ja(81,"insert"),ra(),ja(82," demos. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(7),ta("ngModel",e.inputValue),Lr(31),za(e.prependCallSample),Lr(9),za(e.appendCallSample))},directives:[lb,zl,Bl,Vd],encapsulation:2}),t}(),Fb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Check size",titleId:"check-size",viewportId:"check-size-viewport",count:0,log:""},this.MIN=1,this.MAX=200,this.startIndex=20,this.sizeValue=15,this.datasource=new rf({get:function(e,n,r){for(var i=[],o=function(e){var n=t.data.find((function(t){return t.id===e}));n&&i.push(n)},a=e;a<e+n;a++)o(a);vb(t.demoContext,e,n,i.length),r(i)},settings:{startIndex:this.startIndex}}),this.sources=[{name:Wy.Component,text:"MIN = 1;\nMAX = 200;\nstartIndex = 20;\nsizeValue = 15;\ndata: any[];\nneedAutoscroll: false;\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i, height: 50 });\n  }\n}\n\ndatasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  },\n  settings: {\n    startIndex: this.startIndex\n  }\n});\n\nfindElement(index: number) {\n  const viewportElement = document.getElementById(this.demoContext.viewportId);\n  return viewportElement\n    ? viewportElement.querySelector(`[data-sid=\"${index}\"]`)\n    : null;\n}\n\ndoChangeSize() {\n  const index = Number(this.startIndex - 5);\n  if (!isNaN(index)) {\n    for (let i = index; i < index + 10; i++) {\n      const element = this.findElement(i);\n      if (element) {\n        (<HTMLElement>element).style.height = this.sizeValue + 'px';\n        const item = this.data.find(_item => _item.id === i);\n        if (item) {\n          item.height = this.sizeValue;\n        }\n      }\n    }\n  }\n}\n\nautoscroll(index: number) {\n  const { adapter } = this.datasource;\n  let isLoadingSubscription: Subscription;\n  const done = () => isLoadingSubscription && isLoadingSubscription.unsubscribe();\n  isLoadingSubscription = adapter.isLoading$.subscribe(isLoading => {\n    if (isLoading) {\n      return;\n    }\n    const element = this.findElement(index);\n    const viewportElement = document.getElementById(this.demoContext.viewportId);\n    if (!element || !viewportElement) {\n      done();\n      return;\n    }\n    const elementTop = element.getBoundingClientRect().top;\n    const viewportTop = viewportElement.getBoundingClientRect().top;\n    const toScroll = viewportTop - elementTop;\n    const diff = viewportElement.scrollTop - toScroll;\n    if (viewportElement.scrollTop === diff) {\n      done();\n    } else {\n      adapter.fix({ scrollPosition: diff });\n      if (viewportElement.scrollTop === diff) {\n        done();\n      }\n    }\n  });\n}\n\ndoCheck() {\n  let firstVisibleIndex;\n  if (this.needAutoscroll) {\n    firstVisibleIndex = this.datasource.adapter.firstVisible.$index;\n  }\n  this.doChangeSize();\n  this.datasource.adapter.check();\n  if (firstVisibleIndex !== undefined) {\n    this.autoscroll(firstVisibleIndex);\n  }\n}"},{active:!0,name:Wy.Template,text:'<button (click)="doCheck(20)">Resize and Check</button>\n<br />\nAutoscroll: <input type="checkbox" [(ngModel)]="needAutoscroll"/>\n<br />\nFirst visible item\'s index: {{datasource.adapter.firstVisible.$index}}\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n  overflow: hidden;\n}"}],this.data=[];for(var e=this.MIN;e<=this.MAX;e++)this.data.push({id:e,text:"item #"+e,height:50})}return t.prototype.findElement=function(t){var e=document.getElementById(this.demoContext.viewportId);return e?e.querySelector('[data-sid="'+t+'"]'):null},t.prototype.doChangeSize=function(){var t=Number(this.startIndex-5);if(!isNaN(t))for(var e=function(t){var e=n.findElement(t);if(e){e.style.height=n.sizeValue+"px";var r=n.data.find((function(e){return e.id===t}));r&&(r.height=n.sizeValue)}},n=this,r=t;r<t+10;r++)e(r)},t.prototype.autoscroll=function(t){var e,n=this,r=this.datasource.adapter,i=function(){return e&&e.unsubscribe()};e=r.isLoading$.subscribe((function(e){if(!e){var o=n.findElement(t),a=document.getElementById(n.demoContext.viewportId);if(o&&a){var s=o.getBoundingClientRect().top,u=a.getBoundingClientRect().top,c=a.scrollTop-(u-s);a.scrollTop===c?i():(r.fix({scrollPosition:c}),a.scrollTop===c&&i())}else i()}}))},t.prototype.doCheck=function(){var t;this.needAutoscroll&&(t=this.datasource.adapter.firstVisible.$index),this.doChangeSize(),this.datasource.adapter.check(),void 0!==t&&this.autoscroll(t)},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-check-size"]],decls:35,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[3,"click"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"button",2),ua("click",(function(){return e.doCheck()})),ja(3,"Resize and Check"),ra(),ia(4,"br"),ja(5," Autoscroll: "),na(6,"input",3),ua("ngModelChange",(function(t){return e.needAutoscroll=t})),ra(),ia(7,"br"),ja(8),ra(),na(9,"div",4),na(10,"p"),na(11,"em"),ja(12,"Adapter.check"),ra(),ja(13," method could be useful when rows heights can change after rendering. By invoking "),na(14,"em"),ja(15,"Adapter.check()"),ra(),ja(16," we ask the "),na(17,"em"),ja(18,"uiScroll"),ra(),ja(19," to check if any of items that are in current viewport's buffer changed their size. "),ra(),na(20,"p"),ja(21," In this demo method "),na(22,"em"),ja(23,"doCheck"),ra(),ja(24," is implemented to "),ra(),na(25,"ul"),na(26,"li"),ja(27,"change real size of items (from 15 to 25) in DOM;"),ra(),na(28,"li"),ja(29,"run "),na(30,"em"),ja(31,"Adapter.check()"),ra(),ja(32,";"),ra(),na(33,"li"),ja(34,"autoscroll to item that was first visible before change (optionally)."),ra(),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(6),ta("ngModel",e.needAutoscroll),Lr(2),La(" First visible item's index: ",e.datasource.adapter.firstVisible.$index," "))},directives:[lb,Nl,Bl,Vd],encapsulation:2}),t}();function Ub(t,e){if(1&t){var n=oa();ja(0),na(1,"span",3),ua("click",(function(){en(n);var t=e.item;return da().doRemove(t.id)})),ja(2,"[remove]"),ra()}2&t&&La(" ",e.item.text," ")}var Hb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Remove",titleId:"remove",viewportId:"remove-viewport",addClass:"remove",count:0,log:""},this.MIN=-50,this.MAX=50,this.datasource=new rf({get:function(e,n,r){for(var i=[],o=function(e){var n=t.data.find((function(t){return t.id===e}));n&&i.push(n)},a=e;a<e+n;a++)o(a);vb(t.demoContext,e,n,i.length),r(i)}}),this.sources=[{name:Wy.Component,text:"MIN = -50;\nMAX = 50;\ndata: any[];\n\nconstructor() {\n  this.data = [];\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push({ id: i, text: 'item #' + i });\n  }\n}\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      const found = this.data.find(item => item.id === i);\n      if (found) {\n        data.push(found);\n      }\n    }\n    success(data);\n  }\n});\n\ndoRemoveDatasource(id: number) {\n  this.data = this.data.reduce((acc, item) => {\n    if (item.id !== id) {\n      if (item.id > id) {\n        item.id--;\n      }\n      acc.push(item);\n    }\n    return acc;\n  }, []);\n  this.MAX = this.data[this.data.length - 1].id;\n}\n\nasync doRemove(id: number) {\n  await this.datasource.adapter.remove(({ data }) => data.id === id);\n  this.doRemoveDatasource(id);\n}"},{active:!0,name:Wy.Template,text:'<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">\n      {{item.text}}\n      <span class="remove" (click)="doRemove(item.id)">[remove]</span>\n    </div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}\n.remove {\n  font-weight: normal;\n  font-size: smaller;\n  cursor: pointer;\n}\n.remove:hover {\n  color: rgb(158, 0, 0);\n}"}],this.predicateDescription="  this.datasource.adapter.remove(({ data }) => data.id === id);",this.data=[];for(var e=this.MIN;e<=this.MAX;e++)this.data.push({id:e,text:"item #"+e})}return t.prototype.doRemoveDatasource=function(t){this.data=this.data.reduce((function(e,n){return n.id!==t&&(n.id>t&&n.id--,e.push(n)),e}),[]),this.MAX=this.data[this.data.length-1].id},t.prototype.doRemove=function(t){return e=this,void 0,r=function(){return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(e){switch(e.label){case 0:return[4,this.datasource.adapter.remove((function(e){return e.data.id===t}))];case 1:return e.sent(),this.doRemoveDatasource(t),[2]}}))},new((n=void 0)||(n=Promise))((function(t,i){function o(t){try{s(r.next(t))}catch(e){i(e)}}function a(t){try{s(r.throw(t))}catch(e){i(e)}}function s(e){var r;e.done?t(e.value):(r=e.value,r instanceof n?r:new n((function(t){t(r)}))).then(o,a)}s((r=r.apply(e,[])).next())}));var e,n,r},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-remove"]],decls:44,vars:5,consts:[["itemTemplate",""],[3,"datasource","context","sources","itemTemplate"],["description",""],[1,"remove",3,"click"]],template:function(t,e){if(1&t&&(Xo(0,Ub,3,1,"ng-template",null,0,wu),na(2,"app-demo",1),na(3,"div",2),na(4,"p"),na(5,"em"),ja(6,"Adapter.remove"),ra(),ja(7," method allows to remove items from current "),na(8,"em"),ja(9,"uiScroll"),ra(),ja(10," buffer. This method accepts 1 argument which is a predicate function applying to each item in the current buffer. If the return value is true, the item will be removed. In this demo we have pretty simple predicate: "),ra(),na(11,"pre"),ja(12),ra(),na(13,"p"),ja(14," Since the argument of the predicate has "),na(15,"em"),ja(16,"ItemAdapter"),ra(),ja(17," type, the "),na(18,"em"),ja(19,"data"),ra(),ja(20," contains id-text objects defined at the component level. The argument of "),na(21,"em"),ja(22,"doRemove"),ra(),ja(23," method comes from the template as the "),na(24,"em"),ja(25,"id"),ra(),ja(26," of the item the user clicked on. "),ra(),na(27,"p"),ja(28," The very important thing is to synchronize our datasource with the changes we are making over the "),na(29,"em"),ja(30,"uiScroll"),ra(),ja(31," buffer via "),na(32,"em"),ja(33,"Adapter.remove"),ra(),ja(34,". Generally this is the App component responsibility, and in this demo it happens via "),na(35,"em"),ja(36,"doRemoveDatasource(id)"),ra(),ja(37," method. It removes item with given "),na(38,"em"),ja(39,"id"),ra(),ja(40," from the initial dataset, and decrements "),na(41,"em"),ja(42,"id"),ra(),ja(43," of all items whose ids are greater than the given one. "),ra(),ra(),ra()),2&t){var n=Qo(1);Lr(2),ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)("itemTemplate",n),Lr(10),za(e.predicateDescription)}},directives:[lb],encapsulation:2}),t}(),Bb=function(){function t(){this.demoContext={scope:"adapter",title:"Clip",titleId:"clip",viewportId:"clip-viewport",count:0,log:""},this.datasource=new rf({get:gb(this.demoContext),settings:{infinite:!0}}),this.sources=[{name:Wy.Component,text:"datasource = new Datasource ({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  },\n  settings: {\n    infinite: true\n  }\n});\n\ndoClip() {\n  this.datasource.adapter.clip();\n}"},{active:!0,name:Wy.Template,text:'<button (click)="doClip()">Clip</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Styles,text:".viewport {\n  width: 150px;\n  height: 250px;\n  overflow-y: auto;\n}\n.item {\n  font-weight: bold;\n  height: 25px;\n}"}],this.clipOptionsDescription="  AdapterClipOptions {\n    forwardOnly?: boolean;\n    backwardOnly?: boolean;\n  }",this.clipOptionsSample="{ forwardOnly: true }"}return t.prototype.doClip=function(){this.datasource.adapter.clip()},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-clip"]],decls:49,vars:5,consts:[[3,"datasource","context","sources"],["actions","",2,"display","flex"],[3,"click"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"button",2),ua("click",(function(){return e.doClip()})),ja(3,"Clip"),ra(),ra(),na(4,"div",3),na(5,"p"),na(6,"em"),ja(7,"Adapter.clip"),ra(),ja(8," is another "),na(9,"em"),ja(10,"Adapter"),ra(),ja(11," API method allowing to remove out-of-viewport items on demand. Commonly, the "),na(12,"em"),ja(13,"uiScroll"),ra(),ja(14," runs the clipping procedure each time new items are fetched after scrolling. Also, the "),na(15,"em"),ja(16,"uiScroll"),ra(),ja(17," clips old items from a side of the viewport that is opposite to a side where new items appear. This is one of the core parts of the virtualization concept. By invoking the "),na(18,"em"),ja(19,"Adapter.clip"),ra(),ja(20," method we are telling the "),na(21,"em"),ja(22,"uiScroll"),ra(),ja(23," to run this process immediately and remove items that are out of the visible part of the viewport in both directions or in specific direction. "),ra(),na(24,"p"),ja(25," This could be useful when we enlarge the list of items manually, via "),na(26,"em"),ja(27,"Adapter.append"),ra(),ja(28," or "),na(29,"em"),ja(30,".prepend"),ra(),ja(31," methods. For example, we appended 100 new items and started scrolling down, in forward direction. We might want the items that exit the viewport in backward direction to be clipped. Such a clipping will occur automatically only when we reach the bottom line of the buffer and new items are fetched and rendered in forward direction. If we don't want to wait, we just call "),na(32,"em"),ja(33,"Adapter.clip"),ra(),ja(34,". "),ra(),na(35,"p"),ja(36," This demo implements some artificial but quite illustrative case. Here we disabled virtualization by turning on the "),na(37,"em"),ja(38,"infinite"),ra(),ja(39,' setting. Clipping will never happen automatically. We see how the DOM elements counter value is getting bigger and bigger as we scroll on and on. By pressing the "Clip" button, we let only 20-21 items to survive. This way a kind of manual virtualization could be implemented. '),ra(),na(40,"p"),ja(41," The method has an argument object that allows to run clipping process only in one direction: "),ra(),na(42,"pre"),ja(43),ra(),na(44,"p"),ja(45," So, if we call "),na(46,"em"),ja(47),ra(),ja(48,", only those items that are out of the bottom edge of the visible part of the viewport will be clipped out. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(43),za(e.clipOptionsDescription),Lr(4),La("Adapter.clip(",e.clipOptionsSample,")"))},directives:[lb],encapsulation:2}),t}(),$b=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},qb=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat($b(arguments[e]));return t};function Wb(t,e){if(1&t&&(na(0,"div"),na(1,"div",13),na(2,"small"),ja(3),ra(),ja(4),ra(),ra()),2&t){var n=e.$implicit,r=e.index;Lr(3),La("",r,")"),Lr(1),La(" ",n," ")}}function Gb(t,e){if(1&t&&(na(0,"div"),na(1,"div",13),na(2,"small"),ja(3),ra(),ja(4),ra(),ra()),2&t){var n=e.$implicit,r=e.index;Lr(3),La("",r,")"),Lr(1),La(" ",n," ")}}var Zb=function(){function t(){var t=this;this.demoContext={scope:"adapter",title:"Insert",titleId:"insert",viewportId:"insert-viewport"},this.MIN=1,this.MAX=100,this.MIN2=1,this.MAX2=100,this.datasource=new rf({get:function(e,n,r){e-=t.MIN;var i=Math.max(0,e),o=Math.min(t.MAX-t.MIN+1,e+n);r(i>o?[]:t.data.slice(i,o))},settings:{startIndex:this.MIN}}),this.datasource2=new rf({get:function(e,n,r){e-=t.MIN2;var i=Math.max(0,e),o=Math.min(t.MAX2-t.MIN2+1,e+n);r(i>o?[]:t.data2.slice(i,o))},settings:{startIndex:this.MIN2}}),this.inputCount="2",this.inputIndex="3",this.inputCount2="2",this.inputIndex2="3",this.sources=[{active:!0,name:Wy.Component,text:"MIN = 1;\nMAX = 100;\ndata = [];\n\ninputCount = '2';\ninputIndex = '3';\n\nconstructor() {\n  for (let i = this.MIN; i <= this.MAX; i++) {\n    this.data.push('item #' + i);\n  }\n}\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    index -= this.MIN; // convert to natural indexes starting with 0\n    const start = Math.max(0, index);\n    const end = Math.min(this.MAX - this.MIN + 1, index + count);\n    if (start > end) {\n      success([]);\n      return;\n    }\n    success(this.data.slice(start, end));\n  },\n  settings: {\n    startIndex: this.MIN\n  }\n});\n  "},{name:"Increase",text:"\ndoInsert() {\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MAX++;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.push(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  this.datasource.adapter.insert({\n    after: ({ data }) => data === itemData,\n    items\n  });\n}\n"},{name:"Decrease",text:"\ndoInsert() {\n  const count = Number(this.inputCount); // first input\n  const itemData = 'item #' + this.inputIndex; // second input\n  const index = this.data.indexOf(itemData);\n  if (index < 0 || isNaN(count)) {\n    return;\n  }\n  const items = [];\n  for (let i = 1; i <= count; i++) {\n    this.MIN--;\n    const newItem = itemData + ' ' + Array(i).fill('*').join('');\n    items.unshift(newItem);\n  }\n  this.data = [\n    ...this.data.slice(0, index),\n    ...items,\n    ...this.data.slice(index)\n  ];\n  this.datasource.adapter.insert({\n    before: ({ data }) => data === itemData,\n    items,\n    decrease: true\n  });\n}\n"}],this.argumentsDescription="  AdapterInsertOptions {\n    items: any[];\n    before?: ItemsPredicate;\n    after?: ItemsPredicate;\n    decrease?: boolean;\n  }",this.data=[];for(var e=this.MIN;e<=this.MAX;e++)this.data.push("item #"+e);for(this.data2=[],e=this.MIN2;e<=this.MAX2;e++)this.data2.push("item #"+e)}return t.prototype.doInsert=function(){var t="item #"+this.inputIndex,e=this.data.indexOf(t),n=Number(this.inputCount);if(!(e<0||isNaN(n))){for(var r=[],i=1;i<=n;i++){this.MAX++;var o=t+" "+Array(i).fill("*").join("");r.push(o)}this.data=qb(this.data.slice(0,e),r,this.data.slice(e)),this.datasource.adapter.insert({after:function(e){return e.data===t},items:r})}},t.prototype.doInsert2=function(){var t="item #"+this.inputIndex2,e=this.data.indexOf(t),n=Number(this.inputCount2);if(!(e<0||isNaN(n))){for(var r=[],i=1;i<=n;i++){this.MIN2--;var o=t+" "+Array(i).fill("*").join("");r.unshift(o)}this.data2=qb(this.data2.slice(0,e),r,this.data2.slice(e)),this.datasource2.adapter.insert({before:function(e){return e.data===t},items:r,decrease:!0})}},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-demo-insert"]],decls:109,vars:9,consts:[[1,"demo"],[3,"context"],[1,"work"],[1,"viewport-wrapper"],[1,"actions"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["size","4",3,"ngModel","ngModelChange"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[3,"sources"],[1,"description"],[1,"item"]],template:function(t,e){1&t&&(na(0,"div",0),ia(1,"app-demo-title",1),na(2,"div",2),na(3,"div",3),na(4,"div",4),na(5,"button",5),ua("click",(function(){return e.doInsert()})),ja(6,"Insert"),ra(),na(7,"input",6),ua("ngModelChange",(function(t){return e.inputCount=t})),ra(),ja(8," items "),ia(9,"br"),ja(10," after item #"),na(11,"input",7),ua("ngModelChange",(function(t){return e.inputIndex=t})),ra(),ia(12,"br"),ja(13," incrementally "),ra(),na(14,"div",8),Xo(15,Wb,5,2,"div",9),ra(),ra(),na(16,"div",3),na(17,"div",4),na(18,"button",5),ua("click",(function(){return e.doInsert2()})),ja(19,"Insert"),ra(),na(20,"input",6),ua("ngModelChange",(function(t){return e.inputCount2=t})),ra(),ja(21," items "),ia(22,"br"),ja(23," before item #"),na(24,"input",7),ua("ngModelChange",(function(t){return e.inputIndex2=t})),ra(),ia(25,"br"),ja(26," decrementally "),ra(),na(27,"div",8),Xo(28,Gb,5,2,"div",9),ra(),ra(),ia(29,"div",10),ra(),ia(30,"app-demo-sources",11),na(31,"div",12),na(32,"p"),na(33,"em"),ja(34,"Adapter.insert"),ra(),ja(35," method is dedicated for adding items in the runtime without scrolling. It allows to insert new items before or after specified one. The argument of this method is an object of the following type: "),ra(),na(36,"pre"),ja(37),ra(),na(38,"p"),ja(39," The "),na(40,"em"),ja(41,"items"),ra(),ja(42," option is an array we want to be added to the viewport. This is mandatory field. Both "),na(43,"em"),ja(44,"before"),ra(),ja(45," and "),na(46,"em"),ja(47,"after"),ra(),ja(48," options are predicate functions applying to each item in the current buffer. The first "),na(49,"em"),ja(50,"true"),ra(),ja(51," result of running the predicate determines the item before/after which the new ones should appear. Only one of the "),na(52,"em"),ja(53,"before"),ra(),ja(54," and "),na(55,"em"),ja(56,"after"),ra(),ja(57," fields is allowed. "),ra(),na(58,"p"),ja(59," The last option is "),na(60,"em"),ja(61,"decrease"),ra(),ja(62,". The indexes of the items following after the inserted ones increase by default. This behavior can be changed, and setting "),na(63,"em"),ja(64,"decrease"),ra(),ja(65," to "),na(66,"em"),ja(67,"true"),ra(),ja(68,", we are telling the "),na(69,"em"),ja(70,"uiScroll"),ra(),ja(71," that we want to decrease the indexes of the items that are before the inserted ones. "),ra(),na(72,"p"),ja(73," The demo shows how the "),na(74,"em"),ja(75,"Adapter.insert"),ra(),ja(76,' method can be used in the real life. "Component" tab contains common datasource logic. "Increase" and "Decrease" tabs present inserting logic for both cases we have in this demo. Note that each item there is just a string, and the '),na(77,"em"),ja(78,"uiScroll"),ra(),ja(79," deals with natural indexes, which forces us to subtract "),na(80,"em"),ja(81,"MIN"),ra(),ja(82," value from the "),na(83,"em"),ja(84,"index"),ra(),ja(85," coming into the "),na(86,"em"),ja(87,"Datasource.get"),ra(),ja(88," body. "),ra(),na(89,"p"),ja(90," Also, this is very important to maintain consistency between the external "),na(91,"em"),ja(92,"Datasource"),ra(),ja(93," and the internal "),na(94,"em"),ja(95,"uiScroll"),ra(),ja(96," buffer. Both "),na(97,"em"),ja(98,"doInsert"),ra(),ja(99," methods do it.They a) generate new items in a for-loop, b) insert them into the datasource by updating "),na(100,"em"),ja(101,"this.data"),ra(),ja(102,", c) insert them into the internal "),na(103,"em"),ja(104,"Buffer"),ra(),ja(105," via "),na(106,"em"),ja(107,"Adapter.insert"),ra(),ja(108,". "),ra(),ra(),ra()),2&t&&(Lr(1),ta("context",e.demoContext),Lr(6),ta("ngModel",e.inputCount),Lr(4),ta("ngModel",e.inputIndex),Lr(4),ta("uiScrollOf",e.datasource),Lr(5),ta("ngModel",e.inputCount2),Lr(4),ta("ngModel",e.inputIndex2),Lr(4),ta("uiScrollOf",e.datasource2),Lr(2),ta("sources",e.sources),Lr(7),za(e.argumentsDescription))},directives:[Gy,zl,Bl,Vd,fm,Ky],encapsulation:2}),t}(),Xb=function(){function t(){this.importSample="  import { Datasource } from 'ngx-ui-scroll';",this.datasourceSample="  datasource = new Datasource({\n    get: ... ,\n    settings: { ... }\n  });"}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-samples-adapter"]],decls:68,vars:2,template:function(t,e){1&t&&(na(0,"h1"),ja(1,"Angular UI Scroll Adapter Demos"),ra(),na(2,"p"),na(3,"em"),ja(4,"Adapter"),ra(),ja(5," is\xa0a\xa0special object to\xa0assess and manipulate the "),na(6,"em"),ja(7,"uiScroll"),ra(),ja(8,". The API it\xa0provides is\xa0 discussed on\xa0this page. In order to get an access to the "),na(9,"em"),ja(10,"Adapter"),ra(),ja(11," API, the "),na(12,"em"),ja(13,"Datasource"),ra(),ja(14," has to be instantiated via operator "),na(15,"em"),ja(16,"new"),ra(),ja(17,":\n"),ra(),na(18,"pre"),ja(19),ra(),na(20,"p"),ja(21," The constructor argument is\xa0an\xa0object of\xa0"),na(22,"em"),ja(23,"IDatasource"),ra(),ja(24," type which must include "),na(25,"em"),ja(26,"get"),ra(),ja(27," method property and may include "),na(28,"em"),ja(29,"settings"),ra(),ja(30," object property. The "),na(31,"em"),ja(32,"uiScroll"),ra(),ja(33," augments the result "),na(34,"em"),ja(35,"Datasource"),ra(),ja(36," object with the "),na(37,"em"),ja(38,"Adapter"),ra(),ja(39," object property during instantiating. So, after the "),na(40,"em"),ja(41,"Datasource"),ra(),ja(42," object had been instantiated, we\xa0may access "),na(43,"em"),ja(44,"this.datasource.adapter"),ra(),ja(45," property object with its API methods and properties. "),na(46,"em"),ja(47,"Datasource"),ra(),ja(48," definition could be\xa0imported from the "),na(49,"em"),ja(50,"UiScrollModule"),ra(),ja(51,":\n"),ra(),na(52,"pre"),ja(53),ra(),ia(54,"app-demo-adapter-return-value"),ia(55,"app-demo-reload"),ia(56,"app-demo-reset"),ia(57,"app-demo-is-loading"),ia(58,"app-demo-is-loading-advanced"),ia(59,"app-demo-items-count"),ia(60,"app-demo-bof-eof"),ia(61,"app-demo-first-last-visible-items"),ia(62,"app-demo-append-prepend"),ia(63,"app-demo-append-prepend-sync"),ia(64,"app-demo-check-size"),ia(65,"app-demo-remove"),ia(66,"app-demo-clip"),ia(67,"app-demo-insert")),2&t&&(Lr(19),za(e.datasourceSample),Lr(34),za(e.importSample))},directives:[Ab,Ob,Pb,Db,Mb,Rb,Nb,jb,zb,Lb,Fb,Hb,Bb,Zb],encapsulation:2}),t}(),Qb=function(){function t(){this.demoContext={scope:"datasource",title:"Datasource get-method signatures",titleId:"datasource-get-signatures",noWorkView:!0},this.sources=[{name:Wy.Datasource,text:"datasourceCallback: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourcePromise: IDatasource = {\n  get: (index, count) => new Promise(resolve =>\n    resolve(this.getData(index, count))\n  )\n};\n\ndatasourceObservable: IDatasource = {\n  get: (index, count) => Observable.create(observer =>\n    observer.next(this.getData(index, count))\n};\n\ndatasourcePromise2: IDatasource = {\n  get: (index, count) =>\n    this.getDataPromise(index, count)\n};\n\ndatasourceObservable2: IDatasource = {\n  get: (index, count) =>\n    this.getDataObservable(index, count)\n};"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-datasource-signatures"]],decls:57,vars:2,consts:[[3,"context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," All the datasources listed above are valid. The first version ("),na(4,"em"),ja(5,"datasourceCallback"),ra(),ja(6,") introduces simplest callback-based signature when we need to pass third function argument and call it explicitly with the items array argument. We assume that "),na(7,"em"),ja(8,"this.getData(index, count)"),ra(),ja(9," returns appropriate part of the dataset we want to virtualize, which is an array of "),na(10,"em"),ja(11,"count"),ra(),ja(12," items started from "),na(13,"em"),ja(14,"index"),ra(),ja(15," position. "),ra(),na(16,"p"),na(17,"em"),ja(18,"datasourcePromise"),ra(),ja(19," and "),na(20,"em"),ja(21,"datasourcePromise2"),ra(),ja(22," introduce promise-based signature when an object of "),na(23,"em"),ja(24,"Promise"),ra(),ja(25," type needs to be returned. Resolving this promise is our responsibility, and we assume that "),na(26,"em"),ja(27,"this.getDataPromise"),ra(),ja(28," method resolves necessary part of the dataset based on "),na(29,"em"),ja(30,"index"),ra(),ja(31," and "),na(32,"em"),ja(33,"count"),ra(),ja(34," parameters. "),ra(),na(35,"p"),na(36,"em"),ja(37,"datasourceObservable"),ra(),ja(38," and "),na(39,"em"),ja(40,"datasourceObservable2"),ra(),ja(41," introduce observable-based signature when an object of "),na(42,"em"),ja(43,"Observable"),ra(),ja(44," type needs to be returned. Similar to promise case we need to be sure that the "),na(45,"em"),ja(46,"next"),ra(),ja(47," method is called in appropriate time, and we assume that "),na(48,"em"),ja(49,"this.getDataObservable"),ra(),ja(50," method that delivers necessary part of the dataset based on "),na(51,"em"),ja(52,"index"),ra(),ja(53," and "),na(54,"em"),ja(55,"count"),ra(),ja(56," parameters. "),ra(),ra(),ra()),2&t&&ta("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),Jb=function(){function t(){var t=this;this.demoContext={scope:"datasource",title:"Unlimited bidirectional datasource",titleId:"unlimited-bidirectional",logViewOnly:!0,log:"",count:0},this.datasource={get:function(e,n,r){for(var i=[],o=e;o<=e+n-1;o++)i.push({id:o,text:"item #"+o});vb(t.demoContext,e,n,i.length),r(i)}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i <= index + count - 1; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n};"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-bidirectional-unlimited-datasource"]],decls:30,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," The datasource implemented here has no boundaries. The result "),na(4,"em"),ja(5,"data"),ra(),ja(6," array will consist of "),na(7,"em"),ja(8,"count"),ra(),ja(9," items started from "),na(10,"em"),ja(11,"index"),ra(),ja(12," position regardless of "),na(13,"em"),ja(14,"count"),ra(),ja(15," and "),na(16,"em"),ja(17,"index"),ra(),ja(18," values. They could be any finite integers. "),ra(),na(19,"p"),ja(20," This sample as well as following ones does include "),na(21,"em"),ja(22,"Datasource.get"),ra(),ja(23," method log telling us how many items are fetched by the "),na(24,"em"),ja(25,"uiScroll"),ra(),ja(26," via "),na(27,"em"),ja(28,"Datasource"),ra(),ja(29,". "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),Kb=function(){function t(){var t=this;this.demoContext={scope:"datasource",title:"Limited datasource",titleId:"limited",logViewOnly:!0,log:"",count:0},this.MIN=-99,this.MAX=900,this.datasource={get:function(e,n,r){var i=[],o=Math.max(t.MIN,e),a=Math.min(e+n-1,t.MAX);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});vb(t.demoContext,e,n,i.length),r(i)}},this.sources=[{name:Wy.Datasource,text:"MIN = -99;\nMAX = 900;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-limited-datasource"]],decls:24,vars:3,consts:[[3,"datasource","context","sources"],["description",""],["href","#/#min-max-indexes"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," The datasource could be limited. In this sample we have only 1000 items in the dataset: from -99 to 900 including 0. If at some point the "),na(4,"em"),ja(5,"uiScroll"),ra(),ja(6," will request this datasource for, say, 10 items started from -105 index, then the result will consist of only 4 items: -99, -98, -97, -96. It is also important to return empty array if we are out of range. "),ra(),na(7,"p"),ja(8," Another option of how to limit the datasource is to use "),na(9,"a",2),ja(10,"minIndex and maxIndex settings"),ra(),ja(11,"; this way the implementation of the "),na(12,"em"),ja(13,"Datasource.get"),ra(),ja(14," method could remain unlimited as the "),na(15,"em"),ja(16,"uiScroll"),ra(),ja(17," will not request for items that are out of ["),na(18,"em"),ja(19,"minIndex"),ra(),ja(20,"; "),na(21,"em"),ja(22,"maxIndex"),ra(),ja(23,"] range. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),Yb=function(){function t(){var t=this;this.demoContext={scope:"datasource",title:"Positive limited datasource",titleId:"positive-limited-indexes",logViewOnly:!0,log:"",count:0},this.datasource={get:function(e,n,r){var i=[],o=Math.max(1,e),a=e+n-1;if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});vb(t.demoContext,e,n,i.length),r(i)}},this.sources=[{name:Wy.Datasource,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(1, index); // or 0\n    const end = index + count - 1;\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  }\n};"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-positive-limited-datasource"]],decls:18,vars:3,consts:[[3,"datasource","context","sources"],["description",""],["href","#/#min-max-indexes"],["href","#/#start-index"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," If we are not going to deal with negative indexes, we can fix the datasource left boundary at 1 (or 0 depends on your needs). This is a particular case of limited datasource discussed above with only "),na(4,"em"),ja(5,"MIN"),ra(),ja(6," value set up. Also, positive limitation could be alternatively achieved by assigning 1 (or 0) value to "),na(7,"a",2),ja(8,"minIndex setting"),ra(),ja(9,". "),ra(),na(10,"p"),ja(11," Note that if 0 index is the left boundary of the dataset, then it seems reasonable to assign 0 value to "),na(12,"a",3),ja(13,"startIndex setting"),ra(),ja(14," too, because the default "),na(15,"em"),ja(16,"startIndex"),ra(),ja(17," value is 1. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}();function tw(t,e){if(1&t&&(na(0,"div"),na(1,"div",9),ja(2),ra(),ra()),2&t){var n=e.$implicit;Lr(2),za(n.text)}}function ew(t,e){if(1&t&&(na(0,"div"),na(1,"div",9),ja(2),ra(),ra()),2&t){var n=e.$implicit;Lr(2),za(n.text)}}var nw=function(){function t(){var t=this;this.context={scope:"datasource",title:"Inverted datasource",titleId:"inverted-indexes",noWorkView:!0},this.MIN=1,this.datasourceCommon={get:function(e,n,r){return r(t.getData(e,n))}},this.datasourceInverted={get:function(e,n,r){r(t.getData(-e-n+t.MIN,n).reverse())},settings:{startIndex:-10}},this.sources=[{name:Wy.Component,text:"MIN = 1;\n\ndatasourceCommon: IDatasource = {\n  get: (index, count, success) =>\n    success(this.getData(index, count))\n};\n\ndatasourceInverted: IDatasource = {\n  get: (index, count, success) => {\n    const _index = -index - count + this.MIN;\n    const data = this.getData(_index, count).reverse();\n    success(data);\n  },\n  settings: {\n    startIndex: -10\n  }\n};\n\ngetData(index: number, count: number) {\n  const data = [];\n  const start = Math.max(this.MIN, index);\n  const end = index + count - 1;\n  if (start <= end) {\n    for (let i = start; i <= end; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n  }\n  return data;\n}"}]}return t.prototype.getData=function(t,e){var n=[],r=Math.max(this.MIN,t),i=t+e-1;if(r<=i)for(var o=r;o<=i;o++)n.push({id:o,text:"item #"+o});return n},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-inverted-datasource"]],decls:53,vars:4,consts:[[1,"demo"],[3,"context"],[1,"work"],[1,"viewport-wrapper"],[1,"viewport-label"],[1,"viewport"],[4,"uiScroll","uiScrollOf"],[1,"clearfix","mb-3"],[1,"prettyprint"],[1,"item"]],template:function(t,e){1&t&&(na(0,"div",0),ia(1,"app-demo-title",1),na(2,"div",2),na(3,"div",3),na(4,"div",4),ja(5,"common \u2193"),ra(),na(6,"div",5),Xo(7,tw,3,1,"div",6),ra(),ra(),na(8,"div",3),na(9,"div",4),ja(10,"inverted \u2191"),ra(),na(11,"div",5),Xo(12,ew,3,1,"div",6),ra(),ra(),ia(13,"div",7),ra(),na(14,"pre",8),ja(15),ra(),na(16,"p"),na(17,"em"),ja(18,"Datasource.get"),ra(),ja(19,' method implementation could be quite complex and flexible. This piece demonstrates how the dataset we want to virtualize could be processed to provide "inverted" viewport logic when new positive items are retrieved by scrolling up. '),ra(),na(20,"p"),na(21,"em"),ja(22,"getData"),ra(),ja(23," method implements positive limited datasource as it was done in the previous sample with only change: left dataset boundary is parametrized by "),na(24,"em"),ja(25,"MIN"),ra(),ja(26," property. So "),na(27,"em"),ja(28,"datasourceCommon.get"),ra(),ja(29," just passes "),na(30,"em"),ja(31,"getData"),ra(),ja(32," result to its "),na(33,"em"),ja(34,"success"),ra(),ja(35," callback. "),ra(),na(36,"p"),ja(37," But "),na(38,"em"),ja(39,"datasourceInverted.get"),ra(),ja(40," does the simple math: it inverts and shifts the "),na(41,"em"),ja(42,"index"),ra(),ja(43," and reverses the result array. So the "),na(44,"em"),ja(45,"uiScroll"),ra(),ja(46," gets some specifically processed portion of our dataset that reflects our needs. By settings "),na(47,"em"),ja(48,"startIndex"),ra(),ja(49," value to -10 in this case we are telling that we want 10 items to be fetched and rendered in forward direction initially. And it does not depend on "),na(50,"em"),ja(51,"MIN"),ra(),ja(52,", it does depend on the viewport and single item size: 10 items are visible. "),ra(),ra()),2&t&&(Lr(1),ta("context",e.context),Lr(6),ta("uiScrollOf",e.datasourceCommon),Lr(5),ta("uiScrollOf",e.datasourceInverted),Lr(3),za(e.sources[0].text))},directives:[Gy,fm],encapsulation:2}),t}(),rw=function(t,e){var n="function"==typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(s){i={error:s}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},iw=function(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(rw(arguments[e]));return t},ow=function(){function t(){var t=this;this.demoContext={scope:"datasource",title:"Pages datasource",titleId:"pages",logViewOnly:!0,log:""},this.getCount=0,this.pagesCount=30,this.pageSize=7,this.datasource={get:function(e,n,r){t.getCount++,t.demoContext.log="\n"+t.demoContext.log,t.demoContext.log=t.getCount+".1 index = "+e+", count = "+n+"\n"+t.demoContext.log;var i=Math.max(e,0),o=e+n-1;if(i>o)return t.demoContext.log=t.getCount+".2 empty result\n"+t.demoContext.log,void r([]);t.demoContext.log=t.getCount+".2 requesting items ["+i+".."+o+"]\n"+t.demoContext.log;for(var a=Math.floor(i/t.pageSize),s=Math.floor(o/t.pageSize),u=[],c=[],l=a;l<=s;l++)c.push(l),u=iw(u,t.getDataPage(l));t.demoContext.log=t.getCount+".3 requesting pages: "+c.join(", ")+"\n"+t.demoContext.log,t.demoContext.log=t.getCount+".4 "+(u.length?"pages result ["+u[0].index+".."+u[u.length-1].index+"]":"empty result")+"\n"+t.demoContext.log;var d=i-a*t.pageSize,p=u.slice(d,d+o-i+1);t.demoContext.log=(p.length?t.getCount+".5 sliced result ["+p[0].index+".."+p[p.length-1].index+"]\n":"")+t.demoContext.log,r(p)},settings:{startIndex:0}},this.sources=[{name:Wy.Component,text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    // items to request (x.2)\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    // pages to request (x.3)\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    // pages result (x.4)\n    let pagesResult: any[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesResult = [...pagesResult, ...this.getDataPage(i)];\n    }\n\n    // sliced result (x.5)\n    const start = startIndex - startPage * this.pageSize;\n    const end = start + endIndex - startIndex + 1;\n    const data = pagesResult.slice(start, end);\n\n    success(data);\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\npagesCount = 30;\npageSize = 7;\ndata: any[];\n\nconstructor() {\n  this.data = [];\n  for (let i = 0; i < this.pagesCount; i++) {\n    this.data[i] = [];\n    for (let j = 0; j < this.pageSize; j++) {\n      const index = i * this.pageSize + j;\n      this.data[i].push({\n        index,\n        text: 'test ' + index\n      });\n    }\n  }\n}\n\ngetDataPage(page: number) {\n  if (page < 0 || page >= this.pagesCount) {\n    return [];\n  }\n  return this.data[page];\n}"},{name:Wy.Component+" (async)",text:"datasource: IDatasource = {\n  get: (index, count, success) => {\n    const startIndex = Math.max(index, 0);\n    const endIndex = index + count - 1;\n    if (startIndex > endIndex) {\n      success([]); // empty result\n      return;\n    }\n\n    const startPage = Math.floor(startIndex / this.pageSize);\n    const endPage = Math.floor(endIndex / this.pageSize);\n\n    const pagesRequest: any[] = [];\n    for (let i = startPage; i <= endPage; i++) {\n      pagesRequest.push(\n        this.remoteDataService.getDataPageAsync(i)\n      );\n    }\n    return Promise.all(pagesRequest).then(pagesResult => {\n      pagesResult = pagesResult.reduce((acc, result) =>\n        [...acc, ...result]\n      , []);\n      const start = startIndex - startPage * this.pageSize;\n      const end = start + endIndex - startIndex + 1;\n      return pagesResult.slice(start, end);\n    });\n  },\n  settings: {\n    startIndex: 0\n  }\n};\n\nconstructor(\n  private remoteDataService: RemoteDataService\n) {\n}"}],this.data=[];for(var e=0;e<this.pagesCount;e++){this.data[e]=[];for(var n=0;n<this.pageSize;n++){var r=e*this.pageSize+n;this.data[e].push({index:r,text:"test "+r})}}}return t.prototype.getDataPage=function(t){return t<0||t>=this.pagesCount?[]:this.data[t]},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-pages-datasource"]],decls:46,vars:3,consts:[[3,"datasource","context","sources"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"p"),ja(3," This sample demonstrates how the "),na(4,"em"),ja(5,"uiScroll"),ra(),ja(6,' can be integrated with the datasource which has "pages" API only. The '),na(7,"em"),ja(8,"uiScroll"),ra(),ja(9,' deals with "offset-limit" (that is "index-count") API by default, but necessary transition layer could be implemented via '),na(10,"em"),ja(11,"datasource.get"),ra(),ja(12,". "),ra(),na(13,"p"),ja(14," The "),na(15,"em"),ja(16,"constructor"),ra(),ja(17," initializes "),na(18,"em"),ja(19,"data"),ra(),ja(20," two-dimensional array, "),na(21,"em"),ja(22,"getDataPage"),ra(),ja(23,' method simulates "pages" API. We are assuming that '),na(24,"em"),ja(25,"getDataPage"),ra(),ja(26," is the only entry point to our data. Then each time the "),na(27,"em"),ja(28,"datasource.get"),ra(),ja(29,' method is called, we are converting "index-count" API params to appropriate pages numbers, retrieving these pages, joining pages results and slicing it to resolve the exactly part of the dataset the '),na(30,"em"),ja(31,"uiScroll"),ra(),ja(32," needs for. "),ra(),na(33,"p"),na(34,"em"),ja(35,"getDataPage"),ra(),ja(36," could be async, let's imagine that there is "),na(37,"em"),ja(38,"remoteDataService"),ra(),ja(39," which has "),na(40,"em"),ja(41,"getDataPageAsync"),ra(),ja(42," method which returns "),na(43,"em"),ja(44,"Promise"),ra(),ja(45,'. Using promise-based signature in this case, x.3, x.4 and x.5 code sections might be rewritten as it is shown in "Component (async)" tab. '),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),aw=function(){function t(){this.importSample="import { Datasource, IDatasource } from 'ngx-ui-scroll';",this.datasourceSampleLiteral="datasource: IDatasource = { ... };",this.datasourceSampleClass="datasource = new Datasource({ ... });"}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-datasource"]],decls:105,vars:3,consts:[["href","#adapter"],["href","#settings"]],template:function(t,e){1&t&&(na(0,"h1"),ja(1,"Angular UI Scroll Datasource Demos"),ra(),na(2,"p"),ja(3," The idea of\xa0the "),na(4,"em"),ja(5,"*uiScroll"),ra(),ja(6," directive usage is\xa0very similar to\xa0the\xa0use of\xa0"),na(7,"em"),ja(8,"*ngFor"),ra(),ja(9," directive in\xa0the simplest case, but as\xa0it\xa0follows from the documentation, a\xa0special "),na(10,"em"),ja(11,"Datasource"),ra(),ja(12," object needs to\xa0be\xa0passed instead of Angular "),na(13,"em"),ja(14,"Iterable"),ra(),ja(15,". "),na(16,"em"),ja(17,"Datasource"),ra(),ja(18," is\xa0an\xa0entry point to\xa0the "),na(19,"em"),ja(20,"uiScroll"),ra(),ja(21,", that provides data flow from the host App to the "),na(22,"em"),ja(23,"uiScroll"),ra(),ja(24,". There are two common ways of\xa0how the "),na(25,"em"),ja(26,"Datasource"),ra(),ja(27," could be\xa0defined:\n"),ra(),na(28,"ul"),na(29,"li"),ja(30," as an object literal of "),na(31,"em"),ja(32,"IDatasource"),ra(),ja(33," type "),na(34,"pre"),ja(35),ra(),ra(),na(36,"li"),ja(37," as an instance of "),na(38,"em"),ja(39,"Datasource"),ra(),ja(40," class "),na(41,"pre"),ja(42),ra(),ra(),ra(),na(43,"p"),ja(44," The constructor argument in\xa0the second case should be\xa0an object of "),na(45,"em"),ja(46,"IDatasource"),ra(),ja(47," type. Instantiating via operator "),na(48,"em"),ja(49,"new"),ra(),ja(50," is\xa0needed for the "),na(51,"em"),ja(52,"Adapter"),ra(),ja(53," to\xa0be\xa0available on\xa0the result "),na(54,"em"),ja(55,"datasource"),ra(),ja(56," object (for details see "),na(57,"a",0),ja(58,"Adapter demo page"),ra(),ja(59,"). Both of\xa0"),na(60,"em"),ja(61,"IDatasource"),ra(),ja(62," and "),na(63,"em"),ja(64,"Datasource"),ra(),ja(65," definitions could be\xa0imported from "),na(66,"em"),ja(67,"UiScrollModule"),ra(),ja(68,":\n"),ra(),na(69,"pre"),ja(70),ra(),na(71,"p"),ja(72," The "),na(73,"em"),ja(74,"IDatasource"),ra(),ja(75," object we need to define in both cases\n"),ra(),na(76,"ul"),na(77,"li"),ja(78,"must contain "),na(79,"em"),ja(80,"get"),ra(),ja(81," method property and"),ra(),na(82,"li"),ja(83,"may contain "),na(84,"em"),ja(85,"settings"),ra(),ja(86," object property."),ra(),ra(),na(87,"p"),ja(88," With the help of\xa0"),na(89,"em"),ja(90,"settings"),ra(),ja(91," object the scroller could be\xa0configured, as\xa0it\xa0is\xa0 described on\xa0"),na(92,"a",1),ja(93,"Settings demo page"),ra(),ja(94,". Here we\xa0are going to\xa0discuss the "),na(95,"em"),ja(96,"Datasource.get"),ra(),ja(97," method implementation.\n"),ra(),ia(98,"app-datasource-signatures"),ia(99,"app-bidirectional-unlimited-datasource"),ia(100,"app-limited-datasource"),ia(101,"app-positive-limited-datasource"),ia(102,"app-remote-datasource"),ia(103,"app-inverted-datasource"),ia(104,"app-pages-datasource")),2&t&&(Lr(35),za(e.datasourceSampleLiteral),Lr(7),za(e.datasourceSampleClass),Lr(28),za(e.importSample))},directives:[Qb,Jb,Kb,Yb,pb,nw,ow],encapsulation:2}),t}(),sw=function(){function t(){this.demoContext={scope:"experimental",title:"Adapter relax",titleId:"adapter-relax",noInfo:!0},this.datasource=new rf({get:function(t,e,n){for(var r=[],i=t;i<t+e;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{active:!0,name:"Relax",text:"\nasync doReplace() {\n  const { adapter } = this.datasource;\n  adapter.remove(({ $index }) =>\n    $index > 4 && $index < 8\n  );\n  await adapter.relax();\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4 }\n  );\n}\n"},{name:"Is loading",text:"\ndoReplace() {\n  const { adapter } = this.datasource;\n  adapter.remove(({ $index }) =>\n    $index > 4 && $index < 8\n  );\n  const insert = () => adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4 }\n  );\n  if (!adapter.isLoading) {\n    insert();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => insert());\n  }\n}\n"},{name:"Relax cb",text:"\ndoReplace() {\n  const { adapter } = this.datasource;\n  adapter.remove(({ $index }) =>\n    $index > 4 && $index < 8\n  );\n  adapter.relax(() =>\n    adapter.insert({\n      items: [{ id: '5*', text: 'item #5 *' }],\n      after: ({ $index }) => $index === 4 }\n    );\n  );\n}\n"},{name:"Return",text:"  async doReplace() {\n  const { adapter } = this.datasource;\n  await adapter.remove(({ $index }) =>\n    $index > 4 && $index < 8\n  );\n  adapter.insert({\n    items: [{ id: '5*', text: 'item #5 *' }],\n    after: ({ $index }) => $index === 4 }\n  );\n}\n"}],this.isLoadingSample="\n  if (!adapter.isLoading) {\n    doSomething();\n  } else {\n    adapter.isLoading$\n      .pipe(filter(isLoading => !isLoading), take(1))\n      .subscribe(() => doSomething());\n  }",this.relaxSample="\n  await adapter.relax();\n  doSomething();"}return t.prototype.doReplace=function(){return t=this,void 0,n=function(){var t,e;return function(t,e){var n,r,i,o,a={label:0,sent:function(){if(1&i[0])throw i[1];return i[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(o){return function(s){return function(o){if(n)throw new TypeError("Generator is already executing.");for(;a;)try{if(n=1,r&&(i=2&o[0]?r.return:o[0]?r.throw||((i=r.return)&&i.call(r),0):r.next)&&!(i=i.call(r,o[1])).done)return i;switch(r=0,i&&(o=[2&o[0],i.value]),o[0]){case 0:case 1:i=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,r=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(!((i=(i=a.trys).length>0&&i[i.length-1])||6!==o[0]&&2!==o[0])){a=0;continue}if(3===o[0]&&(!i||o[1]>i[0]&&o[1]<i[3])){a.label=o[1];break}if(6===o[0]&&a.label<i[1]){a.label=i[1],i=o;break}if(i&&a.label<i[2]){a.label=i[2],a.ops.push(o);break}i[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],r=0}finally{n=i=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}([o,s])}}}(this,(function(n){switch(n.label){case 0:return e={id:"5*",text:"item #5 *"},(t=this.datasource.adapter).remove((function(t){var e=t.$index;return e>4&&e<8})),[4,t.relax()];case 1:return n.sent(),t.insert({items:[e],after:function(t){return 4===t.$index}}),[2]}}))},new((e=void 0)||(e=Promise))((function(r,i){function o(t){try{s(n.next(t))}catch(e){i(e)}}function a(t){try{s(n.throw(t))}catch(e){i(e)}}function s(t){var n;t.done?r(t.value):(n=t.value,n instanceof e?n:new e((function(t){t(n)}))).then(o,a)}s((n=n.apply(t,[])).next())}));var t,e,n},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-adapter-relax"]],decls:37,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""],["href","#/adapter#return-value"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"div",2),ja(3,"Available since v1.7.0, undocumented"),ra(),na(4,"button",3),ua("click",(function(){return e.doReplace()})),ja(5,"replace (5, 6, 7) with (5 *)"),ra(),ra(),na(6,"div",4),na(7,"p"),ja(8," The purpose of "),na(9,"em"),ja(10,"Adapter.relax"),ra(),ja(11," method is to make sure that the "),na(12,"em"),ja(13,"uiScroll"),ra(),ja(14,' relaxes and there are no internal processes working at the moment we need to run some logic. Basically, it may be treated as a shortcut for the following approach, which is presented on "Is\xa0loading" tab: '),ra(),na(15,"pre"),ja(16),ra(),na(17,"p"),ja(18," The "),na(19,"em"),ja(20,"Adapter.relax"),ra(),ja(21,' method accepts 1 optional argument, it is a callback that allow to run necessary logic right before resolving "relax" promise. This might be helpful if we don\'t want to wait until the end of the call stack. The "Relax cb" tab shows the difference between "await" and "callback" approaches. '),ra(),na(22,"p"),ja(23," This sample is quite artificial, because for 2 manual operations (remove and insert) the second one can be done safely by using "),na(24,"a",5),ja(25,"Return value"),ra(),ja(26," API, which is a part of each "),na(27,"em"),ja(28,"Adapter"),ra(),ja(29,' method. This approach is demonstrated on the last tab "Return". '),ra(),na(30,"p"),ja(31," But the point is that the first manual operation also might require safe call. If we have a chance that there are some pending processes at the moment we are going to run the "),na(32,"em"),ja(33,"Adapter"),ra(),ja(34,' method, then we should wait until these processes are done. The "Is loading" approach is about it. But having the "Relax" shortcut we may make our life easier. '),ra(),na(35,"pre"),ja(36),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(16),za(e.isLoadingSample),Lr(20),za(e.relaxSample))},directives:[lb],encapsulation:2}),t}(),uw=function(){function t(){var t=this;this.demoContext={scope:"experimental",title:"Inverse setting",titleId:"inverse-setting",addClass:"inverse",noInfo:!0},this.MIN=1,this.MAX=5,this.datasource={get:function(e,n,r){var i=[],o=Math.max(t.MIN,e),a=Math.min(e+n-1,t.MAX);if(o<=a)for(var s=o;s<=a;s++)i.push({id:s,text:"item #"+s});r(i)},settings:{inverse:!0}},this.sources=[{name:Wy.Datasource,text:"MIN = 1;\nMAX = 5;\n\ndatasource: IDatasource = {\n  get: (index, count, success) => {\n    const data = [];\n    const start = Math.max(this.MIN, index);\n    const end = Math.min(index + count - 1, this.MAX);\n    if (start <= end) {\n      for (let i = start; i <= end; i++) {\n        data.push({ id: i, text: 'item #' + i });\n      }\n    }\n    success(data);\n  },\n  settings: {\n    inverse: true\n  }\n};"},{name:Wy.Styles,text:".viewport div[data-padding-backward] {\n  background-color: #e1f0ff;\n}\n.item {\n  background-color: #bcdeff;\n}"}]}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-inverse-setting"]],decls:20,vars:3,consts:[[3,"datasource","context","sources"],["actions","",1,"comment"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),ja(2,"Available since v1.3.4, undocumented"),ra(),na(3,"div",2),na(4,"p"),ja(5," When there is a lack of items in the viewport, the "),na(6,"em"),ja(7,"uiScroll"),ra(),ja(8," sets the height of the forward padding element to some value enough to fill the viewport. This is default behavior, and this can be changed with the help of "),na(9,"em"),ja(10,"inverse"),ra(),ja(11," setting. "),ra(),na(12,"p"),ja(13," When "),na(14,"em"),ja(15,"inverse"),ra(),ja(16," setting is set to "),na(17,"em"),ja(18,"true"),ra(),ja(19,", the backward padding element will have a priority over the forward one, and it will be stretched if there are not enough items in the viewport. "),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),cw=function(){function t(){this.demoContext={scope:"experimental",title:"Adapter fix scroll position",titleId:"adapter-fix-position",noInfo:!0},this.datasource=new rf({get:function(t,e,n){for(var r=[],i=t;i<t+e;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Wy.Template,text:'<button (click)="scrollTop()">scroll top</button>\n<button (click)="scrollBottom()">scroll bottom</button>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Component,text:"datasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\n  scrollTop() {\n    this.datasource.adapter.fix({ scrollPosition: 0 });\n  }\n\n  scrollBottom() {\n    this.datasource.adapter.fix({ scrollPosition: +Infinity });\n  }\n"}],this.adapterFixPosition="Adapter.fix({ scrollPosition: 0 })"}return t.prototype.scrollTop=function(){this.datasource.adapter.fix({scrollPosition:0})},t.prototype.scrollBottom=function(){this.datasource.adapter.fix({scrollPosition:1/0})},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-adapter-fix-position"]],decls:54,vars:3,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["description",""]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"div",2),ja(3,"Available since v1.2.4, undocumented"),ra(),na(4,"button",3),ua("click",(function(){return e.scrollTop()})),ja(5,"scroll top"),ra(),na(6,"button",3),ua("click",(function(){return e.scrollBottom()})),ja(7,"scroll bottom"),ra(),ra(),na(8,"div",4),na(9,"p"),ja(10," The first option of "),na(11,"em"),ja(12,"Adapter.fix"),ra(),ja(13," method is "),na(14,"em"),ja(15,"scrollPosition"),ra(),ja(16,". It allows to change the position of the viewport's scrollbar programmatically. It is used in the lib tests. "),ra(),na(17,"p"),ja(18," The value of "),na(19,"em"),ja(20,"scrollPosition"),ra(),ja(21," should be an integer or Infinity. Negative value would be treated as zero. Despite the browsers have no agreement on how to deal with setting "),na(22,"em"),ja(23,"scrollTop"),ra(),ja(24,"/"),na(25,"em"),ja(26,"scrollLeft"),ra(),ja(27," properties into "),na(28,"em"),ja(29,"+/-Infinity"),ra(),ja(30,", the "),na(31,"em"),ja(32,"uiScroll"),ra(),ja(33," treats them as follows: "),ra(),na(34,"ul"),na(35,"li"),ja(36," scroll to the beginning of the viewport if "),na(37,"em"),ja(38,"-Infinity"),ra(),ja(39,", (the value will be set to "),na(40,"em"),ja(41,"0"),ra(),ja(42,") "),ra(),na(43,"li"),ja(44," scroll to the end of the viewport if "),na(45,"em"),ja(46,"Infinity"),ra(),ja(47," (scroll position will be set into the viewport's "),na(48,"em"),ja(49,"scrollHeight"),ra(),ja(50," or "),na(51,"em"),ja(52,"scrollWidth"),ra(),ja(53," value) "),ra(),ra(),ra(),ra()),2&t&&ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources)},directives:[lb],encapsulation:2}),t}(),lw=function(){function t(){this.demoContext={scope:"experimental",title:"Adapter fix updater",titleId:"adapter-fix-updater",noInfo:!0},this.datasource=new rf({get:function(t,e,n){for(var r=[],i=t;i<t+e;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Wy.Template,text:'<button (click)="doUpdate()">Update</button> item #\n<input [(ngModel)]="inputValue" size="2">\n<div>Items in buffer: {{this.countItems()}}</div>\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Component,text:"inputValue = '5'\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoUpdate() {\n  const index = Number(this.inputValue);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      updater: ({ $index, data }) => {\n        if (index === $index) {\n          data.text += '*';\n        }\n      }\n    });\n  }\n}\n\ncountItems() {\n  let count = 0;\n  this.datasource.adapter.fix({\n    updater: ({}) => count++\n  });\n  return count;\n}\n"}],this.itemAdapterDescription="  ItemAdapter {\n    $index: number;\n    data: any;\n    element?: HTMLElement;\n  }",this.adapterFixUpdater="Adapter.fix({ updater })",this.inputValue="5"}return t.prototype.doUpdate=function(){var t=Number(this.inputValue);isNaN(t)||this.datasource.adapter.fix({updater:function(e){t===e.$index&&(e.data.text+="*")}})},t.prototype.countItems=function(){var t=0;return this.datasource.adapter.fix({updater:function(e){return t++}}),t},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-adapter-fix-updater"]],decls:83,vars:6,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["description",""],["href","#/adapter#append-prepend-sync"],["href","#/adapter#remove"],["href","#/adapter#insert"],["href","#/adapter#items-count"],["href","https://github.com/dhilt/ngx-ui-scroll/pull/127"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"div",2),ja(3,"Available since v1.3.1, undocumented"),ra(),na(4,"button",3),ua("click",(function(){return e.doUpdate()})),ja(5,"Update"),ra(),ja(6," item # "),na(7,"input",4),ua("ngModelChange",(function(t){return e.inputValue=t})),ra(),na(8,"div"),ja(9),ra(),ra(),na(10,"div",5),na(11,"p"),na(12,"em"),ja(13,"Adapter.fix"),ra(),ja(14," method could be invoked with "),na(15,"em"),ja(16,"updater"),ra(),ja(17," option which is a function that is applied to each element in current "),na(18,"em"),ja(19,"uiScroll"),ra(),ja(20," buffer list and allows to update buffered items on the fly. The argument of the "),na(21,"em"),ja(22,"updater"),ra(),ja(23," function is an object of special "),na(24,"em"),ja(25,"ItemAdapter"),ra(),ja(26," type "),ra(),na(27,"pre"),ja(28),ra(),na(29,"p"),ja(30," The "),na(31,"em"),ja(32,"data"),ra(),ja(33," is exactly what the "),na(34,"em"),ja(35,"Datasource"),ra(),ja(36," sends to the "),na(37,"em"),ja(38,"uiScroll"),ra(),ja(39," as the items contents. So we have an access to the items inside the "),na(40,"em"),ja(41,"uiScroll"),ra(),ja(42," buffer, and in this demo we update the "),na(43,"em"),ja(44,"text"),ra(),ja(45," of selected item by its index. If we destroy the updated item by scrolling out and then scroll back, we will see that our update is gone. Speaking generally, we need to care about datasource consistency and every update we want to be applied to the "),na(46,"em"),ja(47,"uiScroll"),ra(),ja(48," buffer should also happen at the datasource level. The examples of Datasource-Adapter synching can be found "),na(49,"a",6),ja(50,"here"),ra(),ja(51,", "),na(52,"a",7),ja(53,"here"),ra(),ja(54," and "),na(55,"a",8),ja(56,"here"),ra(),ja(57,". "),ra(),na(58,"p"),ja(59," The "),na(60,"em"),ja(61,"Adapter.fix({ updater })"),ra(),ja(62," usage can be very diverse. For example, we may not change anything in the buffer, but gather some statistic. In this demo "),na(63,"em"),ja(64,"countItems"),ra(),ja(65," method uses "),na(66,"em"),ja(67,"updater"),ra(),ja(68," to get a number of items in the buffer at a particular moment. The result is equal to the value of "),na(69,"em"),ja(70,"Adapter.itemsCount"),ra(),ja(71," read-only property ("),na(72,"a",9),ja(73,"link"),ra(),ja(74,"). Also, I would not recommend to bind "),na(75,"em"),ja(76,"countItems"),ra(),ja(77,"-like methods with the template as it is in this demo, for it might affect the performance. "),ra(),na(78,"p"),ja(79," See also the "),na(80,"a",10),ja(81,"PR description"),ra(),ja(82," as it might shed additional light on this feature. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(7),ta("ngModel",e.inputValue),Lr(2),La("Items in buffer: ",e.countItems(),""),Lr(19),za(e.itemAdapterDescription))},directives:[lb,zl,Bl,Vd],encapsulation:2}),t}(),dw=function(){function t(){this.demoContext={scope:"experimental",title:"Adapter fix scrollToItem",titleId:"adapter-fix-scrollToItem",noInfo:!0},this.datasource=new rf({get:function(t,e,n){for(var r=[],i=t;i<t+e;i++)r.push({id:i,text:"item #"+i});n(r)}}),this.sources=[{name:Wy.Template,text:'<button (click)="doScrollTo()">Scroll to</button> item #\n<input [(ngModel)]="index" size="2">\n<input type="checkbox" [(ngModel)]="scrollToBottom"> - scroll to bottom\n\n<div class="viewport">\n  <div *uiScroll="let item of datasource">\n    <div class="item">{{item.text}}</div>\n  </div>\n</div>'},{name:Wy.Component,text:"index = '5'\nscrollToBottom = false;\n\ndatasource = new Datasource({\n  get: (index, count, success) => {\n    const data = [];\n    for (let i = index; i < index + count; i++) {\n      data.push({ id: i, text: 'item #' + i });\n    }\n    success(data);\n  }\n});\n\ndoScrollTo() {\n  const index = Number(this.index);\n  const alignToTop = !Boolean(this.scrollToBottom);\n  if (!isNaN(index)) {\n    this.datasource.adapter.fix({\n      scrollToItem: ({ data }) => data.id === index,\n      scrollToItemOpt: alignToTop\n    });\n  }\n}\n"}],this.adapterFixUpdater="Adapter.fix({ scrollToItem })",this.index="5",this.scrollToBottom=!1}return t.prototype.doScrollTo=function(){var t=Number(this.index),e=!Boolean(this.scrollToBottom);isNaN(t)||this.datasource.adapter.fix({scrollToItem:function(e){return e.data.id===t},scrollToItemOpt:e})},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-adapter-fix-scroll-to-item"]],decls:34,vars:5,consts:[[3,"datasource","context","sources"],["actions",""],[1,"comment"],[3,"click"],["size","2",3,"ngModel","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],["description",""],["href","https://developer.mozilla.org/en-US/docs/Web/API/Element/scrollIntoView"]],template:function(t,e){1&t&&(na(0,"app-demo",0),na(1,"div",1),na(2,"div",2),ja(3,"Available since v1.6.2, undocumented"),ra(),na(4,"button",3),ua("click",(function(){return e.doScrollTo()})),ja(5,"Scroll to"),ra(),ja(6," item # "),na(7,"input",4),ua("ngModelChange",(function(t){return e.index=t})),ra(),ia(8,"br"),na(9,"input",5),ua("ngModelChange",(function(t){return e.scrollToBottom=t})),ra(),ja(10," - scroll to bottom "),ra(),na(11,"div",6),na(12,"p"),ja(13," What if we want to scroll to a specific item in the viewport? This can be done via "),na(14,"em"),ja(15,"scrollToItem"),ra(),ja(16," option of the "),na(17,"em"),ja(18,"Adapter.fix"),ra(),ja(19," method. This option specifies an item predicate function, and the first item in the Buffer, that satisfies this predicate, will be the item to which the viewport will scroll. "),ra(),na(20,"p"),ja(21," Scrolling is performed via "),na(22,"em"),ja(23,"element.scrollIntoView()"),ra(),ja(24," native DOM Element interface's method. According to its specification, it accepts 1 optional argument which can be a Boolean parameter or special Object parameter (details can be found on "),na(25,"a",7),ja(26,"MDN"),ra(),ja(27,"). To provide this option, the "),na(28,"em"),ja(29,"Adapter.fix"),ra(),ja(30," method handles another property of its argument object: "),na(31,"em"),ja(32,"scrollToItemOpt"),ra(),ja(33,". The demo shows how to use it. "),ra(),ra(),ra()),2&t&&(ta("datasource",e.datasource)("context",e.demoContext)("sources",e.sources),Lr(7),ta("ngModel",e.index),Lr(2),ta("ngModel",e.scrollToBottom))},directives:[lb,zl,Bl,Vd,Nl],encapsulation:2}),t}(),pw=function(){function t(){this.adapterFixArgumentDescription="  interface AdapterFixOptions {\n    scrollPosition?: number;\n    minIndex?: number;\n    maxIndex?: number;\n    updater?: (item: ItemAdapter) => any;\n    scrollToItem?: (item: ItemAdapter) => boolean;\n    scrollToItemOpt?: boolean | ScrollIntoViewOptions;\n  }"}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-experimental"]],decls:33,vars:1,consts:[["href","#/experimental#adapter-relax"],["href","#/experimental#inverse-setting"],["href","#/experimental#adapter-fix-position"],["href","#/experimental#adapter-fix-updater"],["href","#/experimental#adapter-fix-scrollToItem"]],template:function(t,e){1&t&&(na(0,"h1"),ja(1,"Angular UI Scroll Experimental Demos"),ra(),na(2,"p"),ja(3," There are some undocumented settings and Adapter methods that provide additional flexibility. We can consider them as experimental features. Most of these features are not tested well and may have some side effects or behave imperfectly.\n"),ra(),na(4,"ul"),na(5,"li"),na(6,"a",0),ja(7,"relax adapter method"),ra(),ra(),na(8,"li"),na(9,"a",1),ja(10,"inverse setting"),ra(),ra(),na(11,"li"),ja(12,"fix adapter method: "),na(13,"a",2),ja(14,"position"),ra(),ja(15,", "),na(16,"a",3),ja(17,"updater"),ra(),ja(18,", "),na(19,"a",4),ja(20,"scroll to item"),ra(),ra(),ra(),na(21,"p"),ja(22," For example, "),na(23,"em"),ja(24,"Adapter.fix"),ra(),ja(25," method. It has different options for different cases which are discussed below. These options are passed as an object of the following type:\n"),ra(),na(26,"pre"),ja(27),ra(),ia(28,"app-adapter-relax"),ia(29,"app-inverse-setting"),ia(30,"app-adapter-fix-position"),ia(31,"app-adapter-fix-updater"),ia(32,"app-adapter-fix-scroll-to-item")),2&t&&(Lr(27),za(e.adapterFixArgumentDescription))},directives:[sw,uw,cw,lw,dw],encapsulation:2}),t}();function fw(t,e){if(1&t&&(na(0,"div",4),na(1,"b"),ja(2),ra(),na(3,"span"),ja(4),ra(),ra()),2&t){var n=e.$implicit;Lr(2),za(n.text),Lr(1),Ia("color",n.color),Lr(1),La(" ",n.data," ")}}function hw(t,e){if(1&t&&(na(0,"div"),Xo(1,fw,5,4,"div",3),ra()),2&t){var n=da();Lr(1),ta("uiScrollOf",n.datasource)}}var mw=function(){function t(){var t=this;this.datasource={get:function(t,e,n){var r=Math.max(t,1),i=Math.min(t+e-1,1e3),o=[];if(r<=i)for(var a=r;a<=i;a++){var s={data:"",text:"item #"+a,color:"black",height:20};a%15==0&&(s.data=Array.from({length:7*Math.random()+3},(function(t,e){return"*"})).join(""),s.color=a%30==0?"red":"black"),o.push(s)}n(o)},settings:{startIndex:1,padding:.25,bufferSize:1,itemSize:20,minIndex:1,windowViewport:!0}},setTimeout((function(){return t.init=!0}))}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-samples-window"]],decls:6,vars:1,consts:[[1,"header"],["routerLink","/",1,"navbar-link"],[4,"ngIf"],["style","height: 20px;",4,"uiScroll","uiScrollOf"],[2,"height","20px"]],template:function(t,e){1&t&&(na(0,"div",0),na(1,"h1"),ja(2,"Entire window scrolling demo"),ra(),na(3,"a",1),ja(4,"Home"),ra(),ra(),Xo(5,hw,2,1,"div",2)),2&t&&(Lr(5),ta("ngIf",e.init))},directives:[vy,Gc,fm],encapsulation:2}),t}(),vw=["*"];function gw(t,e){if(1&t){var n=oa();na(0,"div",1),ua("click",(function(){en(n);var t=e.$implicit;return da().doToggleItem(t)})),na(1,"app-samples-test-inner"),ja(2),na(3,"span"),ja(4),ra(),ra(),ra()}if(2&t){var r=e.$implicit;Ia("height",r.height+"px"),Lr(2),La(" ",r.text," "),Lr(1),Ia("color",r.color),Lr(1),La(" ",r.isSelected?"********":""," ")}}var yw=-199,bw=function(){function t(){}return t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-samples-test-inner"]],ngContentSelectors:vw,decls:2,vars:0,template:function(t,e){1&t&&(fa(),na(0,"b"),ha(1),ra())},encapsulation:2}),t}(),ww=[{path:"",component:hb},{path:"settings",component:Eb},{path:"adapter",component:Xb},{path:"datasource",component:aw},{path:"experimental",component:pw},{path:"window",component:mw},{path:"test",component:function(){function t(){var t=this;this.reloadIndex=1,this.sizeIndex=1,this.sizeValue=10,this.datasourceDelay=0,this.datasource=new rf({get:function(e,n){return t.fetchData(e,n)},settings:{padding:.1,bufferSize:10,itemSize:100,startIndex:1},devSettings:{debug:!0,immediateLog:!0,logTime:!1,logProcessRun:!0,throttle:40,changeOverflow:!1}}),this.generateData()}return t.prototype.generateData=function(){this.data=[];for(var t=0;t<=50-yw;t++){var e={id:t+yw,text:"item #"+(t+yw),isSelected:t%15==0,height:Math.max(5,20+t+yw)};e.isSelected&&(e.data=Array.from({length:7*Math.random()+3},(function(t,e){return"*"})).join(""),e.color=t%30==0?"red":"black"),this.data.push(e)}},t.prototype.fetchData=function(t,e){var n=this,r=[],i=Math.max(yw,t),o=Math.min(50,t+e-1);if(i<=o)for(var a=i;a<=o;a++)r.push(this.data[a-yw]);return new k((function(t){n.datasourceDelay?setTimeout((function(){return t.next(r)}),n.datasourceDelay):t.next(r)}))},t.prototype.getVisibleItemsCount=function(){var t=this.datasource.adapter,e=t.lastVisible.$index;e=Number.isInteger(e)?e:NaN;var n=t.firstVisible.$index;return n=Number.isInteger(n)?n:NaN,Number.isNaN(e)||Number.isNaN(n)?0:e-n+1},t.prototype.getViewportElement=function(){return document.getElementsByClassName("viewport")[0]},t.prototype.doScroll=function(t,e,n){var r=this,i=this.getViewportElement();setTimeout((function(){i.scrollTop-=n,--t>0&&r.doScroll(t,e,n)}),e)},t.prototype.doReload=function(){this.datasource.adapter.reload(this.reloadIndex)},t.prototype.doPrepend=function(){var t={id:--yw,text:"item #"+yw,isSelected:!1,height:25};this.data.unshift(t),this.datasource.adapter.prepend(t,!0)},t.prototype.doScrollHome=function(){this.getViewportElement().scrollTop=0},t.prototype.doScrollEnd=function(){this.getViewportElement().scrollTop=999999},t.prototype.doScrollSome=function(){var t=this.getViewportElement().scrollTop;this.getViewportElement().scrollTop=t+300},t.prototype.doChangeSize=function(){var t=document.getElementById("my-viewport"),e=Number(this.sizeIndex);if(!isNaN(e)&&t){for(var n=function(e){var n=t.querySelector('[data-sid="'+e+'"]');if(n){n.style.height=r.sizeValue+"px";var i=r.data.find((function(t){return t.id===e}));i&&(i.height=r.sizeValue)}},r=this,i=e;i<e+5;i++)n(i);this.datasource.adapter.check()}},t.prototype.doLog=function(){this.datasource.adapter.showLog()},t.prototype.doToggleItem=function(t){this.datasource.adapter.fix({updater:function(e){t.id===e.data.id&&(e.data.isSelected=!e.data.isSelected)}})},t.prototype.autoscroll=function(){var t=this.datasource.adapter,e=t.isLoading$.subscribe((function(n){var r=document.getElementById("my-viewport"),i=t.lastVisible.element;if(!n&&r&&i&&i.getBoundingClientRect){var o=i.getBoundingClientRect().bottom,a=r.getBoundingClientRect().bottom,s=r.scrollTop-(a-o);r.scrollTop===s?e.unsubscribe():(t.fix({scrollPosition:s}),r.scrollTop===s&&e.unsubscribe())}}))},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=be({type:t,selectors:[["app-samples-test"]],decls:50,vars:19,consts:[[2,"width","50px",3,"ngModel","ngModelChange"],[3,"click"],["id","my-viewport",1,"viewport",2,"height","600px"],[3,"height","click",4,"uiScroll","uiScrollOf"]],template:function(t,e){var n,r;1&t&&(na(0,"div"),na(1,"input",0),ua("ngModelChange",(function(t){return e.datasourceDelay=t})),ra(),ja(2," - "),na(3,"small"),ja(4,"datasource delay"),ra(),ia(5,"br"),na(6,"input",0),ua("ngModelChange",(function(t){return e.reloadIndex=t})),ra(),ja(7," - "),na(8,"small"),ja(9,"reload index"),ra(),ia(10,"br"),na(11,"button",1),ua("click",(function(){return e.doReload()})),ja(12,"Reload"),ra(),na(13,"button",1),ua("click",(function(){return e.doPrepend()})),ja(14,"Prepend"),ra(),na(15,"button",1),ua("click",(function(){return e.doLog()})),ja(16,"Show log"),ra(),ia(17,"br"),na(18,"button",1),ua("click",(function(){return e.doScrollHome()})),ja(19,"Up"),ra(),na(20,"button",1),ua("click",(function(){return e.doScrollEnd()})),ja(21,"Down"),ra(),na(22,"button",1),ua("click",(function(){return e.doScrollSome()})),ja(23,"Some"),ra(),ia(24,"br"),na(25,"input",0),ua("ngModelChange",(function(t){return e.sizeIndex=t})),ra(),na(26,"button",1),ua("click",(function(){return e.doChangeSize()})),ja(27,"Size"),ra(),ia(28,"br"),na(29,"small"),ja(30),ra(),ia(31,"br"),na(32,"small"),ja(33),ru(34,"async"),ra(),ia(35,"br"),na(36,"small"),ja(37),ru(38,"async"),ra(),ia(39,"br"),na(40,"small"),ja(41),ru(42,"async"),ra(),ia(43,"br"),na(44,"small"),ja(45),ra(),ia(46,"br"),ia(47,"br"),ra(),na(48,"div",2),Xo(49,gw,5,6,"div",3),ra()),2&t&&(Lr(1),ta("ngModel",e.datasourceDelay),Lr(5),ta("ngModel",e.reloadIndex),Lr(19),ta("ngModel",e.sizeIndex),Lr(5),La("ngx-ui-scroll version: ",e.datasource.adapter.version,""),Lr(3),Fa("isLoading: ",e.datasource.adapter.isLoading," (",iu(34,13,e.datasource.adapter.isLoading$),") "),Lr(4),Fa("first visible: ",e.datasource.adapter.firstVisible.$index," (",null==(n=iu(38,15,e.datasource.adapter.firstVisible$))?null:n.$index,") "),Lr(4),Fa("last visible: ",e.datasource.adapter.lastVisible.$index," (",null==(r=iu(42,17,e.datasource.adapter.lastVisible$))?null:r.$index,") "),Lr(4),Fa("total: ",e.datasource.adapter.itemsCount,", visible: ",e.getVisibleItemsCount()," "),Lr(4),ta("uiScrollOf",e.datasource))},directives:[zl,Bl,Vd,fm,bw],pipes:[el],encapsulation:2}),t}()},{path:"**",redirectTo:"",pathMatch:"full"}],xw=function(){function t(){}return t.\u0275mod=Ce({type:t}),t.\u0275inj=yt({factory:function(e){return new(e||t)},imports:[[Dy.forRoot(ww,{useHash:!0})],Dy]}),t}(),_w=function(){function t(){}return t.\u0275mod=Ce({type:t,bootstrap:[qy]}),t.\u0275inj=yt({factory:function(e){return new(e||t)},providers:[db],imports:[[Pl,zd,xp,Op.forRoot(),Pp,xw]]}),t}();(function(){if(gr)throw new Error("Cannot enable prod mode after platform setup.");vr=!1})(),Al().bootstrapModule(_w).catch((function(t){return console.log(t)}))},0:function(t,e,n){t.exports=n("/o+h")},RnVd:function(t,e){function n(t){return Promise.resolve().then((function(){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}))}n.keys=function(){return[]},n.resolve=n,t.exports=n,n.id="RnVd"}},[[0,0]]]);
//# sourceMappingURL=main.1fd70daf30789366c00f.js.map